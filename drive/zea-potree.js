(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["ZeaPotree"] = factory();
	else
		root["ZeaPotree"] = factory();
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/zea/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./libs/other/BinaryHeap.js":
/*!**********************************!*\
  !*** ./libs/other/BinaryHeap.js ***!
  \**********************************/
/*! exports provided: BinaryHeap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BinaryHeap\", function() { return BinaryHeap; });\n/*\r\n** Binary Heap implementation in Javascript\r\n** From: http://eloquentjavascript.net/1st_edition/appendix2.htmlt\r\n**\r\n** Copyright (c) 2007 Marijn Haverbeke, last modified on November 28 2013.\r\n**\r\n** Licensed under a Creative Commons attribution-noncommercial license. \r\n** All code in this book may also be considered licensed under an MIT license.\r\n*/\r\n\r\n\r\n\r\nfunction BinaryHeap(scoreFunction){\r\n  this.content = [];\r\n  this.scoreFunction = scoreFunction;\r\n}\r\n\r\nBinaryHeap.prototype = {\r\n  push: function(element) {\r\n    // Add the new element to the end of the array.\r\n    this.content.push(element);\r\n    // Allow it to bubble up.\r\n    this.bubbleUp(this.content.length - 1);\r\n  },\r\n\r\n  pop: function() {\r\n    // Store the first element so we can return it later.\r\n    var result = this.content[0];\r\n    // Get the element at the end of the array.\r\n    var end = this.content.pop();\r\n    // If there are any elements left, put the end element at the\r\n    // start, and let it sink down.\r\n    if (this.content.length > 0) {\r\n      this.content[0] = end;\r\n      this.sinkDown(0);\r\n    }\r\n    return result;\r\n  },\r\n\r\n  remove: function(node) {\r\n    var length = this.content.length;\r\n    // To remove a value, we must search through the array to find\r\n    // it.\r\n    for (var i = 0; i < length; i++) {\r\n      if (this.content[i] != node) continue;\r\n      // When it is found, the process seen in 'pop' is repeated\r\n      // to fill up the hole.\r\n      var end = this.content.pop();\r\n      // If the element we popped was the one we needed to remove,\r\n      // we're done.\r\n      if (i == length - 1) break;\r\n      // Otherwise, we replace the removed element with the popped\r\n      // one, and allow it to float up or sink down as appropriate.\r\n      this.content[i] = end;\r\n      this.bubbleUp(i);\r\n      this.sinkDown(i);\r\n      break;\r\n    }\r\n  },\r\n\r\n  size: function() {\r\n    return this.content.length;\r\n  },\r\n\r\n  bubbleUp: function(n) {\r\n    // Fetch the element that has to be moved.\r\n    var element = this.content[n], score = this.scoreFunction(element);\r\n    // When at 0, an element can not go up any further.\r\n    while (n > 0) {\r\n      // Compute the parent element's index, and fetch it.\r\n      var parentN = Math.floor((n + 1) / 2) - 1,\r\n      parent = this.content[parentN];\r\n      // If the parent has a lesser score, things are in order and we\r\n      // are done.\r\n      if (score >= this.scoreFunction(parent))\r\n        break;\r\n\r\n      // Otherwise, swap the parent with the current element and\r\n      // continue.\r\n      this.content[parentN] = element;\r\n      this.content[n] = parent;\r\n      n = parentN;\r\n    }\r\n  },\r\n\r\n  sinkDown: function(n) {\r\n    // Look up the target element and its score.\r\n    var length = this.content.length,\r\n    element = this.content[n],\r\n    elemScore = this.scoreFunction(element);\r\n\r\n    while(true) {\r\n      // Compute the indices of the child elements.\r\n      var child2N = (n + 1) * 2, child1N = child2N - 1;\r\n      // This is used to store the new position of the element,\r\n      // if any.\r\n      var swap = null;\r\n      // If the first child exists (is inside the array)...\r\n      if (child1N < length) {\r\n        // Look it up and compute its score.\r\n        var child1 = this.content[child1N],\r\n        child1Score = this.scoreFunction(child1);\r\n        // If the score is less than our element's, we need to swap.\r\n        if (child1Score < elemScore)\r\n          swap = child1N;\r\n      }\r\n      // Do the same checks for the other child.\r\n      if (child2N < length) {\r\n        var child2 = this.content[child2N],\r\n        child2Score = this.scoreFunction(child2);\r\n        if (child2Score < (swap == null ? elemScore : child1Score))\r\n          swap = child2N;\r\n      }\r\n\r\n      // No need to swap further, we are done.\r\n      if (swap == null) break;\r\n\r\n      // Otherwise, swap and continue.\r\n      this.content[n] = this.content[swap];\r\n      this.content[swap] = element;\r\n      n = swap;\r\n    }\r\n  }\r\n};\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9saWJzL290aGVyL0JpbmFyeUhlYXAuanM/MzJjYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFlBQVk7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVxQiIsImZpbGUiOiIuL2xpYnMvb3RoZXIvQmluYXJ5SGVhcC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbioqIEJpbmFyeSBIZWFwIGltcGxlbWVudGF0aW9uIGluIEphdmFzY3JpcHRcclxuKiogRnJvbTogaHR0cDovL2Vsb3F1ZW50amF2YXNjcmlwdC5uZXQvMXN0X2VkaXRpb24vYXBwZW5kaXgyLmh0bWx0XHJcbioqXHJcbioqIENvcHlyaWdodCAoYykgMjAwNyBNYXJpam4gSGF2ZXJiZWtlLCBsYXN0IG1vZGlmaWVkIG9uIE5vdmVtYmVyIDI4IDIwMTMuXHJcbioqXHJcbioqIExpY2Vuc2VkIHVuZGVyIGEgQ3JlYXRpdmUgQ29tbW9ucyBhdHRyaWJ1dGlvbi1ub25jb21tZXJjaWFsIGxpY2Vuc2UuIFxyXG4qKiBBbGwgY29kZSBpbiB0aGlzIGJvb2sgbWF5IGFsc28gYmUgY29uc2lkZXJlZCBsaWNlbnNlZCB1bmRlciBhbiBNSVQgbGljZW5zZS5cclxuKi9cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gQmluYXJ5SGVhcChzY29yZUZ1bmN0aW9uKXtcclxuICB0aGlzLmNvbnRlbnQgPSBbXTtcclxuICB0aGlzLnNjb3JlRnVuY3Rpb24gPSBzY29yZUZ1bmN0aW9uO1xyXG59XHJcblxyXG5CaW5hcnlIZWFwLnByb3RvdHlwZSA9IHtcclxuICBwdXNoOiBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAvLyBBZGQgdGhlIG5ldyBlbGVtZW50IHRvIHRoZSBlbmQgb2YgdGhlIGFycmF5LlxyXG4gICAgdGhpcy5jb250ZW50LnB1c2goZWxlbWVudCk7XHJcbiAgICAvLyBBbGxvdyBpdCB0byBidWJibGUgdXAuXHJcbiAgICB0aGlzLmJ1YmJsZVVwKHRoaXMuY29udGVudC5sZW5ndGggLSAxKTtcclxuICB9LFxyXG5cclxuICBwb3A6IGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gU3RvcmUgdGhlIGZpcnN0IGVsZW1lbnQgc28gd2UgY2FuIHJldHVybiBpdCBsYXRlci5cclxuICAgIHZhciByZXN1bHQgPSB0aGlzLmNvbnRlbnRbMF07XHJcbiAgICAvLyBHZXQgdGhlIGVsZW1lbnQgYXQgdGhlIGVuZCBvZiB0aGUgYXJyYXkuXHJcbiAgICB2YXIgZW5kID0gdGhpcy5jb250ZW50LnBvcCgpO1xyXG4gICAgLy8gSWYgdGhlcmUgYXJlIGFueSBlbGVtZW50cyBsZWZ0LCBwdXQgdGhlIGVuZCBlbGVtZW50IGF0IHRoZVxyXG4gICAgLy8gc3RhcnQsIGFuZCBsZXQgaXQgc2luayBkb3duLlxyXG4gICAgaWYgKHRoaXMuY29udGVudC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHRoaXMuY29udGVudFswXSA9IGVuZDtcclxuICAgICAgdGhpcy5zaW5rRG93bigwKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfSxcclxuXHJcbiAgcmVtb3ZlOiBmdW5jdGlvbihub2RlKSB7XHJcbiAgICB2YXIgbGVuZ3RoID0gdGhpcy5jb250ZW50Lmxlbmd0aDtcclxuICAgIC8vIFRvIHJlbW92ZSBhIHZhbHVlLCB3ZSBtdXN0IHNlYXJjaCB0aHJvdWdoIHRoZSBhcnJheSB0byBmaW5kXHJcbiAgICAvLyBpdC5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKHRoaXMuY29udGVudFtpXSAhPSBub2RlKSBjb250aW51ZTtcclxuICAgICAgLy8gV2hlbiBpdCBpcyBmb3VuZCwgdGhlIHByb2Nlc3Mgc2VlbiBpbiAncG9wJyBpcyByZXBlYXRlZFxyXG4gICAgICAvLyB0byBmaWxsIHVwIHRoZSBob2xlLlxyXG4gICAgICB2YXIgZW5kID0gdGhpcy5jb250ZW50LnBvcCgpO1xyXG4gICAgICAvLyBJZiB0aGUgZWxlbWVudCB3ZSBwb3BwZWQgd2FzIHRoZSBvbmUgd2UgbmVlZGVkIHRvIHJlbW92ZSxcclxuICAgICAgLy8gd2UncmUgZG9uZS5cclxuICAgICAgaWYgKGkgPT0gbGVuZ3RoIC0gMSkgYnJlYWs7XHJcbiAgICAgIC8vIE90aGVyd2lzZSwgd2UgcmVwbGFjZSB0aGUgcmVtb3ZlZCBlbGVtZW50IHdpdGggdGhlIHBvcHBlZFxyXG4gICAgICAvLyBvbmUsIGFuZCBhbGxvdyBpdCB0byBmbG9hdCB1cCBvciBzaW5rIGRvd24gYXMgYXBwcm9wcmlhdGUuXHJcbiAgICAgIHRoaXMuY29udGVudFtpXSA9IGVuZDtcclxuICAgICAgdGhpcy5idWJibGVVcChpKTtcclxuICAgICAgdGhpcy5zaW5rRG93bihpKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgc2l6ZTogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jb250ZW50Lmxlbmd0aDtcclxuICB9LFxyXG5cclxuICBidWJibGVVcDogZnVuY3Rpb24obikge1xyXG4gICAgLy8gRmV0Y2ggdGhlIGVsZW1lbnQgdGhhdCBoYXMgdG8gYmUgbW92ZWQuXHJcbiAgICB2YXIgZWxlbWVudCA9IHRoaXMuY29udGVudFtuXSwgc2NvcmUgPSB0aGlzLnNjb3JlRnVuY3Rpb24oZWxlbWVudCk7XHJcbiAgICAvLyBXaGVuIGF0IDAsIGFuIGVsZW1lbnQgY2FuIG5vdCBnbyB1cCBhbnkgZnVydGhlci5cclxuICAgIHdoaWxlIChuID4gMCkge1xyXG4gICAgICAvLyBDb21wdXRlIHRoZSBwYXJlbnQgZWxlbWVudCdzIGluZGV4LCBhbmQgZmV0Y2ggaXQuXHJcbiAgICAgIHZhciBwYXJlbnROID0gTWF0aC5mbG9vcigobiArIDEpIC8gMikgLSAxLFxyXG4gICAgICBwYXJlbnQgPSB0aGlzLmNvbnRlbnRbcGFyZW50Tl07XHJcbiAgICAgIC8vIElmIHRoZSBwYXJlbnQgaGFzIGEgbGVzc2VyIHNjb3JlLCB0aGluZ3MgYXJlIGluIG9yZGVyIGFuZCB3ZVxyXG4gICAgICAvLyBhcmUgZG9uZS5cclxuICAgICAgaWYgKHNjb3JlID49IHRoaXMuc2NvcmVGdW5jdGlvbihwYXJlbnQpKVxyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgLy8gT3RoZXJ3aXNlLCBzd2FwIHRoZSBwYXJlbnQgd2l0aCB0aGUgY3VycmVudCBlbGVtZW50IGFuZFxyXG4gICAgICAvLyBjb250aW51ZS5cclxuICAgICAgdGhpcy5jb250ZW50W3BhcmVudE5dID0gZWxlbWVudDtcclxuICAgICAgdGhpcy5jb250ZW50W25dID0gcGFyZW50O1xyXG4gICAgICBuID0gcGFyZW50TjtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBzaW5rRG93bjogZnVuY3Rpb24obikge1xyXG4gICAgLy8gTG9vayB1cCB0aGUgdGFyZ2V0IGVsZW1lbnQgYW5kIGl0cyBzY29yZS5cclxuICAgIHZhciBsZW5ndGggPSB0aGlzLmNvbnRlbnQubGVuZ3RoLFxyXG4gICAgZWxlbWVudCA9IHRoaXMuY29udGVudFtuXSxcclxuICAgIGVsZW1TY29yZSA9IHRoaXMuc2NvcmVGdW5jdGlvbihlbGVtZW50KTtcclxuXHJcbiAgICB3aGlsZSh0cnVlKSB7XHJcbiAgICAgIC8vIENvbXB1dGUgdGhlIGluZGljZXMgb2YgdGhlIGNoaWxkIGVsZW1lbnRzLlxyXG4gICAgICB2YXIgY2hpbGQyTiA9IChuICsgMSkgKiAyLCBjaGlsZDFOID0gY2hpbGQyTiAtIDE7XHJcbiAgICAgIC8vIFRoaXMgaXMgdXNlZCB0byBzdG9yZSB0aGUgbmV3IHBvc2l0aW9uIG9mIHRoZSBlbGVtZW50LFxyXG4gICAgICAvLyBpZiBhbnkuXHJcbiAgICAgIHZhciBzd2FwID0gbnVsbDtcclxuICAgICAgLy8gSWYgdGhlIGZpcnN0IGNoaWxkIGV4aXN0cyAoaXMgaW5zaWRlIHRoZSBhcnJheSkuLi5cclxuICAgICAgaWYgKGNoaWxkMU4gPCBsZW5ndGgpIHtcclxuICAgICAgICAvLyBMb29rIGl0IHVwIGFuZCBjb21wdXRlIGl0cyBzY29yZS5cclxuICAgICAgICB2YXIgY2hpbGQxID0gdGhpcy5jb250ZW50W2NoaWxkMU5dLFxyXG4gICAgICAgIGNoaWxkMVNjb3JlID0gdGhpcy5zY29yZUZ1bmN0aW9uKGNoaWxkMSk7XHJcbiAgICAgICAgLy8gSWYgdGhlIHNjb3JlIGlzIGxlc3MgdGhhbiBvdXIgZWxlbWVudCdzLCB3ZSBuZWVkIHRvIHN3YXAuXHJcbiAgICAgICAgaWYgKGNoaWxkMVNjb3JlIDwgZWxlbVNjb3JlKVxyXG4gICAgICAgICAgc3dhcCA9IGNoaWxkMU47XHJcbiAgICAgIH1cclxuICAgICAgLy8gRG8gdGhlIHNhbWUgY2hlY2tzIGZvciB0aGUgb3RoZXIgY2hpbGQuXHJcbiAgICAgIGlmIChjaGlsZDJOIDwgbGVuZ3RoKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkMiA9IHRoaXMuY29udGVudFtjaGlsZDJOXSxcclxuICAgICAgICBjaGlsZDJTY29yZSA9IHRoaXMuc2NvcmVGdW5jdGlvbihjaGlsZDIpO1xyXG4gICAgICAgIGlmIChjaGlsZDJTY29yZSA8IChzd2FwID09IG51bGwgPyBlbGVtU2NvcmUgOiBjaGlsZDFTY29yZSkpXHJcbiAgICAgICAgICBzd2FwID0gY2hpbGQyTjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTm8gbmVlZCB0byBzd2FwIGZ1cnRoZXIsIHdlIGFyZSBkb25lLlxyXG4gICAgICBpZiAoc3dhcCA9PSBudWxsKSBicmVhaztcclxuXHJcbiAgICAgIC8vIE90aGVyd2lzZSwgc3dhcCBhbmQgY29udGludWUuXHJcbiAgICAgIHRoaXMuY29udGVudFtuXSA9IHRoaXMuY29udGVudFtzd2FwXTtcclxuICAgICAgdGhpcy5jb250ZW50W3N3YXBdID0gZWxlbWVudDtcclxuICAgICAgbiA9IHN3YXA7XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IHsgQmluYXJ5SGVhcCB9XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./libs/other/BinaryHeap.js\n");

/***/ }),

/***/ "./node_modules/worker-loader/dist/cjs.js?inline!./src/workers/BinaryDecoderWorker.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/worker-loader/dist/cjs.js?inline!./src/workers/BinaryDecoderWorker.js ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = function() {\n  return __webpack_require__(/*! !./node_modules/worker-loader/dist/workers/InlineWorker.js */ \"./node_modules/worker-loader/dist/workers/InlineWorker.js\")(\"/******/ (function(modules) { // webpackBootstrap\\n/******/ \\t// The module cache\\n/******/ \\tvar installedModules = {};\\n/******/\\n/******/ \\t// The require function\\n/******/ \\tfunction __webpack_require__(moduleId) {\\n/******/\\n/******/ \\t\\t// Check if module is in cache\\n/******/ \\t\\tif(installedModules[moduleId]) {\\n/******/ \\t\\t\\treturn installedModules[moduleId].exports;\\n/******/ \\t\\t}\\n/******/ \\t\\t// Create a new module (and put it into the cache)\\n/******/ \\t\\tvar module = installedModules[moduleId] = {\\n/******/ \\t\\t\\ti: moduleId,\\n/******/ \\t\\t\\tl: false,\\n/******/ \\t\\t\\texports: {}\\n/******/ \\t\\t};\\n/******/\\n/******/ \\t\\t// Execute the module function\\n/******/ \\t\\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\\n/******/\\n/******/ \\t\\t// Flag the module as loaded\\n/******/ \\t\\tmodule.l = true;\\n/******/\\n/******/ \\t\\t// Return the exports of the module\\n/******/ \\t\\treturn module.exports;\\n/******/ \\t}\\n/******/\\n/******/\\n/******/ \\t// expose the modules object (__webpack_modules__)\\n/******/ \\t__webpack_require__.m = modules;\\n/******/\\n/******/ \\t// expose the module cache\\n/******/ \\t__webpack_require__.c = installedModules;\\n/******/\\n/******/ \\t// define getter function for harmony exports\\n/******/ \\t__webpack_require__.d = function(exports, name, getter) {\\n/******/ \\t\\tif(!__webpack_require__.o(exports, name)) {\\n/******/ \\t\\t\\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\\n/******/ \\t\\t}\\n/******/ \\t};\\n/******/\\n/******/ \\t// define __esModule on exports\\n/******/ \\t__webpack_require__.r = function(exports) {\\n/******/ \\t\\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\\n/******/ \\t\\t\\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\\n/******/ \\t\\t}\\n/******/ \\t\\tObject.defineProperty(exports, '__esModule', { value: true });\\n/******/ \\t};\\n/******/\\n/******/ \\t// create a fake namespace object\\n/******/ \\t// mode & 1: value is a module id, require it\\n/******/ \\t// mode & 2: merge all properties of value into the ns\\n/******/ \\t// mode & 4: return value when already ns object\\n/******/ \\t// mode & 8|1: behave like require\\n/******/ \\t__webpack_require__.t = function(value, mode) {\\n/******/ \\t\\tif(mode & 1) value = __webpack_require__(value);\\n/******/ \\t\\tif(mode & 8) return value;\\n/******/ \\t\\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\\n/******/ \\t\\tvar ns = Object.create(null);\\n/******/ \\t\\t__webpack_require__.r(ns);\\n/******/ \\t\\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\\n/******/ \\t\\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\\n/******/ \\t\\treturn ns;\\n/******/ \\t};\\n/******/\\n/******/ \\t// getDefaultExport function for compatibility with non-harmony modules\\n/******/ \\t__webpack_require__.n = function(module) {\\n/******/ \\t\\tvar getter = module && module.__esModule ?\\n/******/ \\t\\t\\tfunction getDefault() { return module['default']; } :\\n/******/ \\t\\t\\tfunction getModuleExports() { return module; };\\n/******/ \\t\\t__webpack_require__.d(getter, 'a', getter);\\n/******/ \\t\\treturn getter;\\n/******/ \\t};\\n/******/\\n/******/ \\t// Object.prototype.hasOwnProperty.call\\n/******/ \\t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\\n/******/\\n/******/ \\t// __webpack_public_path__\\n/******/ \\t__webpack_require__.p = \\\"\\\";\\n/******/\\n/******/\\n/******/ \\t// Load entry module and return exports\\n/******/ \\treturn __webpack_require__(__webpack_require__.s = \\\"./src/workers/BinaryDecoderWorker.js\\\");\\n/******/ })\\n/************************************************************************/\\n/******/ ({\\n\\n/***/ \\\"./src/InterleavedBuffer.js\\\":\\n/*!**********************************!*\\\\\\n  !*** ./src/InterleavedBuffer.js ***!\\n  \\\\**********************************/\\n/*! exports provided: InterleavedBufferAttribute, InterleavedBuffer */\\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\\n\\n\\\"use strict\\\";\\neval(\\\"__webpack_require__.r(__webpack_exports__);\\\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\\\\\"InterleavedBufferAttribute\\\\\\\", function() { return InterleavedBufferAttribute; });\\\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\\\\\"InterleavedBuffer\\\\\\\", function() { return InterleavedBuffer; });\\\\n\\\\r\\\\n\\\\r\\\\n\\\\r\\\\nclass InterleavedBufferAttribute{\\\\r\\\\n\\\\t\\\\r\\\\n\\\\tconstructor(name, bytes, numElements, type, normalized){\\\\r\\\\n\\\\t\\\\tthis.name = name;\\\\r\\\\n\\\\t\\\\tthis.bytes = bytes;\\\\r\\\\n\\\\t\\\\tthis.numElements = numElements;\\\\r\\\\n\\\\t\\\\tthis.normalized = normalized;\\\\r\\\\n\\\\t\\\\tthis.type = type; // gl type without prefix, e.g. \\\\\\\"FLOAT\\\\\\\", \\\\\\\"UNSIGNED_INT\\\\\\\"\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\t\\\\r\\\\n};\\\\r\\\\n\\\\r\\\\nclass InterleavedBuffer{\\\\r\\\\n\\\\r\\\\n\\\\tconstructor(data, attributes, numElements){\\\\r\\\\n\\\\t\\\\tthis.data = data;\\\\r\\\\n\\\\t\\\\tthis.attributes = attributes;\\\\r\\\\n\\\\t\\\\tthis.stride = attributes.reduce( (a, att) => a + att.bytes, 0);\\\\r\\\\n\\\\t\\\\tthis.stride = Math.ceil(this.stride / 4) * 4;\\\\r\\\\n\\\\t\\\\tthis.numElements = numElements;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\t\\\\r\\\\n\\\\toffset(name){\\\\r\\\\n\\\\t\\\\tlet offset = 0;\\\\r\\\\n\\\\t\\\\t\\\\r\\\\n\\\\t\\\\tfor(let att of this.attributes){\\\\r\\\\n\\\\t\\\\t\\\\tif(att.name === name){\\\\r\\\\n\\\\t\\\\t\\\\t\\\\treturn offset;\\\\r\\\\n\\\\t\\\\t\\\\t}\\\\r\\\\n\\\\t\\\\t\\\\t\\\\r\\\\n\\\\t\\\\t\\\\toffset += att.bytes;\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\t\\\\t\\\\r\\\\n\\\\t\\\\treturn null;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\t\\\\r\\\\n};//# sourceURL=[module]\\\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9zcmMvSW50ZXJsZWF2ZWRCdWZmZXIuanM/NWVmZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFHTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25COztBQUVBOztBQUVPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vc3JjL0ludGVybGVhdmVkQnVmZmVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRle1xyXG5cdFxyXG5cdGNvbnN0cnVjdG9yKG5hbWUsIGJ5dGVzLCBudW1FbGVtZW50cywgdHlwZSwgbm9ybWFsaXplZCl7XHJcblx0XHR0aGlzLm5hbWUgPSBuYW1lO1xyXG5cdFx0dGhpcy5ieXRlcyA9IGJ5dGVzO1xyXG5cdFx0dGhpcy5udW1FbGVtZW50cyA9IG51bUVsZW1lbnRzO1xyXG5cdFx0dGhpcy5ub3JtYWxpemVkID0gbm9ybWFsaXplZDtcclxuXHRcdHRoaXMudHlwZSA9IHR5cGU7IC8vIGdsIHR5cGUgd2l0aG91dCBwcmVmaXgsIGUuZy4gXCJGTE9BVFwiLCBcIlVOU0lHTkVEX0lOVFwiXHJcblx0fVxyXG5cdFxyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIEludGVybGVhdmVkQnVmZmVye1xyXG5cclxuXHRjb25zdHJ1Y3RvcihkYXRhLCBhdHRyaWJ1dGVzLCBudW1FbGVtZW50cyl7XHJcblx0XHR0aGlzLmRhdGEgPSBkYXRhO1xyXG5cdFx0dGhpcy5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcclxuXHRcdHRoaXMuc3RyaWRlID0gYXR0cmlidXRlcy5yZWR1Y2UoIChhLCBhdHQpID0+IGEgKyBhdHQuYnl0ZXMsIDApO1xyXG5cdFx0dGhpcy5zdHJpZGUgPSBNYXRoLmNlaWwodGhpcy5zdHJpZGUgLyA0KSAqIDQ7XHJcblx0XHR0aGlzLm51bUVsZW1lbnRzID0gbnVtRWxlbWVudHM7XHJcblx0fVxyXG5cdFxyXG5cdG9mZnNldChuYW1lKXtcclxuXHRcdGxldCBvZmZzZXQgPSAwO1xyXG5cdFx0XHJcblx0XHRmb3IobGV0IGF0dCBvZiB0aGlzLmF0dHJpYnV0ZXMpe1xyXG5cdFx0XHRpZihhdHQubmFtZSA9PT0gbmFtZSl7XHJcblx0XHRcdFx0cmV0dXJuIG9mZnNldDtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0b2Zmc2V0ICs9IGF0dC5ieXRlcztcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdFxyXG59OyJdLCJzb3VyY2VSb290IjoiIn0=\\\\n//# sourceURL=webpack-internal:///./src/InterleavedBuffer.js\\\\n\\\");\\n\\n/***/ }),\\n\\n/***/ \\\"./src/Version.js\\\":\\n/*!************************!*\\\\\\n  !*** ./src/Version.js ***!\\n  \\\\************************/\\n/*! exports provided: Version */\\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\\n\\n\\\"use strict\\\";\\neval(\\\"__webpack_require__.r(__webpack_exports__);\\\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\\\\\"Version\\\\\\\", function() { return Version; });\\\\n\\\\r\\\\nclass Version{\\\\r\\\\n\\\\r\\\\n\\\\tconstructor(version){\\\\r\\\\n\\\\t\\\\tthis.version = version;\\\\r\\\\n\\\\t\\\\tlet vmLength = (version.indexOf('.') === -1) ? version.length : version.indexOf('.');\\\\r\\\\n\\\\t\\\\tthis.versionMajor = parseInt(version.substr(0, vmLength));\\\\r\\\\n\\\\t\\\\tthis.versionMinor = parseInt(version.substr(vmLength + 1));\\\\r\\\\n\\\\t\\\\tif (this.versionMinor.length === 0) {\\\\r\\\\n\\\\t\\\\t\\\\tthis.versionMinor = 0;\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\tnewerThan(version){\\\\r\\\\n\\\\t\\\\tlet v = new Version(version);\\\\r\\\\n\\\\r\\\\n\\\\t\\\\tif (this.versionMajor > v.versionMajor) {\\\\r\\\\n\\\\t\\\\t\\\\treturn true;\\\\r\\\\n\\\\t\\\\t} else if (this.versionMajor === v.versionMajor && this.versionMinor > v.versionMinor) {\\\\r\\\\n\\\\t\\\\t\\\\treturn true;\\\\r\\\\n\\\\t\\\\t} else {\\\\r\\\\n\\\\t\\\\t\\\\treturn false;\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\tequalOrHigher(version){\\\\r\\\\n\\\\t\\\\tlet v = new Version(version);\\\\r\\\\n\\\\r\\\\n\\\\t\\\\tif (this.versionMajor > v.versionMajor) {\\\\r\\\\n\\\\t\\\\t\\\\treturn true;\\\\r\\\\n\\\\t\\\\t} else if (this.versionMajor === v.versionMajor && this.versionMinor >= v.versionMinor) {\\\\r\\\\n\\\\t\\\\t\\\\treturn true;\\\\r\\\\n\\\\t\\\\t} else {\\\\r\\\\n\\\\t\\\\t\\\\treturn false;\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\tupTo(version){\\\\r\\\\n\\\\t\\\\treturn !this.newerThan(version);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n}\\\\r\\\\n\\\\r\\\\n\\\\r\\\\n//# sourceURL=[module]\\\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9zcmMvVmVyc2lvbi5qcz9kMzY3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vc3JjL1ZlcnNpb24uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuZXhwb3J0IGNsYXNzIFZlcnNpb257XHJcblxyXG5cdGNvbnN0cnVjdG9yKHZlcnNpb24pe1xyXG5cdFx0dGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcclxuXHRcdGxldCB2bUxlbmd0aCA9ICh2ZXJzaW9uLmluZGV4T2YoJy4nKSA9PT0gLTEpID8gdmVyc2lvbi5sZW5ndGggOiB2ZXJzaW9uLmluZGV4T2YoJy4nKTtcclxuXHRcdHRoaXMudmVyc2lvbk1ham9yID0gcGFyc2VJbnQodmVyc2lvbi5zdWJzdHIoMCwgdm1MZW5ndGgpKTtcclxuXHRcdHRoaXMudmVyc2lvbk1pbm9yID0gcGFyc2VJbnQodmVyc2lvbi5zdWJzdHIodm1MZW5ndGggKyAxKSk7XHJcblx0XHRpZiAodGhpcy52ZXJzaW9uTWlub3IubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdHRoaXMudmVyc2lvbk1pbm9yID0gMDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdG5ld2VyVGhhbih2ZXJzaW9uKXtcclxuXHRcdGxldCB2ID0gbmV3IFZlcnNpb24odmVyc2lvbik7XHJcblxyXG5cdFx0aWYgKHRoaXMudmVyc2lvbk1ham9yID4gdi52ZXJzaW9uTWFqb3IpIHtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9IGVsc2UgaWYgKHRoaXMudmVyc2lvbk1ham9yID09PSB2LnZlcnNpb25NYWpvciAmJiB0aGlzLnZlcnNpb25NaW5vciA+IHYudmVyc2lvbk1pbm9yKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0ZXF1YWxPckhpZ2hlcih2ZXJzaW9uKXtcclxuXHRcdGxldCB2ID0gbmV3IFZlcnNpb24odmVyc2lvbik7XHJcblxyXG5cdFx0aWYgKHRoaXMudmVyc2lvbk1ham9yID4gdi52ZXJzaW9uTWFqb3IpIHtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9IGVsc2UgaWYgKHRoaXMudmVyc2lvbk1ham9yID09PSB2LnZlcnNpb25NYWpvciAmJiB0aGlzLnZlcnNpb25NaW5vciA+PSB2LnZlcnNpb25NaW5vcikge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHVwVG8odmVyc2lvbil7XHJcblx0XHRyZXR1cm4gIXRoaXMubmV3ZXJUaGFuKHZlcnNpb24pO1xyXG5cdH1cclxuXHJcbn1cclxuXHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9\\\\n//# sourceURL=webpack-internal:///./src/Version.js\\\\n\\\");\\n\\n/***/ }),\\n\\n/***/ \\\"./src/loader/PointAttributes.js\\\":\\n/*!***************************************!*\\\\\\n  !*** ./src/loader/PointAttributes.js ***!\\n  \\\\***************************************/\\n/*! exports provided: PointAttributeNames, PointAttributeTypes, PointAttribute, PointAttributes */\\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\\n\\n\\\"use strict\\\";\\neval(\\\"__webpack_require__.r(__webpack_exports__);\\\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\\\\\"PointAttributeNames\\\\\\\", function() { return PointAttributeNames; });\\\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\\\\\"PointAttributeTypes\\\\\\\", function() { return PointAttributeTypes; });\\\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\\\\\"PointAttribute\\\\\\\", function() { return PointAttribute; });\\\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\\\\\"PointAttributes\\\\\\\", function() { return PointAttributes; });\\\\n\\\\r\\\\n\\\\r\\\\nconst PointAttributeNames = {\\\\r\\\\n\\\\tPOSITION_CARTESIAN: 0, // float x, y, z;\\\\r\\\\n\\\\tCOLOR_PACKED: 1, // byte r, g, b, a; \\\\tI: [0,1]\\\\r\\\\n\\\\tCOLOR_FLOATS_1: 2, // float r, g, b; \\\\tI: [0,1]\\\\r\\\\n\\\\tCOLOR_FLOATS_255: 3, // float r, g, b; \\\\tI: [0,255]\\\\r\\\\n\\\\tNORMAL_FLOATS: 4, // float x, y, z;\\\\r\\\\n\\\\tFILLER: 5,\\\\r\\\\n\\\\tINTENSITY: 6,\\\\r\\\\n\\\\tCLASSIFICATION: 7,\\\\r\\\\n\\\\tNORMAL_SPHEREMAPPED: 8,\\\\r\\\\n\\\\tNORMAL_OCT16: 9,\\\\r\\\\n\\\\tNORMAL: 10,\\\\r\\\\n\\\\tRETURN_NUMBER: 11,\\\\r\\\\n\\\\tNUMBER_OF_RETURNS: 12,\\\\r\\\\n\\\\tSOURCE_ID: 13,\\\\r\\\\n\\\\tINDICES: 14,\\\\r\\\\n\\\\tSPACING: 15,\\\\r\\\\n\\\\tGPS_TIME: 16,\\\\r\\\\n};\\\\r\\\\n\\\\r\\\\n\\\\r\\\\n/**\\\\r\\\\n * Some types of possible point attribute data formats\\\\r\\\\n *\\\\r\\\\n * @class\\\\r\\\\n */\\\\r\\\\nconst PointAttributeTypes = {\\\\r\\\\n\\\\tDATA_TYPE_DOUBLE: {ordinal: 0, size: 8},\\\\r\\\\n\\\\tDATA_TYPE_FLOAT: {ordinal: 1, size: 4},\\\\r\\\\n\\\\tDATA_TYPE_INT8: {ordinal: 2, size: 1},\\\\r\\\\n\\\\tDATA_TYPE_UINT8: {ordinal: 3, size: 1},\\\\r\\\\n\\\\tDATA_TYPE_INT16: {ordinal: 4, size: 2},\\\\r\\\\n\\\\tDATA_TYPE_UINT16: {ordinal: 5, size: 2},\\\\r\\\\n\\\\tDATA_TYPE_INT32: {ordinal: 6, size: 4},\\\\r\\\\n\\\\tDATA_TYPE_UINT32: {ordinal: 7, size: 4},\\\\r\\\\n\\\\tDATA_TYPE_INT64: {ordinal: 8, size: 8},\\\\r\\\\n\\\\tDATA_TYPE_UINT64: {ordinal: 9, size: 8}\\\\r\\\\n};\\\\r\\\\n\\\\r\\\\nlet i = 0;\\\\r\\\\nfor (let obj in PointAttributeTypes) {\\\\r\\\\n\\\\tPointAttributeTypes[i] = PointAttributeTypes[obj];\\\\r\\\\n\\\\ti++;\\\\r\\\\n}\\\\r\\\\n\\\\r\\\\n\\\\r\\\\n\\\\r\\\\n\\\\r\\\\nclass PointAttribute{\\\\r\\\\n\\\\t\\\\r\\\\n\\\\tconstructor(name, type, numElements){\\\\r\\\\n\\\\t\\\\tthis.name = name;\\\\r\\\\n\\\\t\\\\tthis.type = type;\\\\r\\\\n\\\\t\\\\tthis.numElements = numElements;\\\\r\\\\n\\\\t\\\\tthis.byteSize = this.numElements * this.type.size;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n};\\\\r\\\\n\\\\r\\\\nPointAttribute.POSITION_CARTESIAN = new PointAttribute(\\\\r\\\\n\\\\tPointAttributeNames.POSITION_CARTESIAN,\\\\r\\\\n\\\\tPointAttributeTypes.DATA_TYPE_FLOAT, 3);\\\\r\\\\n\\\\r\\\\nPointAttribute.RGBA_PACKED = new PointAttribute(\\\\r\\\\n\\\\tPointAttributeNames.COLOR_PACKED,\\\\r\\\\n\\\\tPointAttributeTypes.DATA_TYPE_INT8, 4);\\\\r\\\\n\\\\r\\\\nPointAttribute.COLOR_PACKED = PointAttribute.RGBA_PACKED;\\\\r\\\\n\\\\r\\\\nPointAttribute.RGB_PACKED = new PointAttribute(\\\\r\\\\n\\\\tPointAttributeNames.COLOR_PACKED,\\\\r\\\\n\\\\tPointAttributeTypes.DATA_TYPE_INT8, 3);\\\\r\\\\n\\\\r\\\\nPointAttribute.NORMAL_FLOATS = new PointAttribute(\\\\r\\\\n\\\\tPointAttributeNames.NORMAL_FLOATS,\\\\r\\\\n\\\\tPointAttributeTypes.DATA_TYPE_FLOAT, 3);\\\\r\\\\n\\\\r\\\\nPointAttribute.FILLER_1B = new PointAttribute(\\\\r\\\\n\\\\tPointAttributeNames.FILLER,\\\\r\\\\n\\\\tPointAttributeTypes.DATA_TYPE_UINT8, 1);\\\\r\\\\n\\\\r\\\\nPointAttribute.INTENSITY = new PointAttribute(\\\\r\\\\n\\\\tPointAttributeNames.INTENSITY,\\\\r\\\\n\\\\tPointAttributeTypes.DATA_TYPE_UINT16, 1);\\\\r\\\\n\\\\r\\\\nPointAttribute.CLASSIFICATION = new PointAttribute(\\\\r\\\\n\\\\tPointAttributeNames.CLASSIFICATION,\\\\r\\\\n\\\\tPointAttributeTypes.DATA_TYPE_UINT8, 1);\\\\r\\\\n\\\\r\\\\nPointAttribute.NORMAL_SPHEREMAPPED = new PointAttribute(\\\\r\\\\n\\\\tPointAttributeNames.NORMAL_SPHEREMAPPED,\\\\r\\\\n\\\\tPointAttributeTypes.DATA_TYPE_UINT8, 2);\\\\r\\\\n\\\\r\\\\nPointAttribute.NORMAL_OCT16 = new PointAttribute(\\\\r\\\\n\\\\tPointAttributeNames.NORMAL_OCT16,\\\\r\\\\n\\\\tPointAttributeTypes.DATA_TYPE_UINT8, 2);\\\\r\\\\n\\\\r\\\\nPointAttribute.NORMAL = new PointAttribute(\\\\r\\\\n\\\\tPointAttributeNames.NORMAL,\\\\r\\\\n\\\\tPointAttributeTypes.DATA_TYPE_FLOAT, 3);\\\\r\\\\n\\\\t\\\\r\\\\nPointAttribute.RETURN_NUMBER = new PointAttribute(\\\\r\\\\n\\\\tPointAttributeNames.RETURN_NUMBER,\\\\r\\\\n\\\\tPointAttributeTypes.DATA_TYPE_UINT8, 1);\\\\r\\\\n\\\\t\\\\r\\\\nPointAttribute.NUMBER_OF_RETURNS = new PointAttribute(\\\\r\\\\n\\\\tPointAttributeNames.NUMBER_OF_RETURNS,\\\\r\\\\n\\\\tPointAttributeTypes.DATA_TYPE_UINT8, 1);\\\\r\\\\n\\\\t\\\\r\\\\nPointAttribute.SOURCE_ID = new PointAttribute(\\\\r\\\\n\\\\tPointAttributeNames.SOURCE_ID,\\\\r\\\\n\\\\tPointAttributeTypes.DATA_TYPE_UINT16, 1);\\\\r\\\\n\\\\r\\\\nPointAttribute.INDICES = new PointAttribute(\\\\r\\\\n\\\\tPointAttributeNames.INDICES,\\\\r\\\\n\\\\tPointAttributeTypes.DATA_TYPE_UINT32, 1);\\\\r\\\\n\\\\r\\\\nPointAttribute.SPACING = new PointAttribute(\\\\r\\\\n\\\\tPointAttributeNames.SPACING,\\\\r\\\\n\\\\tPointAttributeTypes.DATA_TYPE_FLOAT, 1);\\\\r\\\\n\\\\r\\\\nPointAttribute.GPS_TIME = new PointAttribute(\\\\r\\\\n\\\\tPointAttributeNames.GPS_TIME,\\\\r\\\\n\\\\tPointAttributeTypes.DATA_TYPE_DOUBLE, 1);\\\\r\\\\n\\\\r\\\\n\\\\r\\\\n\\\\r\\\\nclass PointAttributes{\\\\r\\\\n\\\\r\\\\n\\\\tconstructor(pointAttributes){\\\\r\\\\n\\\\t\\\\tthis.attributes = [];\\\\r\\\\n\\\\t\\\\tthis.byteSize = 0;\\\\r\\\\n\\\\t\\\\tthis.size = 0;\\\\r\\\\n\\\\r\\\\n\\\\t\\\\tif (pointAttributes != null) {\\\\r\\\\n\\\\t\\\\t\\\\tfor (let i = 0; i < pointAttributes.length; i++) {\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet pointAttributeName = pointAttributes[i];\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet pointAttribute = PointAttribute[pointAttributeName];\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tthis.attributes.push(pointAttribute);\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tthis.byteSize += pointAttribute.byteSize;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tthis.size++;\\\\r\\\\n\\\\t\\\\t\\\\t}\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\r\\\\n\\\\tadd(pointAttribute){\\\\r\\\\n\\\\t\\\\tthis.attributes.push(pointAttribute);\\\\r\\\\n\\\\t\\\\tthis.byteSize += pointAttribute.byteSize;\\\\r\\\\n\\\\t\\\\tthis.size++;\\\\r\\\\n\\\\t};\\\\r\\\\n\\\\r\\\\n\\\\thasColors(){\\\\r\\\\n\\\\t\\\\tfor (let name in this.attributes) {\\\\r\\\\n\\\\t\\\\t\\\\tlet pointAttribute = this.attributes[name];\\\\r\\\\n\\\\t\\\\t\\\\tif (pointAttribute.name === PointAttributeNames.COLOR_PACKED) {\\\\r\\\\n\\\\t\\\\t\\\\t\\\\treturn true;\\\\r\\\\n\\\\t\\\\t\\\\t}\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\treturn false;\\\\r\\\\n\\\\t};\\\\r\\\\n\\\\r\\\\n\\\\thasNormals(){\\\\r\\\\n\\\\t\\\\tfor (let name in this.attributes) {\\\\r\\\\n\\\\t\\\\t\\\\tlet pointAttribute = this.attributes[name];\\\\r\\\\n\\\\t\\\\t\\\\tif (\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tpointAttribute === PointAttribute.NORMAL_SPHEREMAPPED ||\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tpointAttribute === PointAttribute.NORMAL_FLOATS ||\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tpointAttribute === PointAttribute.NORMAL ||\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tpointAttribute === PointAttribute.NORMAL_OCT16) {\\\\r\\\\n\\\\t\\\\t\\\\t\\\\treturn true;\\\\r\\\\n\\\\t\\\\t\\\\t}\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\treturn false;\\\\r\\\\n\\\\t};\\\\r\\\\n\\\\r\\\\n}\\\\r\\\\n//# sourceURL=[module]\\\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9zcmMvbG9hZGVyL1BvaW50QXR0cmlidXRlcy5qcz80MjcwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFTztBQUNQO0FBQ0EscUNBQXFDO0FBQ3JDLHFDQUFxQztBQUNyQyx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG9CQUFvQjtBQUN4QyxtQkFBbUIsb0JBQW9CO0FBQ3ZDLGtCQUFrQixvQkFBb0I7QUFDdEMsbUJBQW1CLG9CQUFvQjtBQUN2QyxtQkFBbUIsb0JBQW9CO0FBQ3ZDLG9CQUFvQixvQkFBb0I7QUFDeEMsbUJBQW1CLG9CQUFvQjtBQUN2QyxvQkFBb0Isb0JBQW9CO0FBQ3hDLG1CQUFtQixvQkFBb0I7QUFDdkMsb0JBQW9CO0FBQ3BCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTZCOzs7QUFHN0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFd0I7O0FBRWpCOztBQUVQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLDRCQUE0QjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vc3JjL2xvYWRlci9Qb2ludEF0dHJpYnV0ZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuXHJcbmV4cG9ydCBjb25zdCBQb2ludEF0dHJpYnV0ZU5hbWVzID0ge1xyXG5cdFBPU0lUSU9OX0NBUlRFU0lBTjogMCwgLy8gZmxvYXQgeCwgeSwgejtcclxuXHRDT0xPUl9QQUNLRUQ6IDEsIC8vIGJ5dGUgciwgZywgYiwgYTsgXHRJOiBbMCwxXVxyXG5cdENPTE9SX0ZMT0FUU18xOiAyLCAvLyBmbG9hdCByLCBnLCBiOyBcdEk6IFswLDFdXHJcblx0Q09MT1JfRkxPQVRTXzI1NTogMywgLy8gZmxvYXQgciwgZywgYjsgXHRJOiBbMCwyNTVdXHJcblx0Tk9STUFMX0ZMT0FUUzogNCwgLy8gZmxvYXQgeCwgeSwgejtcclxuXHRGSUxMRVI6IDUsXHJcblx0SU5URU5TSVRZOiA2LFxyXG5cdENMQVNTSUZJQ0FUSU9OOiA3LFxyXG5cdE5PUk1BTF9TUEhFUkVNQVBQRUQ6IDgsXHJcblx0Tk9STUFMX09DVDE2OiA5LFxyXG5cdE5PUk1BTDogMTAsXHJcblx0UkVUVVJOX05VTUJFUjogMTEsXHJcblx0TlVNQkVSX09GX1JFVFVSTlM6IDEyLFxyXG5cdFNPVVJDRV9JRDogMTMsXHJcblx0SU5ESUNFUzogMTQsXHJcblx0U1BBQ0lORzogMTUsXHJcblx0R1BTX1RJTUU6IDE2LFxyXG59O1xyXG5cclxuXHJcbi8qKlxyXG4gKiBTb21lIHR5cGVzIG9mIHBvc3NpYmxlIHBvaW50IGF0dHJpYnV0ZSBkYXRhIGZvcm1hdHNcclxuICpcclxuICogQGNsYXNzXHJcbiAqL1xyXG5jb25zdCBQb2ludEF0dHJpYnV0ZVR5cGVzID0ge1xyXG5cdERBVEFfVFlQRV9ET1VCTEU6IHtvcmRpbmFsOiAwLCBzaXplOiA4fSxcclxuXHREQVRBX1RZUEVfRkxPQVQ6IHtvcmRpbmFsOiAxLCBzaXplOiA0fSxcclxuXHREQVRBX1RZUEVfSU5UODoge29yZGluYWw6IDIsIHNpemU6IDF9LFxyXG5cdERBVEFfVFlQRV9VSU5UODoge29yZGluYWw6IDMsIHNpemU6IDF9LFxyXG5cdERBVEFfVFlQRV9JTlQxNjoge29yZGluYWw6IDQsIHNpemU6IDJ9LFxyXG5cdERBVEFfVFlQRV9VSU5UMTY6IHtvcmRpbmFsOiA1LCBzaXplOiAyfSxcclxuXHREQVRBX1RZUEVfSU5UMzI6IHtvcmRpbmFsOiA2LCBzaXplOiA0fSxcclxuXHREQVRBX1RZUEVfVUlOVDMyOiB7b3JkaW5hbDogNywgc2l6ZTogNH0sXHJcblx0REFUQV9UWVBFX0lOVDY0OiB7b3JkaW5hbDogOCwgc2l6ZTogOH0sXHJcblx0REFUQV9UWVBFX1VJTlQ2NDoge29yZGluYWw6IDksIHNpemU6IDh9XHJcbn07XHJcblxyXG5sZXQgaSA9IDA7XHJcbmZvciAobGV0IG9iaiBpbiBQb2ludEF0dHJpYnV0ZVR5cGVzKSB7XHJcblx0UG9pbnRBdHRyaWJ1dGVUeXBlc1tpXSA9IFBvaW50QXR0cmlidXRlVHlwZXNbb2JqXTtcclxuXHRpKys7XHJcbn1cclxuXHJcbmV4cG9ydCB7UG9pbnRBdHRyaWJ1dGVUeXBlc307XHJcblxyXG5cclxuY2xhc3MgUG9pbnRBdHRyaWJ1dGV7XHJcblx0XHJcblx0Y29uc3RydWN0b3IobmFtZSwgdHlwZSwgbnVtRWxlbWVudHMpe1xyXG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcclxuXHRcdHRoaXMudHlwZSA9IHR5cGU7XHJcblx0XHR0aGlzLm51bUVsZW1lbnRzID0gbnVtRWxlbWVudHM7XHJcblx0XHR0aGlzLmJ5dGVTaXplID0gdGhpcy5udW1FbGVtZW50cyAqIHRoaXMudHlwZS5zaXplO1xyXG5cdH1cclxuXHJcbn07XHJcblxyXG5Qb2ludEF0dHJpYnV0ZS5QT1NJVElPTl9DQVJURVNJQU4gPSBuZXcgUG9pbnRBdHRyaWJ1dGUoXHJcblx0UG9pbnRBdHRyaWJ1dGVOYW1lcy5QT1NJVElPTl9DQVJURVNJQU4sXHJcblx0UG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfRkxPQVQsIDMpO1xyXG5cclxuUG9pbnRBdHRyaWJ1dGUuUkdCQV9QQUNLRUQgPSBuZXcgUG9pbnRBdHRyaWJ1dGUoXHJcblx0UG9pbnRBdHRyaWJ1dGVOYW1lcy5DT0xPUl9QQUNLRUQsXHJcblx0UG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfSU5UOCwgNCk7XHJcblxyXG5Qb2ludEF0dHJpYnV0ZS5DT0xPUl9QQUNLRUQgPSBQb2ludEF0dHJpYnV0ZS5SR0JBX1BBQ0tFRDtcclxuXHJcblBvaW50QXR0cmlidXRlLlJHQl9QQUNLRUQgPSBuZXcgUG9pbnRBdHRyaWJ1dGUoXHJcblx0UG9pbnRBdHRyaWJ1dGVOYW1lcy5DT0xPUl9QQUNLRUQsXHJcblx0UG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfSU5UOCwgMyk7XHJcblxyXG5Qb2ludEF0dHJpYnV0ZS5OT1JNQUxfRkxPQVRTID0gbmV3IFBvaW50QXR0cmlidXRlKFxyXG5cdFBvaW50QXR0cmlidXRlTmFtZXMuTk9STUFMX0ZMT0FUUyxcclxuXHRQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9GTE9BVCwgMyk7XHJcblxyXG5Qb2ludEF0dHJpYnV0ZS5GSUxMRVJfMUIgPSBuZXcgUG9pbnRBdHRyaWJ1dGUoXHJcblx0UG9pbnRBdHRyaWJ1dGVOYW1lcy5GSUxMRVIsXHJcblx0UG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDgsIDEpO1xyXG5cclxuUG9pbnRBdHRyaWJ1dGUuSU5URU5TSVRZID0gbmV3IFBvaW50QXR0cmlidXRlKFxyXG5cdFBvaW50QXR0cmlidXRlTmFtZXMuSU5URU5TSVRZLFxyXG5cdFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX1VJTlQxNiwgMSk7XHJcblxyXG5Qb2ludEF0dHJpYnV0ZS5DTEFTU0lGSUNBVElPTiA9IG5ldyBQb2ludEF0dHJpYnV0ZShcclxuXHRQb2ludEF0dHJpYnV0ZU5hbWVzLkNMQVNTSUZJQ0FUSU9OLFxyXG5cdFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX1VJTlQ4LCAxKTtcclxuXHJcblBvaW50QXR0cmlidXRlLk5PUk1BTF9TUEhFUkVNQVBQRUQgPSBuZXcgUG9pbnRBdHRyaWJ1dGUoXHJcblx0UG9pbnRBdHRyaWJ1dGVOYW1lcy5OT1JNQUxfU1BIRVJFTUFQUEVELFxyXG5cdFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX1VJTlQ4LCAyKTtcclxuXHJcblBvaW50QXR0cmlidXRlLk5PUk1BTF9PQ1QxNiA9IG5ldyBQb2ludEF0dHJpYnV0ZShcclxuXHRQb2ludEF0dHJpYnV0ZU5hbWVzLk5PUk1BTF9PQ1QxNixcclxuXHRQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UOCwgMik7XHJcblxyXG5Qb2ludEF0dHJpYnV0ZS5OT1JNQUwgPSBuZXcgUG9pbnRBdHRyaWJ1dGUoXHJcblx0UG9pbnRBdHRyaWJ1dGVOYW1lcy5OT1JNQUwsXHJcblx0UG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfRkxPQVQsIDMpO1xyXG5cdFxyXG5Qb2ludEF0dHJpYnV0ZS5SRVRVUk5fTlVNQkVSID0gbmV3IFBvaW50QXR0cmlidXRlKFxyXG5cdFBvaW50QXR0cmlidXRlTmFtZXMuUkVUVVJOX05VTUJFUixcclxuXHRQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UOCwgMSk7XHJcblx0XHJcblBvaW50QXR0cmlidXRlLk5VTUJFUl9PRl9SRVRVUk5TID0gbmV3IFBvaW50QXR0cmlidXRlKFxyXG5cdFBvaW50QXR0cmlidXRlTmFtZXMuTlVNQkVSX09GX1JFVFVSTlMsXHJcblx0UG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDgsIDEpO1xyXG5cdFxyXG5Qb2ludEF0dHJpYnV0ZS5TT1VSQ0VfSUQgPSBuZXcgUG9pbnRBdHRyaWJ1dGUoXHJcblx0UG9pbnRBdHRyaWJ1dGVOYW1lcy5TT1VSQ0VfSUQsXHJcblx0UG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDE2LCAxKTtcclxuXHJcblBvaW50QXR0cmlidXRlLklORElDRVMgPSBuZXcgUG9pbnRBdHRyaWJ1dGUoXHJcblx0UG9pbnRBdHRyaWJ1dGVOYW1lcy5JTkRJQ0VTLFxyXG5cdFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX1VJTlQzMiwgMSk7XHJcblxyXG5Qb2ludEF0dHJpYnV0ZS5TUEFDSU5HID0gbmV3IFBvaW50QXR0cmlidXRlKFxyXG5cdFBvaW50QXR0cmlidXRlTmFtZXMuU1BBQ0lORyxcclxuXHRQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9GTE9BVCwgMSk7XHJcblxyXG5Qb2ludEF0dHJpYnV0ZS5HUFNfVElNRSA9IG5ldyBQb2ludEF0dHJpYnV0ZShcclxuXHRQb2ludEF0dHJpYnV0ZU5hbWVzLkdQU19USU1FLFxyXG5cdFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX0RPVUJMRSwgMSk7XHJcblxyXG5leHBvcnQge1BvaW50QXR0cmlidXRlfTtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb2ludEF0dHJpYnV0ZXN7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHBvaW50QXR0cmlidXRlcyl7XHJcblx0XHR0aGlzLmF0dHJpYnV0ZXMgPSBbXTtcclxuXHRcdHRoaXMuYnl0ZVNpemUgPSAwO1xyXG5cdFx0dGhpcy5zaXplID0gMDtcclxuXHJcblx0XHRpZiAocG9pbnRBdHRyaWJ1dGVzICE9IG51bGwpIHtcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludEF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRsZXQgcG9pbnRBdHRyaWJ1dGVOYW1lID0gcG9pbnRBdHRyaWJ1dGVzW2ldO1xyXG5cdFx0XHRcdGxldCBwb2ludEF0dHJpYnV0ZSA9IFBvaW50QXR0cmlidXRlW3BvaW50QXR0cmlidXRlTmFtZV07XHJcblx0XHRcdFx0dGhpcy5hdHRyaWJ1dGVzLnB1c2gocG9pbnRBdHRyaWJ1dGUpO1xyXG5cdFx0XHRcdHRoaXMuYnl0ZVNpemUgKz0gcG9pbnRBdHRyaWJ1dGUuYnl0ZVNpemU7XHJcblx0XHRcdFx0dGhpcy5zaXplKys7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cclxuXHRhZGQocG9pbnRBdHRyaWJ1dGUpe1xyXG5cdFx0dGhpcy5hdHRyaWJ1dGVzLnB1c2gocG9pbnRBdHRyaWJ1dGUpO1xyXG5cdFx0dGhpcy5ieXRlU2l6ZSArPSBwb2ludEF0dHJpYnV0ZS5ieXRlU2l6ZTtcclxuXHRcdHRoaXMuc2l6ZSsrO1xyXG5cdH07XHJcblxyXG5cdGhhc0NvbG9ycygpe1xyXG5cdFx0Zm9yIChsZXQgbmFtZSBpbiB0aGlzLmF0dHJpYnV0ZXMpIHtcclxuXHRcdFx0bGV0IHBvaW50QXR0cmlidXRlID0gdGhpcy5hdHRyaWJ1dGVzW25hbWVdO1xyXG5cdFx0XHRpZiAocG9pbnRBdHRyaWJ1dGUubmFtZSA9PT0gUG9pbnRBdHRyaWJ1dGVOYW1lcy5DT0xPUl9QQUNLRUQpIHtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9O1xyXG5cclxuXHRoYXNOb3JtYWxzKCl7XHJcblx0XHRmb3IgKGxldCBuYW1lIGluIHRoaXMuYXR0cmlidXRlcykge1xyXG5cdFx0XHRsZXQgcG9pbnRBdHRyaWJ1dGUgPSB0aGlzLmF0dHJpYnV0ZXNbbmFtZV07XHJcblx0XHRcdGlmIChcclxuXHRcdFx0XHRwb2ludEF0dHJpYnV0ZSA9PT0gUG9pbnRBdHRyaWJ1dGUuTk9STUFMX1NQSEVSRU1BUFBFRCB8fFxyXG5cdFx0XHRcdHBvaW50QXR0cmlidXRlID09PSBQb2ludEF0dHJpYnV0ZS5OT1JNQUxfRkxPQVRTIHx8XHJcblx0XHRcdFx0cG9pbnRBdHRyaWJ1dGUgPT09IFBvaW50QXR0cmlidXRlLk5PUk1BTCB8fFxyXG5cdFx0XHRcdHBvaW50QXR0cmlidXRlID09PSBQb2ludEF0dHJpYnV0ZS5OT1JNQUxfT0NUMTYpIHtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9O1xyXG5cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\\\\n//# sourceURL=webpack-internal:///./src/loader/PointAttributes.js\\\\n\\\");\\n\\n/***/ }),\\n\\n/***/ \\\"./src/utils/toInterleavedBufferAttribute.js\\\":\\n/*!***************************************************!*\\\\\\n  !*** ./src/utils/toInterleavedBufferAttribute.js ***!\\n  \\\\***************************************************/\\n/*! exports provided: toInterleavedBufferAttribute */\\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\\n\\n\\\"use strict\\\";\\neval(\\\"__webpack_require__.r(__webpack_exports__);\\\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\\\\\"toInterleavedBufferAttribute\\\\\\\", function() { return toInterleavedBufferAttribute; });\\\\n/* harmony import */ var _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../loader/PointAttributes.js */ \\\\\\\"./src/loader/PointAttributes.js\\\\\\\");\\\\n\\\\r\\\\n\\\\r\\\\n\\\\r\\\\n\\\\r\\\\nfunction toInterleavedBufferAttribute(pointAttribute){\\\\r\\\\n\\\\tlet att = null;\\\\r\\\\n\\\\t\\\\r\\\\n\\\\tif (pointAttribute.name === _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_0__[\\\\\\\"PointAttribute\\\\\\\"].POSITION_CARTESIAN.name) {\\\\r\\\\n\\\\t\\\\tatt = new Potree.InterleavedBufferAttribute(\\\\\\\"position\\\\\\\", 12, 3, \\\\\\\"FLOAT\\\\\\\", false);\\\\r\\\\n\\\\t} else if (pointAttribute.name === _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_0__[\\\\\\\"PointAttribute\\\\\\\"].COLOR_PACKED.name) {\\\\r\\\\n\\\\t\\\\tatt = new Potree.InterleavedBufferAttribute(\\\\\\\"color\\\\\\\", 4, 4, \\\\\\\"UNSIGNED_BYTE\\\\\\\", true);\\\\r\\\\n\\\\t} else if (pointAttribute.name === _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_0__[\\\\\\\"PointAttribute\\\\\\\"].INTENSITY.name) {\\\\r\\\\n\\\\t\\\\tatt = new Potree.InterleavedBufferAttribute(\\\\\\\"intensity\\\\\\\", 4, 1, \\\\\\\"FLOAT\\\\\\\", false);\\\\r\\\\n\\\\t} else if (pointAttribute.name === _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_0__[\\\\\\\"PointAttribute\\\\\\\"].CLASSIFICATION.name) {\\\\r\\\\n\\\\t\\\\tatt = new Potree.InterleavedBufferAttribute(\\\\\\\"classification\\\\\\\", 4, 1, \\\\\\\"FLOAT\\\\\\\", false);\\\\r\\\\n\\\\t} else if (pointAttribute.name === _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_0__[\\\\\\\"PointAttribute\\\\\\\"].RETURN_NUMBER.name) {\\\\r\\\\n\\\\t\\\\tatt = new Potree.InterleavedBufferAttribute(\\\\\\\"returnNumber\\\\\\\", 4, 1, \\\\\\\"FLOAT\\\\\\\", false);\\\\r\\\\n\\\\t} else if (pointAttribute.name === _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_0__[\\\\\\\"PointAttribute\\\\\\\"].NUMBER_OF_RETURNS.name) {\\\\r\\\\n\\\\t\\\\tatt = new Potree.InterleavedBufferAttribute(\\\\\\\"numberOfReturns\\\\\\\", 4, 1, \\\\\\\"FLOAT\\\\\\\", false);\\\\r\\\\n\\\\t} else if (pointAttribute.name === _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_0__[\\\\\\\"PointAttribute\\\\\\\"].SOURCE_ID.name) {\\\\r\\\\n\\\\t\\\\tatt = new Potree.InterleavedBufferAttribute(\\\\\\\"pointSourceID\\\\\\\", 4, 1, \\\\\\\"FLOAT\\\\\\\", false);\\\\r\\\\n\\\\t} else if (pointAttribute.name === _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_0__[\\\\\\\"PointAttribute\\\\\\\"].NORMAL_SPHEREMAPPED.name) {\\\\r\\\\n\\\\t\\\\tatt = new Potree.InterleavedBufferAttribute(\\\\\\\"normal\\\\\\\", 12, 3, \\\\\\\"FLOAT\\\\\\\", false);\\\\r\\\\n\\\\t} else if (pointAttribute.name === _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_0__[\\\\\\\"PointAttribute\\\\\\\"].NORMAL_OCT16.name) {\\\\r\\\\n\\\\t\\\\tatt = new Potree.InterleavedBufferAttribute(\\\\\\\"normal\\\\\\\", 12, 3, \\\\\\\"FLOAT\\\\\\\", false);\\\\r\\\\n\\\\t} else if (pointAttribute.name === _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_0__[\\\\\\\"PointAttribute\\\\\\\"].NORMAL.name) {\\\\r\\\\n\\\\t\\\\tatt = new Potree.InterleavedBufferAttribute(\\\\\\\"normal\\\\\\\", 12, 3, \\\\\\\"FLOAT\\\\\\\", false);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\t\\\\r\\\\n\\\\treturn att;\\\\r\\\\n};\\\\r\\\\n//# sourceURL=[module]\\\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9zcmMvdXRpbHMvdG9JbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZS5qcz80MDljIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBRTREOztBQUVyRDtBQUNQOztBQUVBLDZCQUE2Qix5RUFBYztBQUMzQztBQUNBLEVBQUUsa0NBQWtDLHlFQUFjO0FBQ2xEO0FBQ0EsRUFBRSxrQ0FBa0MseUVBQWM7QUFDbEQ7QUFDQSxFQUFFLGtDQUFrQyx5RUFBYztBQUNsRDtBQUNBLEVBQUUsa0NBQWtDLHlFQUFjO0FBQ2xEO0FBQ0EsRUFBRSxrQ0FBa0MseUVBQWM7QUFDbEQ7QUFDQSxFQUFFLGtDQUFrQyx5RUFBYztBQUNsRDtBQUNBLEVBQUUsa0NBQWtDLHlFQUFjO0FBQ2xEO0FBQ0EsRUFBRSxrQ0FBa0MseUVBQWM7QUFDbEQ7QUFDQSxFQUFFLGtDQUFrQyx5RUFBYztBQUNsRDtBQUNBOztBQUVBO0FBQ0EiLCJmaWxlIjoiLi9zcmMvdXRpbHMvdG9JbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5cclxuaW1wb3J0IHtQb2ludEF0dHJpYnV0ZX0gZnJvbSBcIi4uL2xvYWRlci9Qb2ludEF0dHJpYnV0ZXMuanNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0b0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKHBvaW50QXR0cmlidXRlKXtcclxuXHRsZXQgYXR0ID0gbnVsbDtcclxuXHRcclxuXHRpZiAocG9pbnRBdHRyaWJ1dGUubmFtZSA9PT0gUG9pbnRBdHRyaWJ1dGUuUE9TSVRJT05fQ0FSVEVTSUFOLm5hbWUpIHtcclxuXHRcdGF0dCA9IG5ldyBQb3RyZWUuSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUoXCJwb3NpdGlvblwiLCAxMiwgMywgXCJGTE9BVFwiLCBmYWxzZSk7XHJcblx0fSBlbHNlIGlmIChwb2ludEF0dHJpYnV0ZS5uYW1lID09PSBQb2ludEF0dHJpYnV0ZS5DT0xPUl9QQUNLRUQubmFtZSkge1xyXG5cdFx0YXR0ID0gbmV3IFBvdHJlZS5JbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZShcImNvbG9yXCIsIDQsIDQsIFwiVU5TSUdORURfQllURVwiLCB0cnVlKTtcclxuXHR9IGVsc2UgaWYgKHBvaW50QXR0cmlidXRlLm5hbWUgPT09IFBvaW50QXR0cmlidXRlLklOVEVOU0lUWS5uYW1lKSB7XHJcblx0XHRhdHQgPSBuZXcgUG90cmVlLkludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKFwiaW50ZW5zaXR5XCIsIDQsIDEsIFwiRkxPQVRcIiwgZmFsc2UpO1xyXG5cdH0gZWxzZSBpZiAocG9pbnRBdHRyaWJ1dGUubmFtZSA9PT0gUG9pbnRBdHRyaWJ1dGUuQ0xBU1NJRklDQVRJT04ubmFtZSkge1xyXG5cdFx0YXR0ID0gbmV3IFBvdHJlZS5JbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZShcImNsYXNzaWZpY2F0aW9uXCIsIDQsIDEsIFwiRkxPQVRcIiwgZmFsc2UpO1xyXG5cdH0gZWxzZSBpZiAocG9pbnRBdHRyaWJ1dGUubmFtZSA9PT0gUG9pbnRBdHRyaWJ1dGUuUkVUVVJOX05VTUJFUi5uYW1lKSB7XHJcblx0XHRhdHQgPSBuZXcgUG90cmVlLkludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKFwicmV0dXJuTnVtYmVyXCIsIDQsIDEsIFwiRkxPQVRcIiwgZmFsc2UpO1xyXG5cdH0gZWxzZSBpZiAocG9pbnRBdHRyaWJ1dGUubmFtZSA9PT0gUG9pbnRBdHRyaWJ1dGUuTlVNQkVSX09GX1JFVFVSTlMubmFtZSkge1xyXG5cdFx0YXR0ID0gbmV3IFBvdHJlZS5JbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZShcIm51bWJlck9mUmV0dXJuc1wiLCA0LCAxLCBcIkZMT0FUXCIsIGZhbHNlKTtcclxuXHR9IGVsc2UgaWYgKHBvaW50QXR0cmlidXRlLm5hbWUgPT09IFBvaW50QXR0cmlidXRlLlNPVVJDRV9JRC5uYW1lKSB7XHJcblx0XHRhdHQgPSBuZXcgUG90cmVlLkludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKFwicG9pbnRTb3VyY2VJRFwiLCA0LCAxLCBcIkZMT0FUXCIsIGZhbHNlKTtcclxuXHR9IGVsc2UgaWYgKHBvaW50QXR0cmlidXRlLm5hbWUgPT09IFBvaW50QXR0cmlidXRlLk5PUk1BTF9TUEhFUkVNQVBQRUQubmFtZSkge1xyXG5cdFx0YXR0ID0gbmV3IFBvdHJlZS5JbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZShcIm5vcm1hbFwiLCAxMiwgMywgXCJGTE9BVFwiLCBmYWxzZSk7XHJcblx0fSBlbHNlIGlmIChwb2ludEF0dHJpYnV0ZS5uYW1lID09PSBQb2ludEF0dHJpYnV0ZS5OT1JNQUxfT0NUMTYubmFtZSkge1xyXG5cdFx0YXR0ID0gbmV3IFBvdHJlZS5JbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZShcIm5vcm1hbFwiLCAxMiwgMywgXCJGTE9BVFwiLCBmYWxzZSk7XHJcblx0fSBlbHNlIGlmIChwb2ludEF0dHJpYnV0ZS5uYW1lID09PSBQb2ludEF0dHJpYnV0ZS5OT1JNQUwubmFtZSkge1xyXG5cdFx0YXR0ID0gbmV3IFBvdHJlZS5JbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZShcIm5vcm1hbFwiLCAxMiwgMywgXCJGTE9BVFwiLCBmYWxzZSk7XHJcblx0fVxyXG5cdFxyXG5cdHJldHVybiBhdHQ7XHJcbn07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\\\\n//# sourceURL=webpack-internal:///./src/utils/toInterleavedBufferAttribute.js\\\\n\\\");\\n\\n/***/ }),\\n\\n/***/ \\\"./src/workers/BinaryDecoderWorker.js\\\":\\n/*!********************************************!*\\\\\\n  !*** ./src/workers/BinaryDecoderWorker.js ***!\\n  \\\\********************************************/\\n/*! no exports provided */\\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\\n\\n\\\"use strict\\\";\\neval(\\\"__webpack_require__.r(__webpack_exports__);\\\\n/* harmony import */ var _Version_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Version.js */ \\\\\\\"./src/Version.js\\\\\\\");\\\\n/* harmony import */ var _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../loader/PointAttributes.js */ \\\\\\\"./src/loader/PointAttributes.js\\\\\\\");\\\\n/* harmony import */ var _InterleavedBuffer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../InterleavedBuffer.js */ \\\\\\\"./src/InterleavedBuffer.js\\\\\\\");\\\\n/* harmony import */ var _utils_toInterleavedBufferAttribute_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/toInterleavedBufferAttribute.js */ \\\\\\\"./src/utils/toInterleavedBufferAttribute.js\\\\\\\");\\\\n\\\\r\\\\n\\\\r\\\\n\\\\r\\\\n\\\\r\\\\n\\\\r\\\\n\\\\r\\\\n\\\\r\\\\n\\\\r\\\\n\\\\r\\\\n/* global onmessage:true postMessage:false */\\\\r\\\\n/* exported onmessage */\\\\r\\\\n// http://jsperf.com/uint8array-vs-dataview3/3\\\\r\\\\nfunction CustomView (buffer) {\\\\r\\\\n\\\\tthis.buffer = buffer;\\\\r\\\\n\\\\tthis.u8 = new Uint8Array(buffer);\\\\r\\\\n\\\\r\\\\n\\\\tlet tmp = new ArrayBuffer(8);\\\\r\\\\n\\\\tlet tmpf = new Float32Array(tmp);\\\\r\\\\n\\\\tlet tmpd = new Float64Array(tmp);\\\\r\\\\n\\\\tlet tmpu8 = new Uint8Array(tmp);\\\\r\\\\n\\\\r\\\\n\\\\tthis.getUint32 = function (i) {\\\\r\\\\n\\\\t\\\\treturn (this.u8[i + 3] << 24) | (this.u8[i + 2] << 16) | (this.u8[i + 1] << 8) | this.u8[i];\\\\r\\\\n\\\\t};\\\\r\\\\n\\\\r\\\\n\\\\tthis.getUint16 = function (i) {\\\\r\\\\n\\\\t\\\\treturn (this.u8[i + 1] << 8) | this.u8[i];\\\\r\\\\n\\\\t};\\\\r\\\\n\\\\r\\\\n\\\\tthis.getFloat32 = function (i) {\\\\r\\\\n\\\\t\\\\ttmpu8[0] = this.u8[i + 0];\\\\r\\\\n\\\\t\\\\ttmpu8[1] = this.u8[i + 1];\\\\r\\\\n\\\\t\\\\ttmpu8[2] = this.u8[i + 2];\\\\r\\\\n\\\\t\\\\ttmpu8[3] = this.u8[i + 3];\\\\r\\\\n\\\\r\\\\n\\\\t\\\\treturn tmpf[0];\\\\r\\\\n\\\\t};\\\\r\\\\n\\\\r\\\\n\\\\tthis.getFloat64 = function (i) {\\\\r\\\\n\\\\t\\\\ttmpu8[0] = this.u8[i + 0];\\\\r\\\\n\\\\t\\\\ttmpu8[1] = this.u8[i + 1];\\\\r\\\\n\\\\t\\\\ttmpu8[2] = this.u8[i + 2];\\\\r\\\\n\\\\t\\\\ttmpu8[3] = this.u8[i + 3];\\\\r\\\\n\\\\t\\\\ttmpu8[4] = this.u8[i + 4];\\\\r\\\\n\\\\t\\\\ttmpu8[5] = this.u8[i + 5];\\\\r\\\\n\\\\t\\\\ttmpu8[6] = this.u8[i + 6];\\\\r\\\\n\\\\t\\\\ttmpu8[7] = this.u8[i + 7];\\\\r\\\\n\\\\r\\\\n\\\\t\\\\treturn tmpd[0];\\\\r\\\\n\\\\t};\\\\r\\\\n\\\\r\\\\n\\\\tthis.getUint8 = function (i) {\\\\r\\\\n\\\\t\\\\treturn this.u8[i];\\\\r\\\\n\\\\t};\\\\r\\\\n}\\\\r\\\\n\\\\r\\\\nonmessage = function (event) {\\\\r\\\\n\\\\r\\\\n\\\\tperformance.mark(\\\\\\\"binary-decoder-start\\\\\\\");\\\\r\\\\n\\\\t\\\\r\\\\n\\\\tlet buffer = event.data.buffer;\\\\r\\\\n\\\\tlet pointAttributes = event.data.pointAttributes;\\\\r\\\\n\\\\tlet numPoints = buffer.byteLength / pointAttributes.byteSize;\\\\r\\\\n\\\\tlet cv = new CustomView(buffer);\\\\r\\\\n\\\\tlet version = new _Version_js__WEBPACK_IMPORTED_MODULE_0__[\\\\\\\"Version\\\\\\\"](event.data.version);\\\\r\\\\n\\\\tlet nodeOffset = event.data.offset;\\\\r\\\\n\\\\tlet scale = event.data.scale;\\\\r\\\\n\\\\tlet spacing = event.data.spacing;\\\\r\\\\n\\\\tlet hasChildren = event.data.hasChildren;\\\\r\\\\n\\\\tlet name = event.data.name;\\\\r\\\\n\\\\t\\\\r\\\\n\\\\tlet tightBoxMin = [ Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY ];\\\\r\\\\n\\\\tlet tightBoxMax = [ Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY ];\\\\r\\\\n\\\\tlet mean = [0, 0, 0];\\\\r\\\\n\\\\t\\\\r\\\\n\\\\r\\\\n\\\\tlet attributeBuffers = {};\\\\r\\\\n\\\\tlet inOffset = 0;\\\\r\\\\n\\\\tfor (let pointAttribute of pointAttributes.attributes) {\\\\r\\\\n\\\\t\\\\t\\\\r\\\\n\\\\t\\\\tif (pointAttribute.name === _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_1__[\\\\\\\"PointAttribute\\\\\\\"].POSITION_CARTESIAN.name) {\\\\r\\\\n\\\\t\\\\t\\\\tlet buff = new ArrayBuffer(numPoints * 4 * 3);\\\\r\\\\n\\\\t\\\\t\\\\tlet positions = new Float32Array(buff);\\\\r\\\\n\\\\t\\\\t\\\\r\\\\n\\\\t\\\\t\\\\tfor (let j = 0; j < numPoints; j++) {\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet x, y, z;\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tif (version.newerThan('1.3')) {\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tx = (cv.getUint32(inOffset + j * pointAttributes.byteSize + 0, true) * scale);\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\ty = (cv.getUint32(inOffset + j * pointAttributes.byteSize + 4, true) * scale);\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tz = (cv.getUint32(inOffset + j * pointAttributes.byteSize + 8, true) * scale);\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t} else {\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tx = cv.getFloat32(j * pointAttributes.byteSize + 0, true) + nodeOffset[0];\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\ty = cv.getFloat32(j * pointAttributes.byteSize + 4, true) + nodeOffset[1];\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tz = cv.getFloat32(j * pointAttributes.byteSize + 8, true) + nodeOffset[2];\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tpositions[3 * j + 0] = x;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tpositions[3 * j + 1] = y;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tpositions[3 * j + 2] = z;\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tmean[0] += x / numPoints;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tmean[1] += y / numPoints;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tmean[2] += z / numPoints;\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\t\\\\ttightBoxMin[0] = Math.min(tightBoxMin[0], x);\\\\r\\\\n\\\\t\\\\t\\\\t\\\\ttightBoxMin[1] = Math.min(tightBoxMin[1], y);\\\\r\\\\n\\\\t\\\\t\\\\t\\\\ttightBoxMin[2] = Math.min(tightBoxMin[2], z);\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\t\\\\ttightBoxMax[0] = Math.max(tightBoxMax[0], x);\\\\r\\\\n\\\\t\\\\t\\\\t\\\\ttightBoxMax[1] = Math.max(tightBoxMax[1], y);\\\\r\\\\n\\\\t\\\\t\\\\t\\\\ttightBoxMax[2] = Math.max(tightBoxMax[2], z);\\\\r\\\\n\\\\t\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\tattributeBuffers[pointAttribute.name] = { buffer: buff, attribute: pointAttribute };\\\\r\\\\n\\\\t\\\\t} else if (pointAttribute.name === _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_1__[\\\\\\\"PointAttribute\\\\\\\"].COLOR_PACKED.name) {\\\\r\\\\n\\\\t\\\\t\\\\tlet buff = new ArrayBuffer(numPoints * 4);\\\\r\\\\n\\\\t\\\\t\\\\tlet colors = new Uint8Array(buff);\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\tfor (let j = 0; j < numPoints; j++) {\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tcolors[4 * j + 0] = cv.getUint8(inOffset + j * pointAttributes.byteSize + 0);\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tcolors[4 * j + 1] = cv.getUint8(inOffset + j * pointAttributes.byteSize + 1);\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tcolors[4 * j + 2] = cv.getUint8(inOffset + j * pointAttributes.byteSize + 2);\\\\r\\\\n\\\\t\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\tattributeBuffers[pointAttribute.name] = { buffer: buff, attribute: pointAttribute };\\\\r\\\\n\\\\t\\\\t} else if (pointAttribute.name === _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_1__[\\\\\\\"PointAttribute\\\\\\\"].INTENSITY.name) {\\\\r\\\\n\\\\t\\\\t\\\\tlet buff = new ArrayBuffer(numPoints * 4);\\\\r\\\\n\\\\t\\\\t\\\\tlet intensities = new Float32Array(buff);\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\tfor (let j = 0; j < numPoints; j++) {\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet intensity = cv.getUint16(inOffset + j * pointAttributes.byteSize, true);\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tintensities[j] = intensity;\\\\r\\\\n\\\\t\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\tattributeBuffers[pointAttribute.name] = { buffer: buff, attribute: pointAttribute };\\\\r\\\\n\\\\t\\\\t} else if (pointAttribute.name === _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_1__[\\\\\\\"PointAttribute\\\\\\\"].CLASSIFICATION.name) {\\\\r\\\\n\\\\t\\\\t\\\\tlet buff = new ArrayBuffer(numPoints);\\\\r\\\\n\\\\t\\\\t\\\\tlet classifications = new Uint8Array(buff);\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\tfor (let j = 0; j < numPoints; j++) {\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet classification = cv.getUint8(inOffset + j * pointAttributes.byteSize);\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tclassifications[j] = classification;\\\\r\\\\n\\\\t\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\tattributeBuffers[pointAttribute.name] = { buffer: buff, attribute: pointAttribute };\\\\r\\\\n\\\\t\\\\t} else if (pointAttribute.name === _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_1__[\\\\\\\"PointAttribute\\\\\\\"].RETURN_NUMBER.name) {\\\\r\\\\n\\\\t\\\\t\\\\tlet buff = new ArrayBuffer(numPoints);\\\\r\\\\n\\\\t\\\\t\\\\tlet returnNumbers = new Uint8Array(buff);\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\tfor (let j = 0; j < numPoints; j++) {\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet returnNumber = cv.getUint8(inOffset + j * pointAttributes.byteSize);\\\\r\\\\n\\\\t\\\\t\\\\t\\\\treturnNumbers[j] = returnNumber;\\\\r\\\\n\\\\t\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\tattributeBuffers[pointAttribute.name] = { buffer: buff, attribute: pointAttribute };\\\\r\\\\n\\\\t\\\\t} else if (pointAttribute.name === _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_1__[\\\\\\\"PointAttribute\\\\\\\"].NUMBER_OF_RETURNS.name) {\\\\r\\\\n\\\\t\\\\t\\\\tlet buff = new ArrayBuffer(numPoints);\\\\r\\\\n\\\\t\\\\t\\\\tlet numberOfReturns = new Uint8Array(buff);\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\tfor (let j = 0; j < numPoints; j++) {\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet numberOfReturn = cv.getUint8(inOffset + j * pointAttributes.byteSize);\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tnumberOfReturns[j] = numberOfReturn;\\\\r\\\\n\\\\t\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\tattributeBuffers[pointAttribute.name] = { buffer: buff, attribute: pointAttribute };\\\\r\\\\n\\\\t\\\\t} else if (pointAttribute.name === _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_1__[\\\\\\\"PointAttribute\\\\\\\"].SOURCE_ID.name) {\\\\r\\\\n\\\\t\\\\t\\\\tlet buff = new ArrayBuffer(numPoints * 2);\\\\r\\\\n\\\\t\\\\t\\\\tlet sourceIDs = new Uint16Array(buff);\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\tfor (let j = 0; j < numPoints; j++) {\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet sourceID = cv.getUint16(inOffset + j * pointAttributes.byteSize);\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tsourceIDs[j] = sourceID;\\\\r\\\\n\\\\t\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\tattributeBuffers[pointAttribute.name] = { buffer: buff, attribute: pointAttribute };\\\\r\\\\n\\\\t\\\\t} else if (pointAttribute.name === _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_1__[\\\\\\\"PointAttribute\\\\\\\"].NORMAL_SPHEREMAPPED.name) {\\\\r\\\\n\\\\t\\\\t\\\\tlet buff = new ArrayBuffer(numPoints * 4 * 3);\\\\r\\\\n\\\\t\\\\t\\\\tlet normals = new Float32Array(buff);\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\tfor (let j = 0; j < numPoints; j++) {\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet bx = cv.getUint8(inOffset + j * pointAttributes.byteSize + 0);\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet by = cv.getUint8(inOffset + j * pointAttributes.byteSize + 1);\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet ex = bx / 255;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet ey = by / 255;\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet nx = ex * 2 - 1;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet ny = ey * 2 - 1;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet nz = 1;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet nw = -1;\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet l = (nx * (-nx)) + (ny * (-ny)) + (nz * (-nw));\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tnz = l;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tnx = nx * Math.sqrt(l);\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tny = ny * Math.sqrt(l);\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tnx = nx * 2;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tny = ny * 2;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tnz = nz * 2 - 1;\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tnormals[3 * j + 0] = nx;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tnormals[3 * j + 1] = ny;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tnormals[3 * j + 2] = nz;\\\\r\\\\n\\\\t\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\tattributeBuffers[pointAttribute.name] = { buffer: buff, attribute: pointAttribute };\\\\r\\\\n\\\\t\\\\t} else if (pointAttribute.name === _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_1__[\\\\\\\"PointAttribute\\\\\\\"].NORMAL_OCT16.name) {\\\\r\\\\n\\\\t\\\\t\\\\tlet buff = new ArrayBuffer(numPoints * 4 * 3);\\\\r\\\\n\\\\t\\\\t\\\\tlet normals = new Float32Array(buff);\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\tfor (let j = 0; j < numPoints; j++) {\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet bx = cv.getUint8(inOffset + j * pointAttributes.byteSize + 0);\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet by = cv.getUint8(inOffset + j * pointAttributes.byteSize + 1);\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet u = (bx / 255) * 2 - 1;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet v = (by / 255) * 2 - 1;\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet z = 1 - Math.abs(u) - Math.abs(v);\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet x = 0;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet y = 0;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tif (z >= 0) {\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tx = u;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\ty = v;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t} else {\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\tx = -(v / Math.sign(v) - 1) / Math.sign(u);\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\ty = -(u / Math.sign(u) - 1) / Math.sign(v);\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet length = Math.sqrt(x * x + y * y + z * z);\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tx = x / length;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\ty = y / length;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tz = z / length;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tnormals[3 * j + 0] = x;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tnormals[3 * j + 1] = y;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tnormals[3 * j + 2] = z;\\\\r\\\\n\\\\t\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\tattributeBuffers[pointAttribute.name] = { buffer: buff, attribute: pointAttribute };\\\\r\\\\n\\\\t\\\\t} else if (pointAttribute.name === _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_1__[\\\\\\\"PointAttribute\\\\\\\"].NORMAL.name) {\\\\r\\\\n\\\\t\\\\t\\\\tlet buff = new ArrayBuffer(numPoints * 4 * 3);\\\\r\\\\n\\\\t\\\\t\\\\tlet normals = new Float32Array(buff);\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\tfor (let j = 0; j < numPoints; j++) {\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet x = cv.getFloat32(inOffset + j * pointAttributes.byteSize + 0, true);\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet y = cv.getFloat32(inOffset + j * pointAttributes.byteSize + 4, true);\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet z = cv.getFloat32(inOffset + j * pointAttributes.byteSize + 8, true);\\\\r\\\\n\\\\t\\\\t\\\\t\\\\t\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tnormals[3 * j + 0] = x;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tnormals[3 * j + 1] = y;\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tnormals[3 * j + 2] = z;\\\\r\\\\n\\\\t\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\tattributeBuffers[pointAttribute.name] = { buffer: buff, attribute: pointAttribute };\\\\r\\\\n\\\\t\\\\t} else if (pointAttribute.name === _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_1__[\\\\\\\"PointAttribute\\\\\\\"].GPS_TIME.name) {\\\\r\\\\n\\\\t\\\\t\\\\tlet buff = new ArrayBuffer(numPoints * 8);\\\\r\\\\n\\\\t\\\\t\\\\tlet gpstimes = new Float64Array(buff);\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\tfor(let j = 0; j < numPoints; j++){\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tlet gpstime = cv.getFloat64(inOffset + j * pointAttributes.byteSize, true);\\\\r\\\\n\\\\t\\\\t\\\\t\\\\tgpstimes[j] = gpstime;\\\\r\\\\n\\\\t\\\\t\\\\t}\\\\r\\\\n\\\\t\\\\t\\\\tattributeBuffers[pointAttribute.name] = { buffer: buff, attribute: pointAttribute };\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\tinOffset += pointAttribute.byteSize;\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t// Convert GPS time from double (unsupported by WebGL) to origin-aligned floats\\\\r\\\\n\\\\tif(attributeBuffers[_loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_1__[\\\\\\\"PointAttribute\\\\\\\"].GPS_TIME.name]){ \\\\r\\\\n\\\\t\\\\tlet attribute = attributeBuffers[_loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_1__[\\\\\\\"PointAttribute\\\\\\\"].GPS_TIME.name];\\\\r\\\\n\\\\t\\\\tlet sourceF64 = new Float64Array(attribute.buffer);\\\\r\\\\n\\\\t\\\\tlet target = new ArrayBuffer(numPoints * 4);\\\\r\\\\n\\\\t\\\\tlet targetF32 = new Float32Array(target);\\\\r\\\\n\\\\r\\\\n\\\\t\\\\tlet min = Infinity;\\\\r\\\\n\\\\t\\\\tlet max = -Infinity;\\\\r\\\\n\\\\t\\\\tfor(let i = 0; i < numPoints; i++){\\\\r\\\\n\\\\t\\\\t\\\\tlet gpstime = sourceF64[i];\\\\r\\\\n\\\\r\\\\n\\\\t\\\\t\\\\tmin = Math.min(min, gpstime);\\\\r\\\\n\\\\t\\\\t\\\\tmax = Math.max(max, gpstime);\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\tfor(let i = 0; i < numPoints; i++){\\\\r\\\\n\\\\t\\\\t\\\\tlet gpstime = sourceF64[i];\\\\r\\\\n\\\\t\\\\t\\\\ttargetF32[i] = gpstime - min;\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t\\\\tattributeBuffers[_loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_1__[\\\\\\\"PointAttribute\\\\\\\"].GPS_TIME.name] = { \\\\r\\\\n\\\\t\\\\t\\\\tbuffer: target, \\\\r\\\\n\\\\t\\\\t\\\\tattribute: _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_1__[\\\\\\\"PointAttribute\\\\\\\"].GPS_TIME,\\\\r\\\\n\\\\t\\\\t\\\\toffset: min,\\\\r\\\\n\\\\t\\\\t\\\\trange: max - min};\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\t//let debugNodes = [\\\\\\\"r026\\\\\\\", \\\\\\\"r0226\\\\\\\",\\\\\\\"r02274\\\\\\\"];\\\\r\\\\n\\\\t//if(debugNodes.includes(name)){\\\\r\\\\n\\\\tif(false){}\\\\r\\\\n\\\\r\\\\n\\\\r\\\\n\\\\t{ // add indices\\\\r\\\\n\\\\t\\\\tlet buff = new ArrayBuffer(numPoints * 4);\\\\r\\\\n\\\\t\\\\tlet indices = new Uint32Array(buff);\\\\r\\\\n\\\\r\\\\n\\\\t\\\\tfor (let i = 0; i < numPoints; i++) {\\\\r\\\\n\\\\t\\\\t\\\\tindices[i] = i;\\\\r\\\\n\\\\t\\\\t}\\\\r\\\\n\\\\t\\\\t\\\\r\\\\n\\\\t\\\\tattributeBuffers[_loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_1__[\\\\\\\"PointAttribute\\\\\\\"].INDICES.name] = { buffer: buff, attribute: _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_1__[\\\\\\\"PointAttribute\\\\\\\"].INDICES };\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\r\\\\n\\\\tperformance.mark(\\\\\\\"binary-decoder-end\\\\\\\");\\\\r\\\\n\\\\r\\\\n\\\\t//{ // print timings\\\\r\\\\n\\\\t//\\\\t//performance.measure(\\\\\\\"spacing\\\\\\\", \\\\\\\"spacing-start\\\\\\\", \\\\\\\"spacing-end\\\\\\\");\\\\r\\\\n\\\\t//\\\\tperformance.measure(\\\\\\\"binary-decoder\\\\\\\", \\\\\\\"binary-decoder-start\\\\\\\", \\\\\\\"binary-decoder-end\\\\\\\");\\\\r\\\\n\\\\t//\\\\tlet measure = performance.getEntriesByType(\\\\\\\"measure\\\\\\\")[0];\\\\r\\\\n\\\\t//\\\\tlet dpp = 1000 * measure.duration / numPoints;\\\\r\\\\n\\\\t//\\\\tlet debugMessage = `${measure.duration.toFixed(3)} ms, ${numPoints} points, ${dpp.toFixed(3)} µs / point`;\\\\r\\\\n\\\\t//\\\\tconsole.log(debugMessage);\\\\r\\\\n\\\\t//}\\\\r\\\\n\\\\r\\\\n\\\\tperformance.clearMarks();\\\\r\\\\n\\\\tperformance.clearMeasures();\\\\r\\\\n\\\\r\\\\n\\\\tlet message = {\\\\r\\\\n\\\\t\\\\tbuffer: buffer,\\\\r\\\\n\\\\t\\\\tmean: mean,\\\\r\\\\n\\\\t\\\\tattributeBuffers: attributeBuffers,\\\\r\\\\n\\\\t\\\\ttightBoundingBox: { min: tightBoxMin, max: tightBoxMax },\\\\r\\\\n\\\\t\\\\t//estimatedSpacing: estimatedSpacing,\\\\r\\\\n\\\\t};\\\\r\\\\n\\\\r\\\\n\\\\tlet transferables = [];\\\\r\\\\n\\\\tfor (let property in message.attributeBuffers) {\\\\r\\\\n\\\\t\\\\ttransferables.push(message.attributeBuffers[property].buffer);\\\\r\\\\n\\\\t}\\\\r\\\\n\\\\ttransferables.push(buffer);\\\\r\\\\n\\\\r\\\\n\\\\tpostMessage(message, transferables);\\\\r\\\\n};\\\\r\\\\n//# sourceURL=[module]\\\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9zcmMvd29ya2Vycy9CaW5hcnlEZWNvZGVyV29ya2VyLmpzP2JmNWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUVzQztBQUN1QztBQUNuQjtBQUM0Qjs7OztBQUl0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsbURBQU87QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQSw4QkFBOEIseUVBQWM7QUFDNUM7QUFDQTs7QUFFQSxrQkFBa0IsZUFBZTtBQUNqQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0Q0FBNEM7QUFDNUMsR0FBRyxrQ0FBa0MseUVBQWM7QUFDbkQ7QUFDQTs7QUFFQSxrQkFBa0IsZUFBZTtBQUNqQztBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0Q0FBNEM7QUFDNUMsR0FBRyxrQ0FBa0MseUVBQWM7QUFDbkQ7QUFDQTs7QUFFQSxrQkFBa0IsZUFBZTtBQUNqQztBQUNBO0FBQ0E7O0FBRUEsNENBQTRDO0FBQzVDLEdBQUcsa0NBQWtDLHlFQUFjO0FBQ25EO0FBQ0E7O0FBRUEsa0JBQWtCLGVBQWU7QUFDakM7QUFDQTtBQUNBOztBQUVBLDRDQUE0QztBQUM1QyxHQUFHLGtDQUFrQyx5RUFBYztBQUNuRDtBQUNBOztBQUVBLGtCQUFrQixlQUFlO0FBQ2pDO0FBQ0E7QUFDQTs7QUFFQSw0Q0FBNEM7QUFDNUMsR0FBRyxrQ0FBa0MseUVBQWM7QUFDbkQ7QUFDQTs7QUFFQSxrQkFBa0IsZUFBZTtBQUNqQztBQUNBO0FBQ0E7O0FBRUEsNENBQTRDO0FBQzVDLEdBQUcsa0NBQWtDLHlFQUFjO0FBQ25EO0FBQ0E7O0FBRUEsa0JBQWtCLGVBQWU7QUFDakM7QUFDQTtBQUNBOztBQUVBLDRDQUE0QztBQUM1QyxHQUFHLGtDQUFrQyx5RUFBYztBQUNuRDtBQUNBOztBQUVBLGtCQUFrQixlQUFlO0FBQ2pDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNENBQTRDO0FBQzVDLEdBQUcsa0NBQWtDLHlFQUFjO0FBQ25EO0FBQ0E7O0FBRUEsa0JBQWtCLGVBQWU7QUFDakM7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDRDQUE0QztBQUM1QyxHQUFHLGtDQUFrQyx5RUFBYztBQUNuRDtBQUNBOztBQUVBLGtCQUFrQixlQUFlO0FBQ2pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0Q0FBNEM7QUFDNUMsR0FBRyxrQ0FBa0MseUVBQWM7QUFDbkQ7QUFDQTs7QUFFQSxpQkFBaUIsZUFBZTtBQUNoQztBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQix5RUFBYyxpQjtBQUNuQyxtQ0FBbUMseUVBQWM7QUFDakQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0IsZUFBZTtBQUMvQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsZ0JBQWdCLGVBQWU7QUFDL0I7QUFDQTtBQUNBOztBQUVBLG1CQUFtQix5RUFBYyxtQjtBQUNqQztBQUNBLGNBQWMseUVBQWM7QUFDNUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVLEVBbUlSOzs7QUFHRixFQUFFO0FBQ0Y7QUFDQTs7QUFFQSxpQkFBaUIsZUFBZTtBQUNoQztBQUNBOztBQUVBLG1CQUFtQix5RUFBYyxrQkFBa0IsMEJBQTBCLHlFQUFjO0FBQzNGOztBQUVBOztBQUVBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw0QkFBNEIsT0FBTyxVQUFVLFdBQVcsZUFBZTtBQUNqRztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIscUNBQXFDO0FBQzFEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwiZmlsZSI6Ii4vc3JjL3dvcmtlcnMvQmluYXJ5RGVjb2Rlcldvcmtlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5cclxuaW1wb3J0IHtWZXJzaW9ufSBmcm9tIFwiLi4vVmVyc2lvbi5qc1wiO1xyXG5pbXBvcnQge1BvaW50QXR0cmlidXRlcywgUG9pbnRBdHRyaWJ1dGV9IGZyb20gXCIuLi9sb2FkZXIvUG9pbnRBdHRyaWJ1dGVzLmpzXCI7XHJcbmltcG9ydCB7SW50ZXJsZWF2ZWRCdWZmZXJ9IGZyb20gXCIuLi9JbnRlcmxlYXZlZEJ1ZmZlci5qc1wiO1xyXG5pbXBvcnQge3RvSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGV9IGZyb20gXCIuLi91dGlscy90b0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlLmpzXCI7XHJcblxyXG5cclxuXHJcbi8qIGdsb2JhbCBvbm1lc3NhZ2U6dHJ1ZSBwb3N0TWVzc2FnZTpmYWxzZSAqL1xyXG4vKiBleHBvcnRlZCBvbm1lc3NhZ2UgKi9cclxuLy8gaHR0cDovL2pzcGVyZi5jb20vdWludDhhcnJheS12cy1kYXRhdmlldzMvM1xyXG5mdW5jdGlvbiBDdXN0b21WaWV3IChidWZmZXIpIHtcclxuXHR0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcclxuXHR0aGlzLnU4ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcclxuXHJcblx0bGV0IHRtcCA9IG5ldyBBcnJheUJ1ZmZlcig4KTtcclxuXHRsZXQgdG1wZiA9IG5ldyBGbG9hdDMyQXJyYXkodG1wKTtcclxuXHRsZXQgdG1wZCA9IG5ldyBGbG9hdDY0QXJyYXkodG1wKTtcclxuXHRsZXQgdG1wdTggPSBuZXcgVWludDhBcnJheSh0bXApO1xyXG5cclxuXHR0aGlzLmdldFVpbnQzMiA9IGZ1bmN0aW9uIChpKSB7XHJcblx0XHRyZXR1cm4gKHRoaXMudThbaSArIDNdIDw8IDI0KSB8ICh0aGlzLnU4W2kgKyAyXSA8PCAxNikgfCAodGhpcy51OFtpICsgMV0gPDwgOCkgfCB0aGlzLnU4W2ldO1xyXG5cdH07XHJcblxyXG5cdHRoaXMuZ2V0VWludDE2ID0gZnVuY3Rpb24gKGkpIHtcclxuXHRcdHJldHVybiAodGhpcy51OFtpICsgMV0gPDwgOCkgfCB0aGlzLnU4W2ldO1xyXG5cdH07XHJcblxyXG5cdHRoaXMuZ2V0RmxvYXQzMiA9IGZ1bmN0aW9uIChpKSB7XHJcblx0XHR0bXB1OFswXSA9IHRoaXMudThbaSArIDBdO1xyXG5cdFx0dG1wdThbMV0gPSB0aGlzLnU4W2kgKyAxXTtcclxuXHRcdHRtcHU4WzJdID0gdGhpcy51OFtpICsgMl07XHJcblx0XHR0bXB1OFszXSA9IHRoaXMudThbaSArIDNdO1xyXG5cclxuXHRcdHJldHVybiB0bXBmWzBdO1xyXG5cdH07XHJcblxyXG5cdHRoaXMuZ2V0RmxvYXQ2NCA9IGZ1bmN0aW9uIChpKSB7XHJcblx0XHR0bXB1OFswXSA9IHRoaXMudThbaSArIDBdO1xyXG5cdFx0dG1wdThbMV0gPSB0aGlzLnU4W2kgKyAxXTtcclxuXHRcdHRtcHU4WzJdID0gdGhpcy51OFtpICsgMl07XHJcblx0XHR0bXB1OFszXSA9IHRoaXMudThbaSArIDNdO1xyXG5cdFx0dG1wdThbNF0gPSB0aGlzLnU4W2kgKyA0XTtcclxuXHRcdHRtcHU4WzVdID0gdGhpcy51OFtpICsgNV07XHJcblx0XHR0bXB1OFs2XSA9IHRoaXMudThbaSArIDZdO1xyXG5cdFx0dG1wdThbN10gPSB0aGlzLnU4W2kgKyA3XTtcclxuXHJcblx0XHRyZXR1cm4gdG1wZFswXTtcclxuXHR9O1xyXG5cclxuXHR0aGlzLmdldFVpbnQ4ID0gZnVuY3Rpb24gKGkpIHtcclxuXHRcdHJldHVybiB0aGlzLnU4W2ldO1xyXG5cdH07XHJcbn1cclxuXHJcbm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChldmVudCkge1xyXG5cclxuXHRwZXJmb3JtYW5jZS5tYXJrKFwiYmluYXJ5LWRlY29kZXItc3RhcnRcIik7XHJcblx0XHJcblx0bGV0IGJ1ZmZlciA9IGV2ZW50LmRhdGEuYnVmZmVyO1xyXG5cdGxldCBwb2ludEF0dHJpYnV0ZXMgPSBldmVudC5kYXRhLnBvaW50QXR0cmlidXRlcztcclxuXHRsZXQgbnVtUG9pbnRzID0gYnVmZmVyLmJ5dGVMZW5ndGggLyBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemU7XHJcblx0bGV0IGN2ID0gbmV3IEN1c3RvbVZpZXcoYnVmZmVyKTtcclxuXHRsZXQgdmVyc2lvbiA9IG5ldyBWZXJzaW9uKGV2ZW50LmRhdGEudmVyc2lvbik7XHJcblx0bGV0IG5vZGVPZmZzZXQgPSBldmVudC5kYXRhLm9mZnNldDtcclxuXHRsZXQgc2NhbGUgPSBldmVudC5kYXRhLnNjYWxlO1xyXG5cdGxldCBzcGFjaW5nID0gZXZlbnQuZGF0YS5zcGFjaW5nO1xyXG5cdGxldCBoYXNDaGlsZHJlbiA9IGV2ZW50LmRhdGEuaGFzQ2hpbGRyZW47XHJcblx0bGV0IG5hbWUgPSBldmVudC5kYXRhLm5hbWU7XHJcblx0XHJcblx0bGV0IHRpZ2h0Qm94TWluID0gWyBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZIF07XHJcblx0bGV0IHRpZ2h0Qm94TWF4ID0gWyBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksIE51bWJlci5ORUdBVElWRV9JTkZJTklUWSwgTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZIF07XHJcblx0bGV0IG1lYW4gPSBbMCwgMCwgMF07XHJcblx0XHJcblxyXG5cdGxldCBhdHRyaWJ1dGVCdWZmZXJzID0ge307XHJcblx0bGV0IGluT2Zmc2V0ID0gMDtcclxuXHRmb3IgKGxldCBwb2ludEF0dHJpYnV0ZSBvZiBwb2ludEF0dHJpYnV0ZXMuYXR0cmlidXRlcykge1xyXG5cdFx0XHJcblx0XHRpZiAocG9pbnRBdHRyaWJ1dGUubmFtZSA9PT0gUG9pbnRBdHRyaWJ1dGUuUE9TSVRJT05fQ0FSVEVTSUFOLm5hbWUpIHtcclxuXHRcdFx0bGV0IGJ1ZmYgPSBuZXcgQXJyYXlCdWZmZXIobnVtUG9pbnRzICogNCAqIDMpO1xyXG5cdFx0XHRsZXQgcG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheShidWZmKTtcclxuXHRcdFxyXG5cdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IG51bVBvaW50czsgaisrKSB7XHJcblx0XHRcdFx0bGV0IHgsIHksIHo7XHJcblxyXG5cdFx0XHRcdGlmICh2ZXJzaW9uLm5ld2VyVGhhbignMS4zJykpIHtcclxuXHRcdFx0XHRcdHggPSAoY3YuZ2V0VWludDMyKGluT2Zmc2V0ICsgaiAqIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDAsIHRydWUpICogc2NhbGUpO1xyXG5cdFx0XHRcdFx0eSA9IChjdi5nZXRVaW50MzIoaW5PZmZzZXQgKyBqICogcG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgNCwgdHJ1ZSkgKiBzY2FsZSk7XHJcblx0XHRcdFx0XHR6ID0gKGN2LmdldFVpbnQzMihpbk9mZnNldCArIGogKiBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUgKyA4LCB0cnVlKSAqIHNjYWxlKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0eCA9IGN2LmdldEZsb2F0MzIoaiAqIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDAsIHRydWUpICsgbm9kZU9mZnNldFswXTtcclxuXHRcdFx0XHRcdHkgPSBjdi5nZXRGbG9hdDMyKGogKiBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUgKyA0LCB0cnVlKSArIG5vZGVPZmZzZXRbMV07XHJcblx0XHRcdFx0XHR6ID0gY3YuZ2V0RmxvYXQzMihqICogcG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgOCwgdHJ1ZSkgKyBub2RlT2Zmc2V0WzJdO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cG9zaXRpb25zWzMgKiBqICsgMF0gPSB4O1xyXG5cdFx0XHRcdHBvc2l0aW9uc1szICogaiArIDFdID0geTtcclxuXHRcdFx0XHRwb3NpdGlvbnNbMyAqIGogKyAyXSA9IHo7XHJcblxyXG5cdFx0XHRcdG1lYW5bMF0gKz0geCAvIG51bVBvaW50cztcclxuXHRcdFx0XHRtZWFuWzFdICs9IHkgLyBudW1Qb2ludHM7XHJcblx0XHRcdFx0bWVhblsyXSArPSB6IC8gbnVtUG9pbnRzO1xyXG5cclxuXHRcdFx0XHR0aWdodEJveE1pblswXSA9IE1hdGgubWluKHRpZ2h0Qm94TWluWzBdLCB4KTtcclxuXHRcdFx0XHR0aWdodEJveE1pblsxXSA9IE1hdGgubWluKHRpZ2h0Qm94TWluWzFdLCB5KTtcclxuXHRcdFx0XHR0aWdodEJveE1pblsyXSA9IE1hdGgubWluKHRpZ2h0Qm94TWluWzJdLCB6KTtcclxuXHJcblx0XHRcdFx0dGlnaHRCb3hNYXhbMF0gPSBNYXRoLm1heCh0aWdodEJveE1heFswXSwgeCk7XHJcblx0XHRcdFx0dGlnaHRCb3hNYXhbMV0gPSBNYXRoLm1heCh0aWdodEJveE1heFsxXSwgeSk7XHJcblx0XHRcdFx0dGlnaHRCb3hNYXhbMl0gPSBNYXRoLm1heCh0aWdodEJveE1heFsyXSwgeik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGF0dHJpYnV0ZUJ1ZmZlcnNbcG9pbnRBdHRyaWJ1dGUubmFtZV0gPSB7IGJ1ZmZlcjogYnVmZiwgYXR0cmlidXRlOiBwb2ludEF0dHJpYnV0ZSB9O1xyXG5cdFx0fSBlbHNlIGlmIChwb2ludEF0dHJpYnV0ZS5uYW1lID09PSBQb2ludEF0dHJpYnV0ZS5DT0xPUl9QQUNLRUQubmFtZSkge1xyXG5cdFx0XHRsZXQgYnVmZiA9IG5ldyBBcnJheUJ1ZmZlcihudW1Qb2ludHMgKiA0KTtcclxuXHRcdFx0bGV0IGNvbG9ycyA9IG5ldyBVaW50OEFycmF5KGJ1ZmYpO1xyXG5cclxuXHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBudW1Qb2ludHM7IGorKykge1xyXG5cdFx0XHRcdGNvbG9yc1s0ICogaiArIDBdID0gY3YuZ2V0VWludDgoaW5PZmZzZXQgKyBqICogcG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgMCk7XHJcblx0XHRcdFx0Y29sb3JzWzQgKiBqICsgMV0gPSBjdi5nZXRVaW50OChpbk9mZnNldCArIGogKiBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUgKyAxKTtcclxuXHRcdFx0XHRjb2xvcnNbNCAqIGogKyAyXSA9IGN2LmdldFVpbnQ4KGluT2Zmc2V0ICsgaiAqIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDIpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRhdHRyaWJ1dGVCdWZmZXJzW3BvaW50QXR0cmlidXRlLm5hbWVdID0geyBidWZmZXI6IGJ1ZmYsIGF0dHJpYnV0ZTogcG9pbnRBdHRyaWJ1dGUgfTtcclxuXHRcdH0gZWxzZSBpZiAocG9pbnRBdHRyaWJ1dGUubmFtZSA9PT0gUG9pbnRBdHRyaWJ1dGUuSU5URU5TSVRZLm5hbWUpIHtcclxuXHRcdFx0bGV0IGJ1ZmYgPSBuZXcgQXJyYXlCdWZmZXIobnVtUG9pbnRzICogNCk7XHJcblx0XHRcdGxldCBpbnRlbnNpdGllcyA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZik7XHJcblxyXG5cdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IG51bVBvaW50czsgaisrKSB7XHJcblx0XHRcdFx0bGV0IGludGVuc2l0eSA9IGN2LmdldFVpbnQxNihpbk9mZnNldCArIGogKiBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUsIHRydWUpO1xyXG5cdFx0XHRcdGludGVuc2l0aWVzW2pdID0gaW50ZW5zaXR5O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRhdHRyaWJ1dGVCdWZmZXJzW3BvaW50QXR0cmlidXRlLm5hbWVdID0geyBidWZmZXI6IGJ1ZmYsIGF0dHJpYnV0ZTogcG9pbnRBdHRyaWJ1dGUgfTtcclxuXHRcdH0gZWxzZSBpZiAocG9pbnRBdHRyaWJ1dGUubmFtZSA9PT0gUG9pbnRBdHRyaWJ1dGUuQ0xBU1NJRklDQVRJT04ubmFtZSkge1xyXG5cdFx0XHRsZXQgYnVmZiA9IG5ldyBBcnJheUJ1ZmZlcihudW1Qb2ludHMpO1xyXG5cdFx0XHRsZXQgY2xhc3NpZmljYXRpb25zID0gbmV3IFVpbnQ4QXJyYXkoYnVmZik7XHJcblxyXG5cdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IG51bVBvaW50czsgaisrKSB7XHJcblx0XHRcdFx0bGV0IGNsYXNzaWZpY2F0aW9uID0gY3YuZ2V0VWludDgoaW5PZmZzZXQgKyBqICogcG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplKTtcclxuXHRcdFx0XHRjbGFzc2lmaWNhdGlvbnNbal0gPSBjbGFzc2lmaWNhdGlvbjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0YXR0cmlidXRlQnVmZmVyc1twb2ludEF0dHJpYnV0ZS5uYW1lXSA9IHsgYnVmZmVyOiBidWZmLCBhdHRyaWJ1dGU6IHBvaW50QXR0cmlidXRlIH07XHJcblx0XHR9IGVsc2UgaWYgKHBvaW50QXR0cmlidXRlLm5hbWUgPT09IFBvaW50QXR0cmlidXRlLlJFVFVSTl9OVU1CRVIubmFtZSkge1xyXG5cdFx0XHRsZXQgYnVmZiA9IG5ldyBBcnJheUJ1ZmZlcihudW1Qb2ludHMpO1xyXG5cdFx0XHRsZXQgcmV0dXJuTnVtYmVycyA9IG5ldyBVaW50OEFycmF5KGJ1ZmYpO1xyXG5cclxuXHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBudW1Qb2ludHM7IGorKykge1xyXG5cdFx0XHRcdGxldCByZXR1cm5OdW1iZXIgPSBjdi5nZXRVaW50OChpbk9mZnNldCArIGogKiBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUpO1xyXG5cdFx0XHRcdHJldHVybk51bWJlcnNbal0gPSByZXR1cm5OdW1iZXI7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGF0dHJpYnV0ZUJ1ZmZlcnNbcG9pbnRBdHRyaWJ1dGUubmFtZV0gPSB7IGJ1ZmZlcjogYnVmZiwgYXR0cmlidXRlOiBwb2ludEF0dHJpYnV0ZSB9O1xyXG5cdFx0fSBlbHNlIGlmIChwb2ludEF0dHJpYnV0ZS5uYW1lID09PSBQb2ludEF0dHJpYnV0ZS5OVU1CRVJfT0ZfUkVUVVJOUy5uYW1lKSB7XHJcblx0XHRcdGxldCBidWZmID0gbmV3IEFycmF5QnVmZmVyKG51bVBvaW50cyk7XHJcblx0XHRcdGxldCBudW1iZXJPZlJldHVybnMgPSBuZXcgVWludDhBcnJheShidWZmKTtcclxuXHJcblx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgbnVtUG9pbnRzOyBqKyspIHtcclxuXHRcdFx0XHRsZXQgbnVtYmVyT2ZSZXR1cm4gPSBjdi5nZXRVaW50OChpbk9mZnNldCArIGogKiBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUpO1xyXG5cdFx0XHRcdG51bWJlck9mUmV0dXJuc1tqXSA9IG51bWJlck9mUmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRhdHRyaWJ1dGVCdWZmZXJzW3BvaW50QXR0cmlidXRlLm5hbWVdID0geyBidWZmZXI6IGJ1ZmYsIGF0dHJpYnV0ZTogcG9pbnRBdHRyaWJ1dGUgfTtcclxuXHRcdH0gZWxzZSBpZiAocG9pbnRBdHRyaWJ1dGUubmFtZSA9PT0gUG9pbnRBdHRyaWJ1dGUuU09VUkNFX0lELm5hbWUpIHtcclxuXHRcdFx0bGV0IGJ1ZmYgPSBuZXcgQXJyYXlCdWZmZXIobnVtUG9pbnRzICogMik7XHJcblx0XHRcdGxldCBzb3VyY2VJRHMgPSBuZXcgVWludDE2QXJyYXkoYnVmZik7XHJcblxyXG5cdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IG51bVBvaW50czsgaisrKSB7XHJcblx0XHRcdFx0bGV0IHNvdXJjZUlEID0gY3YuZ2V0VWludDE2KGluT2Zmc2V0ICsgaiAqIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSk7XHJcblx0XHRcdFx0c291cmNlSURzW2pdID0gc291cmNlSUQ7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGF0dHJpYnV0ZUJ1ZmZlcnNbcG9pbnRBdHRyaWJ1dGUubmFtZV0gPSB7IGJ1ZmZlcjogYnVmZiwgYXR0cmlidXRlOiBwb2ludEF0dHJpYnV0ZSB9O1xyXG5cdFx0fSBlbHNlIGlmIChwb2ludEF0dHJpYnV0ZS5uYW1lID09PSBQb2ludEF0dHJpYnV0ZS5OT1JNQUxfU1BIRVJFTUFQUEVELm5hbWUpIHtcclxuXHRcdFx0bGV0IGJ1ZmYgPSBuZXcgQXJyYXlCdWZmZXIobnVtUG9pbnRzICogNCAqIDMpO1xyXG5cdFx0XHRsZXQgbm9ybWFscyA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZik7XHJcblxyXG5cdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IG51bVBvaW50czsgaisrKSB7XHJcblx0XHRcdFx0bGV0IGJ4ID0gY3YuZ2V0VWludDgoaW5PZmZzZXQgKyBqICogcG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgMCk7XHJcblx0XHRcdFx0bGV0IGJ5ID0gY3YuZ2V0VWludDgoaW5PZmZzZXQgKyBqICogcG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgMSk7XHJcblxyXG5cdFx0XHRcdGxldCBleCA9IGJ4IC8gMjU1O1xyXG5cdFx0XHRcdGxldCBleSA9IGJ5IC8gMjU1O1xyXG5cclxuXHRcdFx0XHRsZXQgbnggPSBleCAqIDIgLSAxO1xyXG5cdFx0XHRcdGxldCBueSA9IGV5ICogMiAtIDE7XHJcblx0XHRcdFx0bGV0IG56ID0gMTtcclxuXHRcdFx0XHRsZXQgbncgPSAtMTtcclxuXHJcblx0XHRcdFx0bGV0IGwgPSAobnggKiAoLW54KSkgKyAobnkgKiAoLW55KSkgKyAobnogKiAoLW53KSk7XHJcblx0XHRcdFx0bnogPSBsO1xyXG5cdFx0XHRcdG54ID0gbnggKiBNYXRoLnNxcnQobCk7XHJcblx0XHRcdFx0bnkgPSBueSAqIE1hdGguc3FydChsKTtcclxuXHJcblx0XHRcdFx0bnggPSBueCAqIDI7XHJcblx0XHRcdFx0bnkgPSBueSAqIDI7XHJcblx0XHRcdFx0bnogPSBueiAqIDIgLSAxO1xyXG5cclxuXHRcdFx0XHRub3JtYWxzWzMgKiBqICsgMF0gPSBueDtcclxuXHRcdFx0XHRub3JtYWxzWzMgKiBqICsgMV0gPSBueTtcclxuXHRcdFx0XHRub3JtYWxzWzMgKiBqICsgMl0gPSBuejtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0YXR0cmlidXRlQnVmZmVyc1twb2ludEF0dHJpYnV0ZS5uYW1lXSA9IHsgYnVmZmVyOiBidWZmLCBhdHRyaWJ1dGU6IHBvaW50QXR0cmlidXRlIH07XHJcblx0XHR9IGVsc2UgaWYgKHBvaW50QXR0cmlidXRlLm5hbWUgPT09IFBvaW50QXR0cmlidXRlLk5PUk1BTF9PQ1QxNi5uYW1lKSB7XHJcblx0XHRcdGxldCBidWZmID0gbmV3IEFycmF5QnVmZmVyKG51bVBvaW50cyAqIDQgKiAzKTtcclxuXHRcdFx0bGV0IG5vcm1hbHMgPSBuZXcgRmxvYXQzMkFycmF5KGJ1ZmYpO1xyXG5cclxuXHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBudW1Qb2ludHM7IGorKykge1xyXG5cdFx0XHRcdGxldCBieCA9IGN2LmdldFVpbnQ4KGluT2Zmc2V0ICsgaiAqIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDApO1xyXG5cdFx0XHRcdGxldCBieSA9IGN2LmdldFVpbnQ4KGluT2Zmc2V0ICsgaiAqIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDEpO1xyXG5cclxuXHRcdFx0XHRsZXQgdSA9IChieCAvIDI1NSkgKiAyIC0gMTtcclxuXHRcdFx0XHRsZXQgdiA9IChieSAvIDI1NSkgKiAyIC0gMTtcclxuXHJcblx0XHRcdFx0bGV0IHogPSAxIC0gTWF0aC5hYnModSkgLSBNYXRoLmFicyh2KTtcclxuXHJcblx0XHRcdFx0bGV0IHggPSAwO1xyXG5cdFx0XHRcdGxldCB5ID0gMDtcclxuXHRcdFx0XHRpZiAoeiA+PSAwKSB7XHJcblx0XHRcdFx0XHR4ID0gdTtcclxuXHRcdFx0XHRcdHkgPSB2O1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR4ID0gLSh2IC8gTWF0aC5zaWduKHYpIC0gMSkgLyBNYXRoLnNpZ24odSk7XHJcblx0XHRcdFx0XHR5ID0gLSh1IC8gTWF0aC5zaWduKHUpIC0gMSkgLyBNYXRoLnNpZ24odik7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRsZXQgbGVuZ3RoID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeik7XHJcblx0XHRcdFx0eCA9IHggLyBsZW5ndGg7XHJcblx0XHRcdFx0eSA9IHkgLyBsZW5ndGg7XHJcblx0XHRcdFx0eiA9IHogLyBsZW5ndGg7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0bm9ybWFsc1szICogaiArIDBdID0geDtcclxuXHRcdFx0XHRub3JtYWxzWzMgKiBqICsgMV0gPSB5O1xyXG5cdFx0XHRcdG5vcm1hbHNbMyAqIGogKyAyXSA9IHo7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGF0dHJpYnV0ZUJ1ZmZlcnNbcG9pbnRBdHRyaWJ1dGUubmFtZV0gPSB7IGJ1ZmZlcjogYnVmZiwgYXR0cmlidXRlOiBwb2ludEF0dHJpYnV0ZSB9O1xyXG5cdFx0fSBlbHNlIGlmIChwb2ludEF0dHJpYnV0ZS5uYW1lID09PSBQb2ludEF0dHJpYnV0ZS5OT1JNQUwubmFtZSkge1xyXG5cdFx0XHRsZXQgYnVmZiA9IG5ldyBBcnJheUJ1ZmZlcihudW1Qb2ludHMgKiA0ICogMyk7XHJcblx0XHRcdGxldCBub3JtYWxzID0gbmV3IEZsb2F0MzJBcnJheShidWZmKTtcclxuXHJcblx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgbnVtUG9pbnRzOyBqKyspIHtcclxuXHRcdFx0XHRsZXQgeCA9IGN2LmdldEZsb2F0MzIoaW5PZmZzZXQgKyBqICogcG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgMCwgdHJ1ZSk7XHJcblx0XHRcdFx0bGV0IHkgPSBjdi5nZXRGbG9hdDMyKGluT2Zmc2V0ICsgaiAqIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDQsIHRydWUpO1xyXG5cdFx0XHRcdGxldCB6ID0gY3YuZ2V0RmxvYXQzMihpbk9mZnNldCArIGogKiBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUgKyA4LCB0cnVlKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRub3JtYWxzWzMgKiBqICsgMF0gPSB4O1xyXG5cdFx0XHRcdG5vcm1hbHNbMyAqIGogKyAxXSA9IHk7XHJcblx0XHRcdFx0bm9ybWFsc1szICogaiArIDJdID0gejtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0YXR0cmlidXRlQnVmZmVyc1twb2ludEF0dHJpYnV0ZS5uYW1lXSA9IHsgYnVmZmVyOiBidWZmLCBhdHRyaWJ1dGU6IHBvaW50QXR0cmlidXRlIH07XHJcblx0XHR9IGVsc2UgaWYgKHBvaW50QXR0cmlidXRlLm5hbWUgPT09IFBvaW50QXR0cmlidXRlLkdQU19USU1FLm5hbWUpIHtcclxuXHRcdFx0bGV0IGJ1ZmYgPSBuZXcgQXJyYXlCdWZmZXIobnVtUG9pbnRzICogOCk7XHJcblx0XHRcdGxldCBncHN0aW1lcyA9IG5ldyBGbG9hdDY0QXJyYXkoYnVmZik7XHJcblxyXG5cdFx0XHRmb3IobGV0IGogPSAwOyBqIDwgbnVtUG9pbnRzOyBqKyspe1xyXG5cdFx0XHRcdGxldCBncHN0aW1lID0gY3YuZ2V0RmxvYXQ2NChpbk9mZnNldCArIGogKiBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUsIHRydWUpO1xyXG5cdFx0XHRcdGdwc3RpbWVzW2pdID0gZ3BzdGltZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRhdHRyaWJ1dGVCdWZmZXJzW3BvaW50QXR0cmlidXRlLm5hbWVdID0geyBidWZmZXI6IGJ1ZmYsIGF0dHJpYnV0ZTogcG9pbnRBdHRyaWJ1dGUgfTtcclxuXHRcdH1cclxuXHJcblx0XHRpbk9mZnNldCArPSBwb2ludEF0dHJpYnV0ZS5ieXRlU2l6ZTtcclxuXHR9XHJcblxyXG5cdC8vIENvbnZlcnQgR1BTIHRpbWUgZnJvbSBkb3VibGUgKHVuc3VwcG9ydGVkIGJ5IFdlYkdMKSB0byBvcmlnaW4tYWxpZ25lZCBmbG9hdHNcclxuXHRpZihhdHRyaWJ1dGVCdWZmZXJzW1BvaW50QXR0cmlidXRlLkdQU19USU1FLm5hbWVdKXsgXHJcblx0XHRsZXQgYXR0cmlidXRlID0gYXR0cmlidXRlQnVmZmVyc1tQb2ludEF0dHJpYnV0ZS5HUFNfVElNRS5uYW1lXTtcclxuXHRcdGxldCBzb3VyY2VGNjQgPSBuZXcgRmxvYXQ2NEFycmF5KGF0dHJpYnV0ZS5idWZmZXIpO1xyXG5cdFx0bGV0IHRhcmdldCA9IG5ldyBBcnJheUJ1ZmZlcihudW1Qb2ludHMgKiA0KTtcclxuXHRcdGxldCB0YXJnZXRGMzIgPSBuZXcgRmxvYXQzMkFycmF5KHRhcmdldCk7XHJcblxyXG5cdFx0bGV0IG1pbiA9IEluZmluaXR5O1xyXG5cdFx0bGV0IG1heCA9IC1JbmZpbml0eTtcclxuXHRcdGZvcihsZXQgaSA9IDA7IGkgPCBudW1Qb2ludHM7IGkrKyl7XHJcblx0XHRcdGxldCBncHN0aW1lID0gc291cmNlRjY0W2ldO1xyXG5cclxuXHRcdFx0bWluID0gTWF0aC5taW4obWluLCBncHN0aW1lKTtcclxuXHRcdFx0bWF4ID0gTWF0aC5tYXgobWF4LCBncHN0aW1lKTtcclxuXHRcdH1cclxuXHJcblx0XHRmb3IobGV0IGkgPSAwOyBpIDwgbnVtUG9pbnRzOyBpKyspe1xyXG5cdFx0XHRsZXQgZ3BzdGltZSA9IHNvdXJjZUY2NFtpXTtcclxuXHRcdFx0dGFyZ2V0RjMyW2ldID0gZ3BzdGltZSAtIG1pbjtcclxuXHRcdH1cclxuXHJcblx0XHRhdHRyaWJ1dGVCdWZmZXJzW1BvaW50QXR0cmlidXRlLkdQU19USU1FLm5hbWVdID0geyBcclxuXHRcdFx0YnVmZmVyOiB0YXJnZXQsIFxyXG5cdFx0XHRhdHRyaWJ1dGU6IFBvaW50QXR0cmlidXRlLkdQU19USU1FLFxyXG5cdFx0XHRvZmZzZXQ6IG1pbixcclxuXHRcdFx0cmFuZ2U6IG1heCAtIG1pbn07XHJcblx0fVxyXG5cclxuXHQvL2xldCBkZWJ1Z05vZGVzID0gW1wicjAyNlwiLCBcInIwMjI2XCIsXCJyMDIyNzRcIl07XHJcblx0Ly9pZihkZWJ1Z05vZGVzLmluY2x1ZGVzKG5hbWUpKXtcclxuXHRpZihmYWxzZSl7XHJcblx0XHRjb25zb2xlLmxvZyhcImVzdGltYXRlIHNwYWNpbmchXCIpO1xyXG5cclxuXHJcblx0XHRsZXQgc3BhcnNlR3JpZCA9IG5ldyBNYXAoKTtcclxuXHRcdGxldCBncmlkU2l6ZSA9IDE2O1xyXG5cclxuXHRcdGxldCB0aWdodEJveFNpemUgPSB0aWdodEJveE1heC5tYXAoIChhLCBpKSA9PiBhIC0gdGlnaHRCb3hNaW5baV0pO1xyXG5cdFx0bGV0IGN1YmVMZW5ndGggPSBNYXRoLm1heCguLi50aWdodEJveFNpemUpO1xyXG5cdFx0bGV0IGN1YmUgPSB7XHJcblx0XHRcdG1pbjogdGlnaHRCb3hNaW4sXHJcblx0XHRcdG1heDogdGlnaHRCb3hNaW4ubWFwKHYgPT4gdiArIGN1YmVMZW5ndGgpXHJcblx0XHR9O1xyXG5cclxuXHRcdGxldCBwb3NpdGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KGF0dHJpYnV0ZUJ1ZmZlcnNbUG9pbnRBdHRyaWJ1dGUuUE9TSVRJT05fQ0FSVEVTSUFOLm5hbWVdLmJ1ZmZlcik7XHJcblx0XHRmb3IobGV0IGkgPSAwOyBpIDwgbnVtUG9pbnRzOyBpKyspe1xyXG5cdFx0XHRsZXQgeCA9IHBvc2l0aW9uc1szICogaSArIDBdO1xyXG5cdFx0XHRsZXQgeSA9IHBvc2l0aW9uc1szICogaSArIDFdO1xyXG5cdFx0XHRsZXQgeiA9IHBvc2l0aW9uc1szICogaSArIDJdO1xyXG5cclxuXHRcdFx0bGV0IGl4ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oZ3JpZFNpemUgKiAoeCAtIGN1YmUubWluWzBdKSAvIGN1YmVMZW5ndGgsIGdyaWRTaXplIC0gMSkpO1xyXG5cdFx0XHRsZXQgaXkgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihncmlkU2l6ZSAqICh5IC0gY3ViZS5taW5bMV0pIC8gY3ViZUxlbmd0aCwgZ3JpZFNpemUgLSAxKSk7XHJcblx0XHRcdGxldCBpeiA9IE1hdGgubWF4KDAsIE1hdGgubWluKGdyaWRTaXplICogKHogLSBjdWJlLm1pblsyXSkgLyBjdWJlTGVuZ3RoLCBncmlkU2l6ZSAtIDEpKTtcclxuXHJcblx0XHRcdGl4ID0gTWF0aC5mbG9vcihpeCk7XHJcblx0XHRcdGl5ID0gTWF0aC5mbG9vcihpeSk7XHJcblx0XHRcdGl6ID0gTWF0aC5mbG9vcihpeik7XHJcblxyXG5cdFx0XHRsZXQgY2VsbEluZGV4ID0gaXggfCAoaXkgPDwgOCkgfCAoaXogPDwgMTYpO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYoIXNwYXJzZUdyaWQuaGFzKGNlbGxJbmRleCkpe1xyXG5cdFx0XHRcdHNwYXJzZUdyaWQuc2V0KGNlbGxJbmRleCwgW10pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRzcGFyc2VHcmlkLmdldChjZWxsSW5kZXgpLnB1c2goaSk7XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IGtOZWFyZXN0ID0gKHBvaW50SW5kZXgsIGNhbmRpZGF0ZXMsIG51bU5lYXJlc3QpID0+IHtcclxuXHRcdFx0XHJcblx0XHRcdGxldCB4ID0gcG9zaXRpb25zWzMgKiBwb2ludEluZGV4ICsgMF07XHJcblx0XHRcdGxldCB5ID0gcG9zaXRpb25zWzMgKiBwb2ludEluZGV4ICsgMV07XHJcblx0XHRcdGxldCB6ID0gcG9zaXRpb25zWzMgKiBwb2ludEluZGV4ICsgMl07XHJcblxyXG5cdFx0XHRsZXQgY2FuZGlkYXRlRGlzdGFuY2VzID0gW107XHJcblxyXG5cdFx0XHRmb3IobGV0IGNhbmRpZGF0ZUluZGV4IG9mIGNhbmRpZGF0ZXMpe1xyXG5cdFx0XHRcdGlmKGNhbmRpZGF0ZUluZGV4ID09PSBwb2ludEluZGV4KXtcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0bGV0IGN4ID0gcG9zaXRpb25zWzMgKiBjYW5kaWRhdGVJbmRleCArIDBdO1xyXG5cdFx0XHRcdGxldCBjeSA9IHBvc2l0aW9uc1szICogY2FuZGlkYXRlSW5kZXggKyAxXTtcclxuXHRcdFx0XHRsZXQgY3ogPSBwb3NpdGlvbnNbMyAqIGNhbmRpZGF0ZUluZGV4ICsgMl07XHJcblxyXG5cdFx0XHRcdGxldCBzcXVhcmVkRGlzdGFuY2UgPSAoY3ggLSB4KSAqKiAyICsgKGN5IC0geSkgKiogMiArIChjeiAtIHopICoqIDI7XHJcblxyXG5cdFx0XHRcdGNhbmRpZGF0ZURpc3RhbmNlcy5wdXNoKHtjYW5kaWRhdGVJbmRlOiBjYW5kaWRhdGVJbmRleCwgc3F1YXJlZERpc3RhbmNlOiBzcXVhcmVkRGlzdGFuY2V9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y2FuZGlkYXRlRGlzdGFuY2VzLnNvcnQoIChhLCBiKSA9PiBhLnNxdWFyZWREaXN0YW5jZSAtIGIuc3F1YXJlZERpc3RhbmNlKTtcclxuXHRcdFx0bGV0IG5lYXJlc3QgPSBjYW5kaWRhdGVEaXN0YW5jZXMuc2xpY2UoMCwgbnVtTmVhcmVzdCk7XHJcblxyXG5cdFx0XHRyZXR1cm4gbmVhcmVzdDtcclxuXHRcdH07XHJcblxyXG5cdFx0bGV0IG1lYW5zQnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKG51bVBvaW50cyAqIDQpO1xyXG5cdFx0bGV0IG1lYW5zID0gbmV3IEZsb2F0MzJBcnJheShtZWFuc0J1ZmZlcik7XHJcblxyXG5cdFx0Zm9yKGxldCBba2V5LCB2YWx1ZV0gb2Ygc3BhcnNlR3JpZCl7XHJcblx0XHRcdFxyXG5cdFx0XHRmb3IobGV0IHBvaW50SW5kZXggb2YgdmFsdWUpe1xyXG5cclxuXHRcdFx0XHRpZih2YWx1ZS5sZW5ndGggPT09IDEpe1xyXG5cdFx0XHRcdFx0bWVhbnNbcG9pbnRJbmRleF0gPSAwO1xyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRsZXQgW2l4LCBpeSwgaXpdID0gWyhrZXkgJiAyNTUpLCAoKGtleSA+PiA4KSAmIDI1NSksICgoa2V5ID4+IDE2KSAmIDI1NSldO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vbGV0IGNhbmRpZGF0ZXMgPSB2YWx1ZTtcclxuXHRcdFx0XHRsZXQgY2FuZGlkYXRlcyA9IFtdO1xyXG5cdFx0XHRcdGZvcihsZXQgaSBvZiBbLTEsIDAsIDFdKXtcclxuXHRcdFx0XHRcdGZvcihsZXQgaiBvZiBbLTEsIDAsIDFdKXtcclxuXHRcdFx0XHRcdFx0Zm9yKGxldCBrIG9mIFstMSwgMCwgMV0pe1xyXG5cdFx0XHRcdFx0XHRcdGxldCBjZWxsSW5kZXggPSAoaXggKyBpKSB8ICgoaXkgKyBqKSA8PCA4KSB8ICgoaXogKyBrKSA8PCAxNik7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmKHNwYXJzZUdyaWQuaGFzKGNlbGxJbmRleCkpe1xyXG5cdFx0XHRcdFx0XHRcdFx0Y2FuZGlkYXRlcy5wdXNoKC4uLnNwYXJzZUdyaWQuZ2V0KGNlbGxJbmRleCkpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHRcdGxldCBuZWFyZXN0TmVpZ2hib3JzID0ga05lYXJlc3QocG9pbnRJbmRleCwgY2FuZGlkYXRlcywgMTApO1xyXG5cclxuXHRcdFx0XHRsZXQgc3VtID0gMDtcclxuXHRcdFx0XHRmb3IobGV0IG5laWdoYm9yIG9mIG5lYXJlc3ROZWlnaGJvcnMpe1xyXG5cdFx0XHRcdFx0c3VtICs9IE1hdGguc3FydChuZWlnaGJvci5zcXVhcmVkRGlzdGFuY2UpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly9sZXQgbWVhbiA9IHN1bSAvIG5lYXJlc3ROZWlnaGJvcnMubGVuZ3RoO1xyXG5cdFx0XHRcdGxldCBtZWFuID0gTWF0aC5zcXJ0KE1hdGgubWF4KC4uLm5lYXJlc3ROZWlnaGJvcnMubWFwKG4gPT4gbi5zcXVhcmVkRGlzdGFuY2UpKSk7XHJcblxyXG5cdFx0XHRcdGlmKE51bWJlci5pc05hTihtZWFuKSl7XHJcblx0XHRcdFx0XHRkZWJ1Z2dlcjtcclxuXHRcdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0XHRtZWFuc1twb2ludEluZGV4XSA9IG1lYW47XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHJcblx0XHRsZXQgbWF4TWVhbiA9IE1hdGgubWF4KC4uLm1lYW5zKTtcclxuXHRcdGxldCBtaW5NZWFuID0gTWF0aC5taW4oLi4ubWVhbnMpO1xyXG5cclxuXHRcdC8vbGV0IGNvbG9ycyA9IG5ldyBVaW50OEFycmF5KGF0dHJpYnV0ZUJ1ZmZlcnNbUG9pbnRBdHRyaWJ1dGUuQ09MT1JfUEFDS0VELm5hbWVdLmJ1ZmZlcik7XHJcblx0XHQvL2ZvcihsZXQgaSA9IDA7IGkgPCBudW1Qb2ludHM7IGkrKyl7XHJcblx0XHQvL1x0bGV0IHYgPSBtZWFuc1tpXSAvIDAuMDU7XHJcblxyXG5cdFx0Ly9cdGNvbG9yc1s0ICogaSArIDBdID0gMjU1ICogdjtcclxuXHRcdC8vXHRjb2xvcnNbNCAqIGkgKyAxXSA9IDI1NSAqIHY7XHJcblx0XHQvL1x0Y29sb3JzWzQgKiBpICsgMl0gPSAyNTUgKiB2O1xyXG5cdFx0Ly99XHJcblxyXG5cdFx0YXR0cmlidXRlQnVmZmVyc1tQb2ludEF0dHJpYnV0ZS5TUEFDSU5HLm5hbWVdID0geyBidWZmZXI6IG1lYW5zQnVmZmVyLCBhdHRyaWJ1dGU6IFBvaW50QXR0cmlidXRlLlNQQUNJTkcgfTtcclxuXHJcblxyXG5cdH1cclxuXHJcblxyXG5cdHsgLy8gYWRkIGluZGljZXNcclxuXHRcdGxldCBidWZmID0gbmV3IEFycmF5QnVmZmVyKG51bVBvaW50cyAqIDQpO1xyXG5cdFx0bGV0IGluZGljZXMgPSBuZXcgVWludDMyQXJyYXkoYnVmZik7XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBudW1Qb2ludHM7IGkrKykge1xyXG5cdFx0XHRpbmRpY2VzW2ldID0gaTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0YXR0cmlidXRlQnVmZmVyc1tQb2ludEF0dHJpYnV0ZS5JTkRJQ0VTLm5hbWVdID0geyBidWZmZXI6IGJ1ZmYsIGF0dHJpYnV0ZTogUG9pbnRBdHRyaWJ1dGUuSU5ESUNFUyB9O1xyXG5cdH1cclxuXHJcblx0cGVyZm9ybWFuY2UubWFyayhcImJpbmFyeS1kZWNvZGVyLWVuZFwiKTtcclxuXHJcblx0Ly97IC8vIHByaW50IHRpbWluZ3NcclxuXHQvL1x0Ly9wZXJmb3JtYW5jZS5tZWFzdXJlKFwic3BhY2luZ1wiLCBcInNwYWNpbmctc3RhcnRcIiwgXCJzcGFjaW5nLWVuZFwiKTtcclxuXHQvL1x0cGVyZm9ybWFuY2UubWVhc3VyZShcImJpbmFyeS1kZWNvZGVyXCIsIFwiYmluYXJ5LWRlY29kZXItc3RhcnRcIiwgXCJiaW5hcnktZGVjb2Rlci1lbmRcIik7XHJcblx0Ly9cdGxldCBtZWFzdXJlID0gcGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZShcIm1lYXN1cmVcIilbMF07XHJcblx0Ly9cdGxldCBkcHAgPSAxMDAwICogbWVhc3VyZS5kdXJhdGlvbiAvIG51bVBvaW50cztcclxuXHQvL1x0bGV0IGRlYnVnTWVzc2FnZSA9IGAke21lYXN1cmUuZHVyYXRpb24udG9GaXhlZCgzKX0gbXMsICR7bnVtUG9pbnRzfSBwb2ludHMsICR7ZHBwLnRvRml4ZWQoMyl9IMK1cyAvIHBvaW50YDtcclxuXHQvL1x0Y29uc29sZS5sb2coZGVidWdNZXNzYWdlKTtcclxuXHQvL31cclxuXHJcblx0cGVyZm9ybWFuY2UuY2xlYXJNYXJrcygpO1xyXG5cdHBlcmZvcm1hbmNlLmNsZWFyTWVhc3VyZXMoKTtcclxuXHJcblx0bGV0IG1lc3NhZ2UgPSB7XHJcblx0XHRidWZmZXI6IGJ1ZmZlcixcclxuXHRcdG1lYW46IG1lYW4sXHJcblx0XHRhdHRyaWJ1dGVCdWZmZXJzOiBhdHRyaWJ1dGVCdWZmZXJzLFxyXG5cdFx0dGlnaHRCb3VuZGluZ0JveDogeyBtaW46IHRpZ2h0Qm94TWluLCBtYXg6IHRpZ2h0Qm94TWF4IH0sXHJcblx0XHQvL2VzdGltYXRlZFNwYWNpbmc6IGVzdGltYXRlZFNwYWNpbmcsXHJcblx0fTtcclxuXHJcblx0bGV0IHRyYW5zZmVyYWJsZXMgPSBbXTtcclxuXHRmb3IgKGxldCBwcm9wZXJ0eSBpbiBtZXNzYWdlLmF0dHJpYnV0ZUJ1ZmZlcnMpIHtcclxuXHRcdHRyYW5zZmVyYWJsZXMucHVzaChtZXNzYWdlLmF0dHJpYnV0ZUJ1ZmZlcnNbcHJvcGVydHldLmJ1ZmZlcik7XHJcblx0fVxyXG5cdHRyYW5zZmVyYWJsZXMucHVzaChidWZmZXIpO1xyXG5cclxuXHRwb3N0TWVzc2FnZShtZXNzYWdlLCB0cmFuc2ZlcmFibGVzKTtcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\\\\n//# sourceURL=webpack-internal:///./src/workers/BinaryDecoderWorker.js\\\\n\\\");\\n\\n/***/ })\\n\\n/******/ });\", __webpack_require__.p + \"dbf76e51a2429872a16e.worker.js\");\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9zcmMvd29ya2Vycy9CaW5hcnlEZWNvZGVyV29ya2VyLmpzPzQ3MjIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxTQUFTLG1CQUFPLENBQUMsNkhBQThGLGdDQUFnQywyRkFBMkYsbUdBQW1HLHNHQUFzRywyREFBMkQsZ0JBQWdCLDJIQUEySCxtRkFBbUYsaUJBQWlCLDBKQUEwSixvRkFBb0YsaUdBQWlHLGNBQWMsZ0lBQWdJLHVHQUF1RywwSUFBMEksMERBQTBELHVEQUF1RCxnQ0FBZ0MsRUFBRSxnQkFBZ0IsZUFBZSw4R0FBOEcsd0VBQXdFLHFFQUFxRSxrQkFBa0IsRUFBRSxnQkFBZ0IsNkRBQTZELGNBQWMsRUFBRSxlQUFlLDZWQUE2ViwrREFBK0QseUNBQXlDLHFHQUFxRyw0Q0FBNEMseUNBQXlDLHFEQUFxRCxpQ0FBaUMsRUFBRSw0SEFBNEgsbUJBQW1CLEVBQUUsa0JBQWtCLHlCQUF5QixlQUFlLHFKQUFxSixpR0FBaUcsMEJBQTBCLEVBQUUsZ0RBQWdELGVBQWUsR0FBRywwREFBMEQsNkJBQTZCLGVBQWUsK0hBQStILCtEQUErRCxHQUFHLDJGQUEyRixrTEFBa0wsWUFBWSwwRkFBMEYsa1RBQWtULG1CQUFtQixvREFBb0QsNkhBQTZILG1DQUFtQyxFQUFFLEVBQUUsb0hBQW9ILDBCQUEwQixFQUFFLEVBQUUsc0RBQXNELDBFQUEwRSw2QkFBNkIsK0JBQStCLDJDQUEyQyx5Q0FBeUMsNkJBQTZCLDhFQUE4RSxpQkFBaUIsb0NBQW9DLDBEQUEwRCw2QkFBNkIseUNBQXlDLDJFQUEyRSx5REFBeUQsMkNBQTJDLFVBQVUsK0JBQStCLDJCQUEyQix3REFBd0QscUNBQXFDLGdDQUFnQyxnQkFBZ0Isa0RBQWtELGFBQWEsb0NBQW9DLFVBQVUsaUJBQWlCLG9FQUFvRSxjQUFjLHl2REFBeXZELFdBQVcsc09BQXNPLG1CQUFtQixvREFBb0QsMEdBQTBHLGdCQUFnQixFQUFFLEVBQUUsdUJBQXVCLG9DQUFvQyxtQ0FBbUMsaUdBQWlHLHNFQUFzRSx1RUFBdUUsaURBQWlELHFDQUFxQyxhQUFhLFVBQVUsa0NBQWtDLHlDQUF5QywyREFBMkQsMkJBQTJCLGFBQWEsdUZBQXVGLDJCQUEyQixhQUFhLE9BQU8sNEJBQTRCLGFBQWEsVUFBVSxzQ0FBc0MseUNBQXlDLDJEQUEyRCwyQkFBMkIsYUFBYSx3RkFBd0YsMkJBQTJCLGFBQWEsT0FBTyw0QkFBNEIsYUFBYSxVQUFVLDZCQUE2Qiw0Q0FBNEMsVUFBVSxhQUFhLHNGQUFzRixjQUFjLHVnRUFBdWdFLFdBQVcsb1dBQW9XLG1CQUFtQixvREFBb0Qsc0hBQXNILDRCQUE0QixFQUFFLEVBQUUsc0hBQXNILDRCQUE0QixFQUFFLEVBQUUsaUhBQWlILHVCQUF1QixFQUFFLEVBQUUsa0hBQWtILHdCQUF3QixFQUFFLEVBQUUsNENBQTRDLGlEQUFpRCw2Q0FBNkMseURBQXlELDJEQUEyRCwwREFBMEQsMFNBQTBTLG9KQUFvSiw0QkFBNEIsb0JBQW9CLDRCQUE0QixvQkFBb0IsMkJBQTJCLG9CQUFvQiw0QkFBNEIsb0JBQW9CLDRCQUE0QixvQkFBb0IsNkJBQTZCLG9CQUFvQiw0QkFBNEIsb0JBQW9CLDZCQUE2QixvQkFBb0IsNEJBQTRCLG9CQUFvQiw2QkFBNkIsb0JBQW9CLFFBQVEsc0JBQXNCLDRDQUE0QywyREFBMkQsYUFBYSxPQUFPLG1EQUFtRCx1REFBdUQsNkJBQTZCLDZCQUE2QiwyQ0FBMkMsOERBQThELFVBQVUsY0FBYyxvS0FBb0ssc0pBQXNKLHFFQUFxRSxxSkFBcUosMEpBQTBKLCtJQUErSSxtSkFBbUosNEpBQTRKLHNLQUFzSyx3SkFBd0osNElBQTRJLDZKQUE2SixxS0FBcUssc0pBQXNKLCtJQUErSSw4SUFBOEksaUpBQWlKLDhDQUE4Qyw0Q0FBNEMsaUNBQWlDLDhCQUE4QiwwQkFBMEIsZ0RBQWdELDhCQUE4Qiw0QkFBNEIsT0FBTyw4REFBOEQsMEVBQTBFLHVEQUF1RCwyREFBMkQsOEJBQThCLGdCQUFnQixhQUFhLFVBQVUseUNBQXlDLGlEQUFpRCxxREFBcUQsd0JBQXdCLFdBQVcsMkJBQTJCLCtDQUErQywwREFBMEQsOEVBQThFLDhCQUE4QixnQkFBZ0IsYUFBYSwrQkFBK0IsV0FBVyw0QkFBNEIsK0NBQStDLDBEQUEwRCxpU0FBaVMsOEJBQThCLGdCQUFnQixhQUFhLCtCQUErQixXQUFXLGFBQWEsMEVBQTBFLGNBQWMsMGdSQUEwZ1IsV0FBVyx1V0FBdVcsbUJBQW1CLG9EQUFvRCwrSEFBK0gscUNBQXFDLEVBQUUsRUFBRSx1TEFBdUwsaUZBQWlGLHdCQUF3Qix3SkFBd0osdUdBQXVHLFVBQVUsc0lBQXNJLDBHQUEwRyxVQUFVLG1JQUFtSSx1R0FBdUcsVUFBVSx3SUFBd0ksNEdBQTRHLFVBQVUsdUlBQXVJLDBHQUEwRyxVQUFVLDJJQUEySSw2R0FBNkcsVUFBVSxtSUFBbUksMkdBQTJHLFVBQVUsNklBQTZJLHFHQUFxRyxVQUFVLHNJQUFzSSxxR0FBcUcsVUFBVSxnSUFBZ0kscUdBQXFHLFVBQVUsNkJBQTZCLFFBQVEsMEVBQTBFLGNBQWMsMHdHQUEwd0csV0FBVyxnVEFBZ1QsbUJBQW1CLG9EQUFvRCwwSUFBMEksdUxBQXVMLHdLQUF3SywyTkFBMk4sNE5BQTROLDhCQUE4QiwwQ0FBMEMsNENBQTRDLDBDQUEwQywwQ0FBMEMseUNBQXlDLDhDQUE4Qyx3R0FBd0csV0FBVyw4Q0FBOEMsc0RBQXNELFdBQVcsK0NBQStDLHNDQUFzQyxzQ0FBc0Msc0NBQXNDLHNDQUFzQyxpQ0FBaUMsV0FBVywrQ0FBK0Msc0NBQXNDLHNDQUFzQyxzQ0FBc0Msc0NBQXNDLHNDQUFzQyxzQ0FBc0Msc0NBQXNDLHNDQUFzQyxpQ0FBaUMsV0FBVyw2Q0FBNkMsOEJBQThCLFdBQVcsT0FBTywwQ0FBMEMsOERBQThELGlEQUFpRCwwREFBMEQsc0VBQXNFLHlDQUF5Qyx5R0FBeUcsNENBQTRDLHNDQUFzQywwQ0FBMEMsa0RBQWtELG9DQUFvQyxxSEFBcUgsNEdBQTRHLDhCQUE4QixrREFBa0QsMEJBQTBCLGlFQUFpRSw4SkFBOEosNkRBQTZELHNEQUFzRCwwQ0FBMEMsZUFBZSxPQUFPLDhCQUE4Qix1REFBdUQsbUdBQW1HLG1HQUFtRyxtR0FBbUcsbUJBQW1CLE9BQU8sK0ZBQStGLCtGQUErRiwrRkFBK0YsbUJBQW1CLGlEQUFpRCwyQ0FBMkMsMkNBQTJDLGlEQUFpRCwyQ0FBMkMsMkNBQTJDLHFFQUFxRSwrREFBK0QsK0RBQStELHFFQUFxRSwrREFBK0QsK0RBQStELGdCQUFnQiw4REFBOEQsMkNBQTJDLGFBQWEsc0lBQXNJLHlEQUF5RCxpREFBaUQsb0NBQW9DLGVBQWUsT0FBTywrRkFBK0YsK0ZBQStGLCtGQUErRixnQkFBZ0IsOERBQThELDJDQUEyQyxhQUFhLG1JQUFtSSx5REFBeUQsd0RBQXdELG9DQUFvQyxlQUFlLE9BQU8sOEZBQThGLDZDQUE2QyxnQkFBZ0IsOERBQThELDJDQUEyQyxhQUFhLHdJQUF3SSxxREFBcUQsMERBQTBELG9DQUFvQyxlQUFlLE9BQU8sNEZBQTRGLHNEQUFzRCxnQkFBZ0IsOERBQThELDJDQUEyQyxhQUFhLHVJQUF1SSxxREFBcUQsd0RBQXdELG9DQUFvQyxlQUFlLE9BQU8sMEZBQTBGLGtEQUFrRCxnQkFBZ0IsOERBQThELDJDQUEyQyxhQUFhLDJJQUEySSxxREFBcUQsMERBQTBELG9DQUFvQyxlQUFlLE9BQU8sNEZBQTRGLHNEQUFzRCxnQkFBZ0IsOERBQThELDJDQUEyQyxhQUFhLG1JQUFtSSx5REFBeUQscURBQXFELG9DQUFvQyxlQUFlLE9BQU8sdUZBQXVGLDBDQUEwQyxnQkFBZ0IsOERBQThELDJDQUEyQyxhQUFhLDZJQUE2SSw2REFBNkQsb0RBQW9ELG9DQUFvQyxlQUFlLE9BQU8sb0ZBQW9GLG9GQUFvRiwwQ0FBMEMsb0NBQW9DLDRDQUE0QyxzQ0FBc0MsNkJBQTZCLDhCQUE4QiwyRUFBMkUseUJBQXlCLHlDQUF5Qyx5Q0FBeUMsb0NBQW9DLDhCQUE4QixrQ0FBa0MsZ0RBQWdELDBDQUEwQywwQ0FBMEMsZ0JBQWdCLDhEQUE4RCwyQ0FBMkMsYUFBYSxzSUFBc0ksNkRBQTZELG9EQUFvRCxvQ0FBb0MsZUFBZSxPQUFPLG9GQUFvRixvRkFBb0YsbURBQW1ELDZDQUE2Qyw4REFBOEQsa0NBQWtDLDRCQUE0QiwrQkFBK0IsMkJBQTJCLDJCQUEyQixtQkFBbUIsT0FBTyxnRUFBZ0UsZ0VBQWdFLG1CQUFtQixzRUFBc0UsaUNBQWlDLGlDQUFpQyxpQ0FBaUMsMkRBQTJELHlDQUF5Qyx5Q0FBeUMsZ0JBQWdCLDhEQUE4RCwyQ0FBMkMsYUFBYSxnSUFBZ0ksNkRBQTZELG9EQUFvRCxvQ0FBb0MsZUFBZSxPQUFPLDJGQUEyRiwyRkFBMkYsMkZBQTJGLDJEQUEyRCx5Q0FBeUMseUNBQXlDLGdCQUFnQiw4REFBOEQsMkNBQTJDLGFBQWEsa0lBQWtJLHlEQUF5RCxxREFBcUQsbUNBQW1DLGVBQWUsTUFBTSw2RkFBNkYsd0NBQXdDLGdCQUFnQix3REFBd0QsMkNBQTJDLGFBQWEsc0RBQXNELFVBQVUsMk5BQTJOLDZJQUE2SSwrREFBK0Qsd0RBQXdELHFEQUFxRCxxQ0FBcUMsZ0NBQWdDLDBCQUEwQixlQUFlLE1BQU0sMENBQTBDLGtEQUFrRCw0Q0FBNEMsYUFBYSxnQ0FBZ0MsZUFBZSxNQUFNLDBDQUEwQyw0Q0FBNEMsYUFBYSxxSUFBcUksK01BQStNLFVBQVUsK0VBQStFLHlDQUF5QyxvQkFBb0Isc0JBQXNCLHFFQUFxRSxnREFBZ0QsaUNBQWlDLGVBQWUsT0FBTyw4QkFBOEIsYUFBYSwwSUFBMEksb0hBQW9ILFVBQVUsNERBQTRELGtCQUFrQixrSEFBa0gsb0hBQW9ILDZFQUE2RSw0REFBNEQsb0NBQW9DLDRCQUE0QixPQUFPLFVBQVUsV0FBVyxlQUFlLGFBQWEsd0NBQXdDLFlBQVksd0NBQXdDLHFDQUFxQyw4QkFBOEIsZ0lBQWdJLHFDQUFxQyw2REFBNkQsc0NBQXNDLHlEQUF5RCwwRUFBMEUsVUFBVSxvQ0FBb0MsbURBQW1ELFFBQVEsMEVBQTBFLGNBQWMsK3R5QkFBK3R5QixXQUFXLGVBQWUsRUFBRSxHQUFHLHFCQUF1QjtBQUN2NjBFIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3dvcmtlci1sb2FkZXIvZGlzdC9janMuanM/aW5saW5lIS4vc3JjL3dvcmtlcnMvQmluYXJ5RGVjb2Rlcldvcmtlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiByZXF1aXJlKFwiISFEOlxcXFxWaXN1YWxpdmVDb2RlXFxcXHplYS1wb3RyZWVcXFxcbm9kZV9tb2R1bGVzXFxcXHdvcmtlci1sb2FkZXJcXFxcZGlzdFxcXFx3b3JrZXJzXFxcXElubGluZVdvcmtlci5qc1wiKShcIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcXG4vKioqKioqLyBcXHQvLyBUaGUgbW9kdWxlIGNhY2hlXFxuLyoqKioqKi8gXFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcXG4vKioqKioqL1xcbi8qKioqKiovIFxcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXFxuLyoqKioqKi8gXFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xcbi8qKioqKiovXFxuLyoqKioqKi8gXFx0XFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXFxuLyoqKioqKi8gXFx0XFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcXG4vKioqKioqLyBcXHRcXHRcXHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcXG4vKioqKioqLyBcXHRcXHR9XFxuLyoqKioqKi8gXFx0XFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcXG4vKioqKioqLyBcXHRcXHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XFxuLyoqKioqKi8gXFx0XFx0XFx0aTogbW9kdWxlSWQsXFxuLyoqKioqKi8gXFx0XFx0XFx0bDogZmFsc2UsXFxuLyoqKioqKi8gXFx0XFx0XFx0ZXhwb3J0czoge31cXG4vKioqKioqLyBcXHRcXHR9O1xcbi8qKioqKiovXFxuLyoqKioqKi8gXFx0XFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXFxuLyoqKioqKi8gXFx0XFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XFxuLyoqKioqKi9cXG4vKioqKioqLyBcXHRcXHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXFxuLyoqKioqKi8gXFx0XFx0bW9kdWxlLmwgPSB0cnVlO1xcbi8qKioqKiovXFxuLyoqKioqKi8gXFx0XFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcXG4vKioqKioqLyBcXHRcXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XFxuLyoqKioqKi8gXFx0fVxcbi8qKioqKiovXFxuLyoqKioqKi9cXG4vKioqKioqLyBcXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxcbi8qKioqKiovIFxcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XFxuLyoqKioqKi9cXG4vKioqKioqLyBcXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxcbi8qKioqKiovIFxcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XFxuLyoqKioqKi9cXG4vKioqKioqLyBcXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcXG4vKioqKioqLyBcXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcXG4vKioqKioqLyBcXHRcXHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XFxuLyoqKioqKi8gXFx0XFx0XFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XFxuLyoqKioqKi8gXFx0XFx0fVxcbi8qKioqKiovIFxcdH07XFxuLyoqKioqKi9cXG4vKioqKioqLyBcXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXFxuLyoqKioqKi8gXFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xcbi8qKioqKiovIFxcdFxcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xcbi8qKioqKiovIFxcdFxcdFxcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xcbi8qKioqKiovIFxcdFxcdH1cXG4vKioqKioqLyBcXHRcXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xcbi8qKioqKiovIFxcdH07XFxuLyoqKioqKi9cXG4vKioqKioqLyBcXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcXG4vKioqKioqLyBcXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcXG4vKioqKioqLyBcXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcXG4vKioqKioqLyBcXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcXG4vKioqKioqLyBcXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXFxuLyoqKioqKi8gXFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcXG4vKioqKioqLyBcXHRcXHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcXG4vKioqKioqLyBcXHRcXHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xcbi8qKioqKiovIFxcdFxcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XFxuLyoqKioqKi8gXFx0XFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcXG4vKioqKioqLyBcXHRcXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xcbi8qKioqKiovIFxcdFxcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcXG4vKioqKioqLyBcXHRcXHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XFxuLyoqKioqKi8gXFx0XFx0cmV0dXJuIG5zO1xcbi8qKioqKiovIFxcdH07XFxuLyoqKioqKi9cXG4vKioqKioqLyBcXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xcbi8qKioqKiovIFxcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xcbi8qKioqKiovIFxcdFxcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xcbi8qKioqKiovIFxcdFxcdFxcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XFxuLyoqKioqKi8gXFx0XFx0XFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcXG4vKioqKioqLyBcXHRcXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XFxuLyoqKioqKi8gXFx0XFx0cmV0dXJuIGdldHRlcjtcXG4vKioqKioqLyBcXHR9O1xcbi8qKioqKiovXFxuLyoqKioqKi8gXFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXFxuLyoqKioqKi8gXFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xcbi8qKioqKiovXFxuLyoqKioqKi8gXFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cXG4vKioqKioqLyBcXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcXFwiXFxcIjtcXG4vKioqKioqL1xcbi8qKioqKiovXFxuLyoqKioqKi8gXFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXFxuLyoqKioqKi8gXFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXFxcIi4vc3JjL3dvcmtlcnMvQmluYXJ5RGVjb2Rlcldvcmtlci5qc1xcXCIpO1xcbi8qKioqKiovIH0pXFxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cXG4vKioqKioqLyAoe1xcblxcbi8qKiovIFxcXCIuL3NyYy9JbnRlcmxlYXZlZEJ1ZmZlci5qc1xcXCI6XFxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcXFxcbiAgISoqKiAuL3NyYy9JbnRlcmxlYXZlZEJ1ZmZlci5qcyAqKiohXFxuICBcXFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUsIEludGVybGVhdmVkQnVmZmVyICovXFxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xcblxcblxcXCJ1c2Ugc3RyaWN0XFxcIjtcXG5ldmFsKFxcXCJfX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XFxcXG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFxcXFxcXFwiSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGVcXFxcXFxcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZTsgfSk7XFxcXG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFxcXFxcXFwiSW50ZXJsZWF2ZWRCdWZmZXJcXFxcXFxcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBJbnRlcmxlYXZlZEJ1ZmZlcjsgfSk7XFxcXG5cXFxcclxcXFxuXFxcXHJcXFxcblxcXFxyXFxcXG5jbGFzcyBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZXtcXFxcclxcXFxuXFxcXHRcXFxcclxcXFxuXFxcXHRjb25zdHJ1Y3RvcihuYW1lLCBieXRlcywgbnVtRWxlbWVudHMsIHR5cGUsIG5vcm1hbGl6ZWQpe1xcXFxyXFxcXG5cXFxcdFxcXFx0dGhpcy5uYW1lID0gbmFtZTtcXFxcclxcXFxuXFxcXHRcXFxcdHRoaXMuYnl0ZXMgPSBieXRlcztcXFxcclxcXFxuXFxcXHRcXFxcdHRoaXMubnVtRWxlbWVudHMgPSBudW1FbGVtZW50cztcXFxcclxcXFxuXFxcXHRcXFxcdHRoaXMubm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQ7XFxcXHJcXFxcblxcXFx0XFxcXHR0aGlzLnR5cGUgPSB0eXBlOyAvLyBnbCB0eXBlIHdpdGhvdXQgcHJlZml4LCBlLmcuIFxcXFxcXFwiRkxPQVRcXFxcXFxcIiwgXFxcXFxcXCJVTlNJR05FRF9JTlRcXFxcXFxcIlxcXFxyXFxcXG5cXFxcdH1cXFxcclxcXFxuXFxcXHRcXFxcclxcXFxufTtcXFxcclxcXFxuXFxcXHJcXFxcbmNsYXNzIEludGVybGVhdmVkQnVmZmVye1xcXFxyXFxcXG5cXFxcclxcXFxuXFxcXHRjb25zdHJ1Y3RvcihkYXRhLCBhdHRyaWJ1dGVzLCBudW1FbGVtZW50cyl7XFxcXHJcXFxcblxcXFx0XFxcXHR0aGlzLmRhdGEgPSBkYXRhO1xcXFxyXFxcXG5cXFxcdFxcXFx0dGhpcy5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcXFxcclxcXFxuXFxcXHRcXFxcdHRoaXMuc3RyaWRlID0gYXR0cmlidXRlcy5yZWR1Y2UoIChhLCBhdHQpID0+IGEgKyBhdHQuYnl0ZXMsIDApO1xcXFxyXFxcXG5cXFxcdFxcXFx0dGhpcy5zdHJpZGUgPSBNYXRoLmNlaWwodGhpcy5zdHJpZGUgLyA0KSAqIDQ7XFxcXHJcXFxcblxcXFx0XFxcXHR0aGlzLm51bUVsZW1lbnRzID0gbnVtRWxlbWVudHM7XFxcXHJcXFxcblxcXFx0fVxcXFxyXFxcXG5cXFxcdFxcXFxyXFxcXG5cXFxcdG9mZnNldChuYW1lKXtcXFxcclxcXFxuXFxcXHRcXFxcdGxldCBvZmZzZXQgPSAwO1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHJcXFxcblxcXFx0XFxcXHRmb3IobGV0IGF0dCBvZiB0aGlzLmF0dHJpYnV0ZXMpe1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRpZihhdHQubmFtZSA9PT0gbmFtZSl7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0cmV0dXJuIG9mZnNldDtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0fVxcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0b2Zmc2V0ICs9IGF0dC5ieXRlcztcXFxcclxcXFxuXFxcXHRcXFxcdH1cXFxcclxcXFxuXFxcXHRcXFxcdFxcXFxyXFxcXG5cXFxcdFxcXFx0cmV0dXJuIG51bGw7XFxcXHJcXFxcblxcXFx0fVxcXFxyXFxcXG5cXFxcdFxcXFxyXFxcXG59Oy8vIyBzb3VyY2VVUkw9W21vZHVsZV1cXFxcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkluZGxZbkJoWTJzNkx5OWFaV0ZRYjNSeVpXVXZMaTl6Y21NdlNXNTBaWEpzWldGMlpXUkNkV1ptWlhJdWFuTS9OV1ZtWmlKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pT3pzN096czdRVUZIVHpzN1FVRkZVRHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRXNiVUpCUVcxQ08wRkJRMjVDT3p0QlFVVkJPenRCUVVWUE96dEJRVVZRTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk96dEJRVVZCTzBGQlEwRTdPMEZCUlVFN1FVRkRRVHRCUVVOQk8wRkJRMEU3TzBGQlJVRTdRVUZEUVRzN1FVRkZRVHRCUVVOQk96dEJRVVZCSWl3aVptbHNaU0k2SWk0dmMzSmpMMGx1ZEdWeWJHVmhkbVZrUW5WbVptVnlMbXB6TG1weklpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2lYSEpjYmx4eVhHNWNjbHh1Wlhod2IzSjBJR05zWVhOeklFbHVkR1Z5YkdWaGRtVmtRblZtWm1WeVFYUjBjbWxpZFhSbGUxeHlYRzVjZEZ4eVhHNWNkR052Ym5OMGNuVmpkRzl5S0c1aGJXVXNJR0o1ZEdWekxDQnVkVzFGYkdWdFpXNTBjeXdnZEhsd1pTd2dibTl5YldGc2FYcGxaQ2w3WEhKY2JseDBYSFIwYUdsekxtNWhiV1VnUFNCdVlXMWxPMXh5WEc1Y2RGeDBkR2hwY3k1aWVYUmxjeUE5SUdKNWRHVnpPMXh5WEc1Y2RGeDBkR2hwY3k1dWRXMUZiR1Z0Wlc1MGN5QTlJRzUxYlVWc1pXMWxiblJ6TzF4eVhHNWNkRngwZEdocGN5NXViM0p0WVd4cGVtVmtJRDBnYm05eWJXRnNhWHBsWkR0Y2NseHVYSFJjZEhSb2FYTXVkSGx3WlNBOUlIUjVjR1U3SUM4dklHZHNJSFI1Y0dVZ2QybDBhRzkxZENCd2NtVm1hWGdzSUdVdVp5NGdYQ0pHVEU5QlZGd2lMQ0JjSWxWT1UwbEhUa1ZFWDBsT1ZGd2lYSEpjYmx4MGZWeHlYRzVjZEZ4eVhHNTlPMXh5WEc1Y2NseHVaWGh3YjNKMElHTnNZWE56SUVsdWRHVnliR1ZoZG1Wa1FuVm1abVZ5ZTF4eVhHNWNjbHh1WEhSamIyNXpkSEoxWTNSdmNpaGtZWFJoTENCaGRIUnlhV0oxZEdWekxDQnVkVzFGYkdWdFpXNTBjeWw3WEhKY2JseDBYSFIwYUdsekxtUmhkR0VnUFNCa1lYUmhPMXh5WEc1Y2RGeDBkR2hwY3k1aGRIUnlhV0oxZEdWeklEMGdZWFIwY21saWRYUmxjenRjY2x4dVhIUmNkSFJvYVhNdWMzUnlhV1JsSUQwZ1lYUjBjbWxpZFhSbGN5NXlaV1IxWTJVb0lDaGhMQ0JoZEhRcElEMCtJR0VnS3lCaGRIUXVZbmwwWlhNc0lEQXBPMXh5WEc1Y2RGeDBkR2hwY3k1emRISnBaR1VnUFNCTllYUm9MbU5sYVd3b2RHaHBjeTV6ZEhKcFpHVWdMeUEwS1NBcUlEUTdYSEpjYmx4MFhIUjBhR2x6TG01MWJVVnNaVzFsYm5SeklEMGdiblZ0Uld4bGJXVnVkSE03WEhKY2JseDBmVnh5WEc1Y2RGeHlYRzVjZEc5bVpuTmxkQ2h1WVcxbEtYdGNjbHh1WEhSY2RHeGxkQ0J2Wm1aelpYUWdQU0F3TzF4eVhHNWNkRngwWEhKY2JseDBYSFJtYjNJb2JHVjBJR0YwZENCdlppQjBhR2x6TG1GMGRISnBZblYwWlhNcGUxeHlYRzVjZEZ4MFhIUnBaaWhoZEhRdWJtRnRaU0E5UFQwZ2JtRnRaU2w3WEhKY2JseDBYSFJjZEZ4MGNtVjBkWEp1SUc5bVpuTmxkRHRjY2x4dVhIUmNkRngwZlZ4eVhHNWNkRngwWEhSY2NseHVYSFJjZEZ4MGIyWm1jMlYwSUNzOUlHRjBkQzVpZVhSbGN6dGNjbHh1WEhSY2RIMWNjbHh1WEhSY2RGeHlYRzVjZEZ4MGNtVjBkWEp1SUc1MWJHdzdYSEpjYmx4MGZWeHlYRzVjZEZ4eVhHNTlPeUpkTENKemIzVnlZMlZTYjI5MElqb2lJbjA9XFxcXG4vLyMgc291cmNlVVJMPXdlYnBhY2staW50ZXJuYWw6Ly8vLi9zcmMvSW50ZXJsZWF2ZWRCdWZmZXIuanNcXFxcblxcXCIpO1xcblxcbi8qKiovIH0pLFxcblxcbi8qKiovIFxcXCIuL3NyYy9WZXJzaW9uLmpzXFxcIjpcXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXFxcXG4gICEqKiogLi9zcmMvVmVyc2lvbi5qcyAqKiohXFxuICBcXFxcKioqKioqKioqKioqKioqKioqKioqKioqL1xcbi8qISBleHBvcnRzIHByb3ZpZGVkOiBWZXJzaW9uICovXFxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xcblxcblxcXCJ1c2Ugc3RyaWN0XFxcIjtcXG5ldmFsKFxcXCJfX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XFxcXG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFxcXFxcXFwiVmVyc2lvblxcXFxcXFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFZlcnNpb247IH0pO1xcXFxuXFxcXHJcXFxcbmNsYXNzIFZlcnNpb257XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdGNvbnN0cnVjdG9yKHZlcnNpb24pe1xcXFxyXFxcXG5cXFxcdFxcXFx0dGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcXFxcclxcXFxuXFxcXHRcXFxcdGxldCB2bUxlbmd0aCA9ICh2ZXJzaW9uLmluZGV4T2YoJy4nKSA9PT0gLTEpID8gdmVyc2lvbi5sZW5ndGggOiB2ZXJzaW9uLmluZGV4T2YoJy4nKTtcXFxcclxcXFxuXFxcXHRcXFxcdHRoaXMudmVyc2lvbk1ham9yID0gcGFyc2VJbnQodmVyc2lvbi5zdWJzdHIoMCwgdm1MZW5ndGgpKTtcXFxcclxcXFxuXFxcXHRcXFxcdHRoaXMudmVyc2lvbk1pbm9yID0gcGFyc2VJbnQodmVyc2lvbi5zdWJzdHIodm1MZW5ndGggKyAxKSk7XFxcXHJcXFxcblxcXFx0XFxcXHRpZiAodGhpcy52ZXJzaW9uTWlub3IubGVuZ3RoID09PSAwKSB7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdHRoaXMudmVyc2lvbk1pbm9yID0gMDtcXFxcclxcXFxuXFxcXHRcXFxcdH1cXFxcclxcXFxuXFxcXHR9XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdG5ld2VyVGhhbih2ZXJzaW9uKXtcXFxcclxcXFxuXFxcXHRcXFxcdGxldCB2ID0gbmV3IFZlcnNpb24odmVyc2lvbik7XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdFxcXFx0aWYgKHRoaXMudmVyc2lvbk1ham9yID4gdi52ZXJzaW9uTWFqb3IpIHtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0cmV0dXJuIHRydWU7XFxcXHJcXFxcblxcXFx0XFxcXHR9IGVsc2UgaWYgKHRoaXMudmVyc2lvbk1ham9yID09PSB2LnZlcnNpb25NYWpvciAmJiB0aGlzLnZlcnNpb25NaW5vciA+IHYudmVyc2lvbk1pbm9yKSB7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdHJldHVybiB0cnVlO1xcXFxyXFxcXG5cXFxcdFxcXFx0fSBlbHNlIHtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0cmV0dXJuIGZhbHNlO1xcXFxyXFxcXG5cXFxcdFxcXFx0fVxcXFxyXFxcXG5cXFxcdH1cXFxcclxcXFxuXFxcXHJcXFxcblxcXFx0ZXF1YWxPckhpZ2hlcih2ZXJzaW9uKXtcXFxcclxcXFxuXFxcXHRcXFxcdGxldCB2ID0gbmV3IFZlcnNpb24odmVyc2lvbik7XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdFxcXFx0aWYgKHRoaXMudmVyc2lvbk1ham9yID4gdi52ZXJzaW9uTWFqb3IpIHtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0cmV0dXJuIHRydWU7XFxcXHJcXFxcblxcXFx0XFxcXHR9IGVsc2UgaWYgKHRoaXMudmVyc2lvbk1ham9yID09PSB2LnZlcnNpb25NYWpvciAmJiB0aGlzLnZlcnNpb25NaW5vciA+PSB2LnZlcnNpb25NaW5vcikge1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRyZXR1cm4gdHJ1ZTtcXFxcclxcXFxuXFxcXHRcXFxcdH0gZWxzZSB7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdHJldHVybiBmYWxzZTtcXFxcclxcXFxuXFxcXHRcXFxcdH1cXFxcclxcXFxuXFxcXHR9XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdHVwVG8odmVyc2lvbil7XFxcXHJcXFxcblxcXFx0XFxcXHRyZXR1cm4gIXRoaXMubmV3ZXJUaGFuKHZlcnNpb24pO1xcXFxyXFxcXG5cXFxcdH1cXFxcclxcXFxuXFxcXHJcXFxcbn1cXFxcclxcXFxuXFxcXHJcXFxcblxcXFxyXFxcXG4vLyMgc291cmNlVVJMPVttb2R1bGVdXFxcXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbmRsWW5CaFkyczZMeTlhWldGUWIzUnlaV1V2TGk5emNtTXZWbVZ5YzJsdmJpNXFjejlrTXpZM0lsMHNJbTVoYldWeklqcGJYU3dpYldGd2NHbHVaM01pT2lJN096dEJRVU5QT3p0QlFVVlFPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVRzN1FVRkZRVHRCUVVOQk96dEJRVVZCTzBGQlEwRTdRVUZEUVN4SFFVRkhPMEZCUTBnN1FVRkRRU3hIUVVGSE8wRkJRMGc3UVVGRFFUdEJRVU5CT3p0QlFVVkJPMEZCUTBFN08wRkJSVUU3UVVGRFFUdEJRVU5CTEVkQlFVYzdRVUZEU0R0QlFVTkJMRWRCUVVjN1FVRkRTRHRCUVVOQk8wRkJRMEU3TzBGQlJVRTdRVUZEUVR0QlFVTkJPenRCUVVWQklpd2labWxzWlNJNklpNHZjM0pqTDFabGNuTnBiMjR1YW5NdWFuTWlMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXeUpjY2x4dVpYaHdiM0owSUdOc1lYTnpJRlpsY25OcGIyNTdYSEpjYmx4eVhHNWNkR052Ym5OMGNuVmpkRzl5S0habGNuTnBiMjRwZTF4eVhHNWNkRngwZEdocGN5NTJaWEp6YVc5dUlEMGdkbVZ5YzJsdmJqdGNjbHh1WEhSY2RHeGxkQ0IyYlV4bGJtZDBhQ0E5SUNoMlpYSnphVzl1TG1sdVpHVjRUMllvSnk0bktTQTlQVDBnTFRFcElEOGdkbVZ5YzJsdmJpNXNaVzVuZEdnZ09pQjJaWEp6YVc5dUxtbHVaR1Y0VDJZb0p5NG5LVHRjY2x4dVhIUmNkSFJvYVhNdWRtVnljMmx2YmsxaGFtOXlJRDBnY0dGeWMyVkpiblFvZG1WeWMybHZiaTV6ZFdKemRISW9NQ3dnZG0xTVpXNW5kR2dwS1R0Y2NseHVYSFJjZEhSb2FYTXVkbVZ5YzJsdmJrMXBibTl5SUQwZ2NHRnljMlZKYm5Rb2RtVnljMmx2Ymk1emRXSnpkSElvZG0xTVpXNW5kR2dnS3lBeEtTazdYSEpjYmx4MFhIUnBaaUFvZEdocGN5NTJaWEp6YVc5dVRXbHViM0l1YkdWdVozUm9JRDA5UFNBd0tTQjdYSEpjYmx4MFhIUmNkSFJvYVhNdWRtVnljMmx2YmsxcGJtOXlJRDBnTUR0Y2NseHVYSFJjZEgxY2NseHVYSFI5WEhKY2JseHlYRzVjZEc1bGQyVnlWR2hoYmloMlpYSnphVzl1S1h0Y2NseHVYSFJjZEd4bGRDQjJJRDBnYm1WM0lGWmxjbk5wYjI0b2RtVnljMmx2YmlrN1hISmNibHh5WEc1Y2RGeDBhV1lnS0hSb2FYTXVkbVZ5YzJsdmJrMWhhbTl5SUQ0Z2RpNTJaWEp6YVc5dVRXRnFiM0lwSUh0Y2NseHVYSFJjZEZ4MGNtVjBkWEp1SUhSeWRXVTdYSEpjYmx4MFhIUjlJR1ZzYzJVZ2FXWWdLSFJvYVhNdWRtVnljMmx2YmsxaGFtOXlJRDA5UFNCMkxuWmxjbk5wYjI1TllXcHZjaUFtSmlCMGFHbHpMblpsY25OcGIyNU5hVzV2Y2lBK0lIWXVkbVZ5YzJsdmJrMXBibTl5S1NCN1hISmNibHgwWEhSY2RISmxkSFZ5YmlCMGNuVmxPMXh5WEc1Y2RGeDBmU0JsYkhObElIdGNjbHh1WEhSY2RGeDBjbVYwZFhKdUlHWmhiSE5sTzF4eVhHNWNkRngwZlZ4eVhHNWNkSDFjY2x4dVhISmNibHgwWlhGMVlXeFBja2hwWjJobGNpaDJaWEp6YVc5dUtYdGNjbHh1WEhSY2RHeGxkQ0IySUQwZ2JtVjNJRlpsY25OcGIyNG9kbVZ5YzJsdmJpazdYSEpjYmx4eVhHNWNkRngwYVdZZ0tIUm9hWE11ZG1WeWMybHZiazFoYW05eUlENGdkaTUyWlhKemFXOXVUV0ZxYjNJcElIdGNjbHh1WEhSY2RGeDBjbVYwZFhKdUlIUnlkV1U3WEhKY2JseDBYSFI5SUdWc2MyVWdhV1lnS0hSb2FYTXVkbVZ5YzJsdmJrMWhhbTl5SUQwOVBTQjJMblpsY25OcGIyNU5ZV3B2Y2lBbUppQjBhR2x6TG5abGNuTnBiMjVOYVc1dmNpQStQU0IyTG5abGNuTnBiMjVOYVc1dmNpa2dlMXh5WEc1Y2RGeDBYSFJ5WlhSMWNtNGdkSEoxWlR0Y2NseHVYSFJjZEgwZ1pXeHpaU0I3WEhKY2JseDBYSFJjZEhKbGRIVnliaUJtWVd4elpUdGNjbHh1WEhSY2RIMWNjbHh1WEhSOVhISmNibHh5WEc1Y2RIVndWRzhvZG1WeWMybHZiaWw3WEhKY2JseDBYSFJ5WlhSMWNtNGdJWFJvYVhNdWJtVjNaWEpVYUdGdUtIWmxjbk5wYjI0cE8xeHlYRzVjZEgxY2NseHVYSEpjYm4xY2NseHVYSEpjYmx4eVhHNGlYU3dpYzI5MWNtTmxVbTl2ZENJNklpSjlcXFxcbi8vIyBzb3VyY2VVUkw9d2VicGFjay1pbnRlcm5hbDovLy8uL3NyYy9WZXJzaW9uLmpzXFxcXG5cXFwiKTtcXG5cXG4vKioqLyB9KSxcXG5cXG4vKioqLyBcXFwiLi9zcmMvbG9hZGVyL1BvaW50QXR0cmlidXRlcy5qc1xcXCI6XFxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxcXFxuICAhKioqIC4vc3JjL2xvYWRlci9Qb2ludEF0dHJpYnV0ZXMuanMgKioqIVxcbiAgXFxcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogUG9pbnRBdHRyaWJ1dGVOYW1lcywgUG9pbnRBdHRyaWJ1dGVUeXBlcywgUG9pbnRBdHRyaWJ1dGUsIFBvaW50QXR0cmlidXRlcyAqL1xcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcXG5cXG5cXFwidXNlIHN0cmljdFxcXCI7XFxuZXZhbChcXFwiX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xcXFxuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcXFxcXFxcIlBvaW50QXR0cmlidXRlTmFtZXNcXFxcXFxcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBQb2ludEF0dHJpYnV0ZU5hbWVzOyB9KTtcXFxcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXFxcXFxcXCJQb2ludEF0dHJpYnV0ZVR5cGVzXFxcXFxcXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gUG9pbnRBdHRyaWJ1dGVUeXBlczsgfSk7XFxcXG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFxcXFxcXFwiUG9pbnRBdHRyaWJ1dGVcXFxcXFxcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBQb2ludEF0dHJpYnV0ZTsgfSk7XFxcXG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFxcXFxcXFwiUG9pbnRBdHRyaWJ1dGVzXFxcXFxcXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gUG9pbnRBdHRyaWJ1dGVzOyB9KTtcXFxcblxcXFxyXFxcXG5cXFxcclxcXFxuY29uc3QgUG9pbnRBdHRyaWJ1dGVOYW1lcyA9IHtcXFxcclxcXFxuXFxcXHRQT1NJVElPTl9DQVJURVNJQU46IDAsIC8vIGZsb2F0IHgsIHksIHo7XFxcXHJcXFxcblxcXFx0Q09MT1JfUEFDS0VEOiAxLCAvLyBieXRlIHIsIGcsIGIsIGE7IFxcXFx0STogWzAsMV1cXFxcclxcXFxuXFxcXHRDT0xPUl9GTE9BVFNfMTogMiwgLy8gZmxvYXQgciwgZywgYjsgXFxcXHRJOiBbMCwxXVxcXFxyXFxcXG5cXFxcdENPTE9SX0ZMT0FUU18yNTU6IDMsIC8vIGZsb2F0IHIsIGcsIGI7IFxcXFx0STogWzAsMjU1XVxcXFxyXFxcXG5cXFxcdE5PUk1BTF9GTE9BVFM6IDQsIC8vIGZsb2F0IHgsIHksIHo7XFxcXHJcXFxcblxcXFx0RklMTEVSOiA1LFxcXFxyXFxcXG5cXFxcdElOVEVOU0lUWTogNixcXFxcclxcXFxuXFxcXHRDTEFTU0lGSUNBVElPTjogNyxcXFxcclxcXFxuXFxcXHROT1JNQUxfU1BIRVJFTUFQUEVEOiA4LFxcXFxyXFxcXG5cXFxcdE5PUk1BTF9PQ1QxNjogOSxcXFxcclxcXFxuXFxcXHROT1JNQUw6IDEwLFxcXFxyXFxcXG5cXFxcdFJFVFVSTl9OVU1CRVI6IDExLFxcXFxyXFxcXG5cXFxcdE5VTUJFUl9PRl9SRVRVUk5TOiAxMixcXFxcclxcXFxuXFxcXHRTT1VSQ0VfSUQ6IDEzLFxcXFxyXFxcXG5cXFxcdElORElDRVM6IDE0LFxcXFxyXFxcXG5cXFxcdFNQQUNJTkc6IDE1LFxcXFxyXFxcXG5cXFxcdEdQU19USU1FOiAxNixcXFxcclxcXFxufTtcXFxcclxcXFxuXFxcXHJcXFxcblxcXFxyXFxcXG4vKipcXFxcclxcXFxuICogU29tZSB0eXBlcyBvZiBwb3NzaWJsZSBwb2ludCBhdHRyaWJ1dGUgZGF0YSBmb3JtYXRzXFxcXHJcXFxcbiAqXFxcXHJcXFxcbiAqIEBjbGFzc1xcXFxyXFxcXG4gKi9cXFxcclxcXFxuY29uc3QgUG9pbnRBdHRyaWJ1dGVUeXBlcyA9IHtcXFxcclxcXFxuXFxcXHREQVRBX1RZUEVfRE9VQkxFOiB7b3JkaW5hbDogMCwgc2l6ZTogOH0sXFxcXHJcXFxcblxcXFx0REFUQV9UWVBFX0ZMT0FUOiB7b3JkaW5hbDogMSwgc2l6ZTogNH0sXFxcXHJcXFxcblxcXFx0REFUQV9UWVBFX0lOVDg6IHtvcmRpbmFsOiAyLCBzaXplOiAxfSxcXFxcclxcXFxuXFxcXHREQVRBX1RZUEVfVUlOVDg6IHtvcmRpbmFsOiAzLCBzaXplOiAxfSxcXFxcclxcXFxuXFxcXHREQVRBX1RZUEVfSU5UMTY6IHtvcmRpbmFsOiA0LCBzaXplOiAyfSxcXFxcclxcXFxuXFxcXHREQVRBX1RZUEVfVUlOVDE2OiB7b3JkaW5hbDogNSwgc2l6ZTogMn0sXFxcXHJcXFxcblxcXFx0REFUQV9UWVBFX0lOVDMyOiB7b3JkaW5hbDogNiwgc2l6ZTogNH0sXFxcXHJcXFxcblxcXFx0REFUQV9UWVBFX1VJTlQzMjoge29yZGluYWw6IDcsIHNpemU6IDR9LFxcXFxyXFxcXG5cXFxcdERBVEFfVFlQRV9JTlQ2NDoge29yZGluYWw6IDgsIHNpemU6IDh9LFxcXFxyXFxcXG5cXFxcdERBVEFfVFlQRV9VSU5UNjQ6IHtvcmRpbmFsOiA5LCBzaXplOiA4fVxcXFxyXFxcXG59O1xcXFxyXFxcXG5cXFxcclxcXFxubGV0IGkgPSAwO1xcXFxyXFxcXG5mb3IgKGxldCBvYmogaW4gUG9pbnRBdHRyaWJ1dGVUeXBlcykge1xcXFxyXFxcXG5cXFxcdFBvaW50QXR0cmlidXRlVHlwZXNbaV0gPSBQb2ludEF0dHJpYnV0ZVR5cGVzW29ial07XFxcXHJcXFxcblxcXFx0aSsrO1xcXFxyXFxcXG59XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcclxcXFxuXFxcXHJcXFxcblxcXFxyXFxcXG5jbGFzcyBQb2ludEF0dHJpYnV0ZXtcXFxcclxcXFxuXFxcXHRcXFxcclxcXFxuXFxcXHRjb25zdHJ1Y3RvcihuYW1lLCB0eXBlLCBudW1FbGVtZW50cyl7XFxcXHJcXFxcblxcXFx0XFxcXHR0aGlzLm5hbWUgPSBuYW1lO1xcXFxyXFxcXG5cXFxcdFxcXFx0dGhpcy50eXBlID0gdHlwZTtcXFxcclxcXFxuXFxcXHRcXFxcdHRoaXMubnVtRWxlbWVudHMgPSBudW1FbGVtZW50cztcXFxcclxcXFxuXFxcXHRcXFxcdHRoaXMuYnl0ZVNpemUgPSB0aGlzLm51bUVsZW1lbnRzICogdGhpcy50eXBlLnNpemU7XFxcXHJcXFxcblxcXFx0fVxcXFxyXFxcXG5cXFxcclxcXFxufTtcXFxcclxcXFxuXFxcXHJcXFxcblBvaW50QXR0cmlidXRlLlBPU0lUSU9OX0NBUlRFU0lBTiA9IG5ldyBQb2ludEF0dHJpYnV0ZShcXFxcclxcXFxuXFxcXHRQb2ludEF0dHJpYnV0ZU5hbWVzLlBPU0lUSU9OX0NBUlRFU0lBTixcXFxcclxcXFxuXFxcXHRQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9GTE9BVCwgMyk7XFxcXHJcXFxcblxcXFxyXFxcXG5Qb2ludEF0dHJpYnV0ZS5SR0JBX1BBQ0tFRCA9IG5ldyBQb2ludEF0dHJpYnV0ZShcXFxcclxcXFxuXFxcXHRQb2ludEF0dHJpYnV0ZU5hbWVzLkNPTE9SX1BBQ0tFRCxcXFxcclxcXFxuXFxcXHRQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9JTlQ4LCA0KTtcXFxcclxcXFxuXFxcXHJcXFxcblBvaW50QXR0cmlidXRlLkNPTE9SX1BBQ0tFRCA9IFBvaW50QXR0cmlidXRlLlJHQkFfUEFDS0VEO1xcXFxyXFxcXG5cXFxcclxcXFxuUG9pbnRBdHRyaWJ1dGUuUkdCX1BBQ0tFRCA9IG5ldyBQb2ludEF0dHJpYnV0ZShcXFxcclxcXFxuXFxcXHRQb2ludEF0dHJpYnV0ZU5hbWVzLkNPTE9SX1BBQ0tFRCxcXFxcclxcXFxuXFxcXHRQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9JTlQ4LCAzKTtcXFxcclxcXFxuXFxcXHJcXFxcblBvaW50QXR0cmlidXRlLk5PUk1BTF9GTE9BVFMgPSBuZXcgUG9pbnRBdHRyaWJ1dGUoXFxcXHJcXFxcblxcXFx0UG9pbnRBdHRyaWJ1dGVOYW1lcy5OT1JNQUxfRkxPQVRTLFxcXFxyXFxcXG5cXFxcdFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX0ZMT0FULCAzKTtcXFxcclxcXFxuXFxcXHJcXFxcblBvaW50QXR0cmlidXRlLkZJTExFUl8xQiA9IG5ldyBQb2ludEF0dHJpYnV0ZShcXFxcclxcXFxuXFxcXHRQb2ludEF0dHJpYnV0ZU5hbWVzLkZJTExFUixcXFxcclxcXFxuXFxcXHRQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UOCwgMSk7XFxcXHJcXFxcblxcXFxyXFxcXG5Qb2ludEF0dHJpYnV0ZS5JTlRFTlNJVFkgPSBuZXcgUG9pbnRBdHRyaWJ1dGUoXFxcXHJcXFxcblxcXFx0UG9pbnRBdHRyaWJ1dGVOYW1lcy5JTlRFTlNJVFksXFxcXHJcXFxcblxcXFx0UG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDE2LCAxKTtcXFxcclxcXFxuXFxcXHJcXFxcblBvaW50QXR0cmlidXRlLkNMQVNTSUZJQ0FUSU9OID0gbmV3IFBvaW50QXR0cmlidXRlKFxcXFxyXFxcXG5cXFxcdFBvaW50QXR0cmlidXRlTmFtZXMuQ0xBU1NJRklDQVRJT04sXFxcXHJcXFxcblxcXFx0UG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDgsIDEpO1xcXFxyXFxcXG5cXFxcclxcXFxuUG9pbnRBdHRyaWJ1dGUuTk9STUFMX1NQSEVSRU1BUFBFRCA9IG5ldyBQb2ludEF0dHJpYnV0ZShcXFxcclxcXFxuXFxcXHRQb2ludEF0dHJpYnV0ZU5hbWVzLk5PUk1BTF9TUEhFUkVNQVBQRUQsXFxcXHJcXFxcblxcXFx0UG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDgsIDIpO1xcXFxyXFxcXG5cXFxcclxcXFxuUG9pbnRBdHRyaWJ1dGUuTk9STUFMX09DVDE2ID0gbmV3IFBvaW50QXR0cmlidXRlKFxcXFxyXFxcXG5cXFxcdFBvaW50QXR0cmlidXRlTmFtZXMuTk9STUFMX09DVDE2LFxcXFxyXFxcXG5cXFxcdFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX1VJTlQ4LCAyKTtcXFxcclxcXFxuXFxcXHJcXFxcblBvaW50QXR0cmlidXRlLk5PUk1BTCA9IG5ldyBQb2ludEF0dHJpYnV0ZShcXFxcclxcXFxuXFxcXHRQb2ludEF0dHJpYnV0ZU5hbWVzLk5PUk1BTCxcXFxcclxcXFxuXFxcXHRQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9GTE9BVCwgMyk7XFxcXHJcXFxcblxcXFx0XFxcXHJcXFxcblBvaW50QXR0cmlidXRlLlJFVFVSTl9OVU1CRVIgPSBuZXcgUG9pbnRBdHRyaWJ1dGUoXFxcXHJcXFxcblxcXFx0UG9pbnRBdHRyaWJ1dGVOYW1lcy5SRVRVUk5fTlVNQkVSLFxcXFxyXFxcXG5cXFxcdFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX1VJTlQ4LCAxKTtcXFxcclxcXFxuXFxcXHRcXFxcclxcXFxuUG9pbnRBdHRyaWJ1dGUuTlVNQkVSX09GX1JFVFVSTlMgPSBuZXcgUG9pbnRBdHRyaWJ1dGUoXFxcXHJcXFxcblxcXFx0UG9pbnRBdHRyaWJ1dGVOYW1lcy5OVU1CRVJfT0ZfUkVUVVJOUyxcXFxcclxcXFxuXFxcXHRQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UOCwgMSk7XFxcXHJcXFxcblxcXFx0XFxcXHJcXFxcblBvaW50QXR0cmlidXRlLlNPVVJDRV9JRCA9IG5ldyBQb2ludEF0dHJpYnV0ZShcXFxcclxcXFxuXFxcXHRQb2ludEF0dHJpYnV0ZU5hbWVzLlNPVVJDRV9JRCxcXFxcclxcXFxuXFxcXHRQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UMTYsIDEpO1xcXFxyXFxcXG5cXFxcclxcXFxuUG9pbnRBdHRyaWJ1dGUuSU5ESUNFUyA9IG5ldyBQb2ludEF0dHJpYnV0ZShcXFxcclxcXFxuXFxcXHRQb2ludEF0dHJpYnV0ZU5hbWVzLklORElDRVMsXFxcXHJcXFxcblxcXFx0UG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDMyLCAxKTtcXFxcclxcXFxuXFxcXHJcXFxcblBvaW50QXR0cmlidXRlLlNQQUNJTkcgPSBuZXcgUG9pbnRBdHRyaWJ1dGUoXFxcXHJcXFxcblxcXFx0UG9pbnRBdHRyaWJ1dGVOYW1lcy5TUEFDSU5HLFxcXFxyXFxcXG5cXFxcdFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX0ZMT0FULCAxKTtcXFxcclxcXFxuXFxcXHJcXFxcblBvaW50QXR0cmlidXRlLkdQU19USU1FID0gbmV3IFBvaW50QXR0cmlidXRlKFxcXFxyXFxcXG5cXFxcdFBvaW50QXR0cmlidXRlTmFtZXMuR1BTX1RJTUUsXFxcXHJcXFxcblxcXFx0UG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfRE9VQkxFLCAxKTtcXFxcclxcXFxuXFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcclxcXFxuY2xhc3MgUG9pbnRBdHRyaWJ1dGVze1xcXFxyXFxcXG5cXFxcclxcXFxuXFxcXHRjb25zdHJ1Y3Rvcihwb2ludEF0dHJpYnV0ZXMpe1xcXFxyXFxcXG5cXFxcdFxcXFx0dGhpcy5hdHRyaWJ1dGVzID0gW107XFxcXHJcXFxcblxcXFx0XFxcXHR0aGlzLmJ5dGVTaXplID0gMDtcXFxcclxcXFxuXFxcXHRcXFxcdHRoaXMuc2l6ZSA9IDA7XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdFxcXFx0aWYgKHBvaW50QXR0cmlidXRlcyAhPSBudWxsKSB7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRBdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0bGV0IHBvaW50QXR0cmlidXRlTmFtZSA9IHBvaW50QXR0cmlidXRlc1tpXTtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRsZXQgcG9pbnRBdHRyaWJ1dGUgPSBQb2ludEF0dHJpYnV0ZVtwb2ludEF0dHJpYnV0ZU5hbWVdO1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdHRoaXMuYXR0cmlidXRlcy5wdXNoKHBvaW50QXR0cmlidXRlKTtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHR0aGlzLmJ5dGVTaXplICs9IHBvaW50QXR0cmlidXRlLmJ5dGVTaXplO1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdHRoaXMuc2l6ZSsrO1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHR9XFxcXHJcXFxcblxcXFx0XFxcXHR9XFxcXHJcXFxcblxcXFx0fVxcXFxyXFxcXG5cXFxcclxcXFxuXFxcXHJcXFxcblxcXFx0YWRkKHBvaW50QXR0cmlidXRlKXtcXFxcclxcXFxuXFxcXHRcXFxcdHRoaXMuYXR0cmlidXRlcy5wdXNoKHBvaW50QXR0cmlidXRlKTtcXFxcclxcXFxuXFxcXHRcXFxcdHRoaXMuYnl0ZVNpemUgKz0gcG9pbnRBdHRyaWJ1dGUuYnl0ZVNpemU7XFxcXHJcXFxcblxcXFx0XFxcXHR0aGlzLnNpemUrKztcXFxcclxcXFxuXFxcXHR9O1xcXFxyXFxcXG5cXFxcclxcXFxuXFxcXHRoYXNDb2xvcnMoKXtcXFxcclxcXFxuXFxcXHRcXFxcdGZvciAobGV0IG5hbWUgaW4gdGhpcy5hdHRyaWJ1dGVzKSB7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdGxldCBwb2ludEF0dHJpYnV0ZSA9IHRoaXMuYXR0cmlidXRlc1tuYW1lXTtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0aWYgKHBvaW50QXR0cmlidXRlLm5hbWUgPT09IFBvaW50QXR0cmlidXRlTmFtZXMuQ09MT1JfUEFDS0VEKSB7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0cmV0dXJuIHRydWU7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdH1cXFxcclxcXFxuXFxcXHRcXFxcdH1cXFxcclxcXFxuXFxcXHJcXFxcblxcXFx0XFxcXHRyZXR1cm4gZmFsc2U7XFxcXHJcXFxcblxcXFx0fTtcXFxcclxcXFxuXFxcXHJcXFxcblxcXFx0aGFzTm9ybWFscygpe1xcXFxyXFxcXG5cXFxcdFxcXFx0Zm9yIChsZXQgbmFtZSBpbiB0aGlzLmF0dHJpYnV0ZXMpIHtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0bGV0IHBvaW50QXR0cmlidXRlID0gdGhpcy5hdHRyaWJ1dGVzW25hbWVdO1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRpZiAoXFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0cG9pbnRBdHRyaWJ1dGUgPT09IFBvaW50QXR0cmlidXRlLk5PUk1BTF9TUEhFUkVNQVBQRUQgfHxcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRwb2ludEF0dHJpYnV0ZSA9PT0gUG9pbnRBdHRyaWJ1dGUuTk9STUFMX0ZMT0FUUyB8fFxcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdHBvaW50QXR0cmlidXRlID09PSBQb2ludEF0dHJpYnV0ZS5OT1JNQUwgfHxcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRwb2ludEF0dHJpYnV0ZSA9PT0gUG9pbnRBdHRyaWJ1dGUuTk9STUFMX09DVDE2KSB7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0cmV0dXJuIHRydWU7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdH1cXFxcclxcXFxuXFxcXHRcXFxcdH1cXFxcclxcXFxuXFxcXHJcXFxcblxcXFx0XFxcXHRyZXR1cm4gZmFsc2U7XFxcXHJcXFxcblxcXFx0fTtcXFxcclxcXFxuXFxcXHJcXFxcbn1cXFxcclxcXFxuLy8jIHNvdXJjZVVSTD1bbW9kdWxlXVxcXFxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW5kbFluQmhZMnM2THk5YVpXRlFiM1J5WldVdkxpOXpjbU12Ykc5aFpHVnlMMUJ2YVc1MFFYUjBjbWxpZFhSbGN5NXFjejgwTWpjd0lsMHNJbTVoYldWeklqcGJYU3dpYldGd2NHbHVaM01pT2lJN096czdPenM3UVVGRlR6dEJRVU5RTzBGQlEwRXNjVU5CUVhGRE8wRkJRM0pETEhGRFFVRnhRenRCUVVOeVF5eDFRMEZCZFVNN1FVRkRka003UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVRzN08wRkJSMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFc2IwSkJRVzlDTEc5Q1FVRnZRanRCUVVONFF5eHRRa0ZCYlVJc2IwSkJRVzlDTzBGQlEzWkRMR3RDUVVGclFpeHZRa0ZCYjBJN1FVRkRkRU1zYlVKQlFXMUNMRzlDUVVGdlFqdEJRVU4yUXl4dFFrRkJiVUlzYjBKQlFXOUNPMEZCUTNaRExHOUNRVUZ2UWl4dlFrRkJiMEk3UVVGRGVFTXNiVUpCUVcxQ0xHOUNRVUZ2UWp0QlFVTjJReXh2UWtGQmIwSXNiMEpCUVc5Q08wRkJRM2hETEcxQ1FVRnRRaXh2UWtGQmIwSTdRVUZEZGtNc2IwSkJRVzlDTzBGQlEzQkNPenRCUVVWQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdPMEZCUlRaQ096czdRVUZITjBJN08wRkJSVUU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPenRCUVVWQk96dEJRVVZCTzBGQlEwRTdRVUZEUVRzN1FVRkZRVHRCUVVOQk8wRkJRMEU3TzBGQlJVRTdPMEZCUlVFN1FVRkRRVHRCUVVOQk96dEJRVVZCTzBGQlEwRTdRVUZEUVRzN1FVRkZRVHRCUVVOQk8wRkJRMEU3TzBGQlJVRTdRVUZEUVR0QlFVTkJPenRCUVVWQk8wRkJRMEU3UVVGRFFUczdRVUZGUVR0QlFVTkJPMEZCUTBFN08wRkJSVUU3UVVGRFFUdEJRVU5CT3p0QlFVVkJPMEZCUTBFN1FVRkRRVHM3UVVGRlFUdEJRVU5CTzBGQlEwRTdPMEZCUlVFN1FVRkRRVHRCUVVOQk96dEJRVVZCTzBGQlEwRTdRVUZEUVRzN1FVRkZRVHRCUVVOQk8wRkJRMEU3TzBGQlJVRTdRVUZEUVR0QlFVTkJPenRCUVVWQk8wRkJRMEU3UVVGRFFUczdRVUZGZDBJN08wRkJSV3BDT3p0QlFVVlFPMEZCUTBFN1FVRkRRVHRCUVVOQk96dEJRVVZCTzBGQlEwRXNhMEpCUVd0Q0xEUkNRVUUwUWp0QlFVTTVRenRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPenM3UVVGSFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPenRCUVVWQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPenRCUVVWQk8wRkJRMEU3TzBGQlJVRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVRzN1FVRkZRVHRCUVVOQk96dEJRVVZCSWl3aVptbHNaU0k2SWk0dmMzSmpMMnh2WVdSbGNpOVFiMmx1ZEVGMGRISnBZblYwWlhNdWFuTXVhbk1pTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2V3lKY2NseHVYSEpjYm1WNGNHOXlkQ0JqYjI1emRDQlFiMmx1ZEVGMGRISnBZblYwWlU1aGJXVnpJRDBnZTF4eVhHNWNkRkJQVTBsVVNVOU9YME5CVWxSRlUwbEJUam9nTUN3Z0x5OGdabXh2WVhRZ2VDd2dlU3dnZWp0Y2NseHVYSFJEVDB4UFVsOVFRVU5MUlVRNklERXNJQzh2SUdKNWRHVWdjaXdnWnl3Z1lpd2dZVHNnWEhSSk9pQmJNQ3d4WFZ4eVhHNWNkRU5QVEU5U1gwWk1UMEZVVTE4eE9pQXlMQ0F2THlCbWJHOWhkQ0J5TENCbkxDQmlPeUJjZEVrNklGc3dMREZkWEhKY2JseDBRMDlNVDFKZlJreFBRVlJUWHpJMU5Ub2dNeXdnTHk4Z1pteHZZWFFnY2l3Z1p5d2dZanNnWEhSSk9pQmJNQ3d5TlRWZFhISmNibHgwVGs5U1RVRk1YMFpNVDBGVVV6b2dOQ3dnTHk4Z1pteHZZWFFnZUN3Z2VTd2dlanRjY2x4dVhIUkdTVXhNUlZJNklEVXNYSEpjYmx4MFNVNVVSVTVUU1ZSWk9pQTJMRnh5WEc1Y2RFTk1RVk5UU1VaSlEwRlVTVTlPT2lBM0xGeHlYRzVjZEU1UFVrMUJURjlUVUVoRlVrVk5RVkJRUlVRNklEZ3NYSEpjYmx4MFRrOVNUVUZNWDA5RFZERTJPaUE1TEZ4eVhHNWNkRTVQVWsxQlREb2dNVEFzWEhKY2JseDBVa1ZVVlZKT1gwNVZUVUpGVWpvZ01URXNYSEpjYmx4MFRsVk5Ra1ZTWDA5R1gxSkZWRlZTVGxNNklERXlMRnh5WEc1Y2RGTlBWVkpEUlY5SlJEb2dNVE1zWEhKY2JseDBTVTVFU1VORlV6b2dNVFFzWEhKY2JseDBVMUJCUTBsT1J6b2dNVFVzWEhKY2JseDBSMUJUWDFSSlRVVTZJREUyTEZ4eVhHNTlPMXh5WEc1Y2NseHVYSEpjYmk4cUtseHlYRzRnS2lCVGIyMWxJSFI1Y0dWeklHOW1JSEJ2YzNOcFlteGxJSEJ2YVc1MElHRjBkSEpwWW5WMFpTQmtZWFJoSUdadmNtMWhkSE5jY2x4dUlDcGNjbHh1SUNvZ1FHTnNZWE56WEhKY2JpQXFMMXh5WEc1amIyNXpkQ0JRYjJsdWRFRjBkSEpwWW5WMFpWUjVjR1Z6SUQwZ2UxeHlYRzVjZEVSQlZFRmZWRmxRUlY5RVQxVkNURVU2SUh0dmNtUnBibUZzT2lBd0xDQnphWHBsT2lBNGZTeGNjbHh1WEhSRVFWUkJYMVJaVUVWZlJreFBRVlE2SUh0dmNtUnBibUZzT2lBeExDQnphWHBsT2lBMGZTeGNjbHh1WEhSRVFWUkJYMVJaVUVWZlNVNVVPRG9nZTI5eVpHbHVZV3c2SURJc0lITnBlbVU2SURGOUxGeHlYRzVjZEVSQlZFRmZWRmxRUlY5VlNVNVVPRG9nZTI5eVpHbHVZV3c2SURNc0lITnBlbVU2SURGOUxGeHlYRzVjZEVSQlZFRmZWRmxRUlY5SlRsUXhOam9nZTI5eVpHbHVZV3c2SURRc0lITnBlbVU2SURKOUxGeHlYRzVjZEVSQlZFRmZWRmxRUlY5VlNVNVVNVFk2SUh0dmNtUnBibUZzT2lBMUxDQnphWHBsT2lBeWZTeGNjbHh1WEhSRVFWUkJYMVJaVUVWZlNVNVVNekk2SUh0dmNtUnBibUZzT2lBMkxDQnphWHBsT2lBMGZTeGNjbHh1WEhSRVFWUkJYMVJaVUVWZlZVbE9WRE15T2lCN2IzSmthVzVoYkRvZ055d2djMmw2WlRvZ05IMHNYSEpjYmx4MFJFRlVRVjlVV1ZCRlgwbE9WRFkwT2lCN2IzSmthVzVoYkRvZ09Dd2djMmw2WlRvZ09IMHNYSEpjYmx4MFJFRlVRVjlVV1ZCRlgxVkpUbFEyTkRvZ2UyOXlaR2x1WVd3NklEa3NJSE5wZW1VNklEaDlYSEpjYm4wN1hISmNibHh5WEc1c1pYUWdhU0E5SURBN1hISmNibVp2Y2lBb2JHVjBJRzlpYWlCcGJpQlFiMmx1ZEVGMGRISnBZblYwWlZSNWNHVnpLU0I3WEhKY2JseDBVRzlwYm5SQmRIUnlhV0oxZEdWVWVYQmxjMXRwWFNBOUlGQnZhVzUwUVhSMGNtbGlkWFJsVkhsd1pYTmJiMkpxWFR0Y2NseHVYSFJwS3lzN1hISmNibjFjY2x4dVhISmNibVY0Y0c5eWRDQjdVRzlwYm5SQmRIUnlhV0oxZEdWVWVYQmxjMzA3WEhKY2JseHlYRzVjY2x4dVkyeGhjM01nVUc5cGJuUkJkSFJ5YVdKMWRHVjdYSEpjYmx4MFhISmNibHgwWTI5dWMzUnlkV04wYjNJb2JtRnRaU3dnZEhsd1pTd2diblZ0Uld4bGJXVnVkSE1wZTF4eVhHNWNkRngwZEdocGN5NXVZVzFsSUQwZ2JtRnRaVHRjY2x4dVhIUmNkSFJvYVhNdWRIbHdaU0E5SUhSNWNHVTdYSEpjYmx4MFhIUjBhR2x6TG01MWJVVnNaVzFsYm5SeklEMGdiblZ0Uld4bGJXVnVkSE03WEhKY2JseDBYSFIwYUdsekxtSjVkR1ZUYVhwbElEMGdkR2hwY3k1dWRXMUZiR1Z0Wlc1MGN5QXFJSFJvYVhNdWRIbHdaUzV6YVhwbE8xeHlYRzVjZEgxY2NseHVYSEpjYm4wN1hISmNibHh5WEc1UWIybHVkRUYwZEhKcFluVjBaUzVRVDFOSlZFbFBUbDlEUVZKVVJWTkpRVTRnUFNCdVpYY2dVRzlwYm5SQmRIUnlhV0oxZEdVb1hISmNibHgwVUc5cGJuUkJkSFJ5YVdKMWRHVk9ZVzFsY3k1UVQxTkpWRWxQVGw5RFFWSlVSVk5KUVU0c1hISmNibHgwVUc5cGJuUkJkSFJ5YVdKMWRHVlVlWEJsY3k1RVFWUkJYMVJaVUVWZlJreFBRVlFzSURNcE8xeHlYRzVjY2x4dVVHOXBiblJCZEhSeWFXSjFkR1V1VWtkQ1FWOVFRVU5MUlVRZ1BTQnVaWGNnVUc5cGJuUkJkSFJ5YVdKMWRHVW9YSEpjYmx4MFVHOXBiblJCZEhSeWFXSjFkR1ZPWVcxbGN5NURUMHhQVWw5UVFVTkxSVVFzWEhKY2JseDBVRzlwYm5SQmRIUnlhV0oxZEdWVWVYQmxjeTVFUVZSQlgxUlpVRVZmU1U1VU9Dd2dOQ2s3WEhKY2JseHlYRzVRYjJsdWRFRjBkSEpwWW5WMFpTNURUMHhQVWw5UVFVTkxSVVFnUFNCUWIybHVkRUYwZEhKcFluVjBaUzVTUjBKQlgxQkJRMHRGUkR0Y2NseHVYSEpjYmxCdmFXNTBRWFIwY21saWRYUmxMbEpIUWw5UVFVTkxSVVFnUFNCdVpYY2dVRzlwYm5SQmRIUnlhV0oxZEdVb1hISmNibHgwVUc5cGJuUkJkSFJ5YVdKMWRHVk9ZVzFsY3k1RFQweFBVbDlRUVVOTFJVUXNYSEpjYmx4MFVHOXBiblJCZEhSeWFXSjFkR1ZVZVhCbGN5NUVRVlJCWDFSWlVFVmZTVTVVT0N3Z015azdYSEpjYmx4eVhHNVFiMmx1ZEVGMGRISnBZblYwWlM1T1QxSk5RVXhmUmt4UFFWUlRJRDBnYm1WM0lGQnZhVzUwUVhSMGNtbGlkWFJsS0Z4eVhHNWNkRkJ2YVc1MFFYUjBjbWxpZFhSbFRtRnRaWE11VGs5U1RVRk1YMFpNVDBGVVV5eGNjbHh1WEhSUWIybHVkRUYwZEhKcFluVjBaVlI1Y0dWekxrUkJWRUZmVkZsUVJWOUdURTlCVkN3Z015azdYSEpjYmx4eVhHNVFiMmx1ZEVGMGRISnBZblYwWlM1R1NVeE1SVkpmTVVJZ1BTQnVaWGNnVUc5cGJuUkJkSFJ5YVdKMWRHVW9YSEpjYmx4MFVHOXBiblJCZEhSeWFXSjFkR1ZPWVcxbGN5NUdTVXhNUlZJc1hISmNibHgwVUc5cGJuUkJkSFJ5YVdKMWRHVlVlWEJsY3k1RVFWUkJYMVJaVUVWZlZVbE9WRGdzSURFcE8xeHlYRzVjY2x4dVVHOXBiblJCZEhSeWFXSjFkR1V1U1U1VVJVNVRTVlJaSUQwZ2JtVjNJRkJ2YVc1MFFYUjBjbWxpZFhSbEtGeHlYRzVjZEZCdmFXNTBRWFIwY21saWRYUmxUbUZ0WlhNdVNVNVVSVTVUU1ZSWkxGeHlYRzVjZEZCdmFXNTBRWFIwY21saWRYUmxWSGx3WlhNdVJFRlVRVjlVV1ZCRlgxVkpUbFF4Tml3Z01TazdYSEpjYmx4eVhHNVFiMmx1ZEVGMGRISnBZblYwWlM1RFRFRlRVMGxHU1VOQlZFbFBUaUE5SUc1bGR5QlFiMmx1ZEVGMGRISnBZblYwWlNoY2NseHVYSFJRYjJsdWRFRjBkSEpwWW5WMFpVNWhiV1Z6TGtOTVFWTlRTVVpKUTBGVVNVOU9MRnh5WEc1Y2RGQnZhVzUwUVhSMGNtbGlkWFJsVkhsd1pYTXVSRUZVUVY5VVdWQkZYMVZKVGxRNExDQXhLVHRjY2x4dVhISmNibEJ2YVc1MFFYUjBjbWxpZFhSbExrNVBVazFCVEY5VFVFaEZVa1ZOUVZCUVJVUWdQU0J1WlhjZ1VHOXBiblJCZEhSeWFXSjFkR1VvWEhKY2JseDBVRzlwYm5SQmRIUnlhV0oxZEdWT1lXMWxjeTVPVDFKTlFVeGZVMUJJUlZKRlRVRlFVRVZFTEZ4eVhHNWNkRkJ2YVc1MFFYUjBjbWxpZFhSbFZIbHdaWE11UkVGVVFWOVVXVkJGWDFWSlRsUTRMQ0F5S1R0Y2NseHVYSEpjYmxCdmFXNTBRWFIwY21saWRYUmxMazVQVWsxQlRGOVBRMVF4TmlBOUlHNWxkeUJRYjJsdWRFRjBkSEpwWW5WMFpTaGNjbHh1WEhSUWIybHVkRUYwZEhKcFluVjBaVTVoYldWekxrNVBVazFCVEY5UFExUXhOaXhjY2x4dVhIUlFiMmx1ZEVGMGRISnBZblYwWlZSNWNHVnpMa1JCVkVGZlZGbFFSVjlWU1U1VU9Dd2dNaWs3WEhKY2JseHlYRzVRYjJsdWRFRjBkSEpwWW5WMFpTNU9UMUpOUVV3Z1BTQnVaWGNnVUc5cGJuUkJkSFJ5YVdKMWRHVW9YSEpjYmx4MFVHOXBiblJCZEhSeWFXSjFkR1ZPWVcxbGN5NU9UMUpOUVV3c1hISmNibHgwVUc5cGJuUkJkSFJ5YVdKMWRHVlVlWEJsY3k1RVFWUkJYMVJaVUVWZlJreFBRVlFzSURNcE8xeHlYRzVjZEZ4eVhHNVFiMmx1ZEVGMGRISnBZblYwWlM1U1JWUlZVazVmVGxWTlFrVlNJRDBnYm1WM0lGQnZhVzUwUVhSMGNtbGlkWFJsS0Z4eVhHNWNkRkJ2YVc1MFFYUjBjbWxpZFhSbFRtRnRaWE11VWtWVVZWSk9YMDVWVFVKRlVpeGNjbHh1WEhSUWIybHVkRUYwZEhKcFluVjBaVlI1Y0dWekxrUkJWRUZmVkZsUVJWOVZTVTVVT0N3Z01TazdYSEpjYmx4MFhISmNibEJ2YVc1MFFYUjBjbWxpZFhSbExrNVZUVUpGVWw5UFJsOVNSVlJWVWs1VElEMGdibVYzSUZCdmFXNTBRWFIwY21saWRYUmxLRnh5WEc1Y2RGQnZhVzUwUVhSMGNtbGlkWFJsVG1GdFpYTXVUbFZOUWtWU1gwOUdYMUpGVkZWU1RsTXNYSEpjYmx4MFVHOXBiblJCZEhSeWFXSjFkR1ZVZVhCbGN5NUVRVlJCWDFSWlVFVmZWVWxPVkRnc0lERXBPMXh5WEc1Y2RGeHlYRzVRYjJsdWRFRjBkSEpwWW5WMFpTNVRUMVZTUTBWZlNVUWdQU0J1WlhjZ1VHOXBiblJCZEhSeWFXSjFkR1VvWEhKY2JseDBVRzlwYm5SQmRIUnlhV0oxZEdWT1lXMWxjeTVUVDFWU1EwVmZTVVFzWEhKY2JseDBVRzlwYm5SQmRIUnlhV0oxZEdWVWVYQmxjeTVFUVZSQlgxUlpVRVZmVlVsT1ZERTJMQ0F4S1R0Y2NseHVYSEpjYmxCdmFXNTBRWFIwY21saWRYUmxMa2xPUkVsRFJWTWdQU0J1WlhjZ1VHOXBiblJCZEhSeWFXSjFkR1VvWEhKY2JseDBVRzlwYm5SQmRIUnlhV0oxZEdWT1lXMWxjeTVKVGtSSlEwVlRMRnh5WEc1Y2RGQnZhVzUwUVhSMGNtbGlkWFJsVkhsd1pYTXVSRUZVUVY5VVdWQkZYMVZKVGxRek1pd2dNU2s3WEhKY2JseHlYRzVRYjJsdWRFRjBkSEpwWW5WMFpTNVRVRUZEU1U1SElEMGdibVYzSUZCdmFXNTBRWFIwY21saWRYUmxLRnh5WEc1Y2RGQnZhVzUwUVhSMGNtbGlkWFJsVG1GdFpYTXVVMUJCUTBsT1J5eGNjbHh1WEhSUWIybHVkRUYwZEhKcFluVjBaVlI1Y0dWekxrUkJWRUZmVkZsUVJWOUdURTlCVkN3Z01TazdYSEpjYmx4eVhHNVFiMmx1ZEVGMGRISnBZblYwWlM1SFVGTmZWRWxOUlNBOUlHNWxkeUJRYjJsdWRFRjBkSEpwWW5WMFpTaGNjbHh1WEhSUWIybHVkRUYwZEhKcFluVjBaVTVoYldWekxrZFFVMTlVU1UxRkxGeHlYRzVjZEZCdmFXNTBRWFIwY21saWRYUmxWSGx3WlhNdVJFRlVRVjlVV1ZCRlgwUlBWVUpNUlN3Z01TazdYSEpjYmx4eVhHNWxlSEJ2Y25RZ2UxQnZhVzUwUVhSMGNtbGlkWFJsZlR0Y2NseHVYSEpjYm1WNGNHOXlkQ0JqYkdGemN5QlFiMmx1ZEVGMGRISnBZblYwWlhON1hISmNibHh5WEc1Y2RHTnZibk4wY25WamRHOXlLSEJ2YVc1MFFYUjBjbWxpZFhSbGN5bDdYSEpjYmx4MFhIUjBhR2x6TG1GMGRISnBZblYwWlhNZ1BTQmJYVHRjY2x4dVhIUmNkSFJvYVhNdVlubDBaVk5wZW1VZ1BTQXdPMXh5WEc1Y2RGeDBkR2hwY3k1emFYcGxJRDBnTUR0Y2NseHVYSEpjYmx4MFhIUnBaaUFvY0c5cGJuUkJkSFJ5YVdKMWRHVnpJQ0U5SUc1MWJHd3BJSHRjY2x4dVhIUmNkRngwWm05eUlDaHNaWFFnYVNBOUlEQTdJR2tnUENCd2IybHVkRUYwZEhKcFluVjBaWE11YkdWdVozUm9PeUJwS3lzcElIdGNjbHh1WEhSY2RGeDBYSFJzWlhRZ2NHOXBiblJCZEhSeWFXSjFkR1ZPWVcxbElEMGdjRzlwYm5SQmRIUnlhV0oxZEdWelcybGRPMXh5WEc1Y2RGeDBYSFJjZEd4bGRDQndiMmx1ZEVGMGRISnBZblYwWlNBOUlGQnZhVzUwUVhSMGNtbGlkWFJsVzNCdmFXNTBRWFIwY21saWRYUmxUbUZ0WlYwN1hISmNibHgwWEhSY2RGeDBkR2hwY3k1aGRIUnlhV0oxZEdWekxuQjFjMmdvY0c5cGJuUkJkSFJ5YVdKMWRHVXBPMXh5WEc1Y2RGeDBYSFJjZEhSb2FYTXVZbmwwWlZOcGVtVWdLejBnY0c5cGJuUkJkSFJ5YVdKMWRHVXVZbmwwWlZOcGVtVTdYSEpjYmx4MFhIUmNkRngwZEdocGN5NXphWHBsS3lzN1hISmNibHgwWEhSY2RIMWNjbHh1WEhSY2RIMWNjbHh1WEhSOVhISmNibHh5WEc1Y2NseHVYSFJoWkdRb2NHOXBiblJCZEhSeWFXSjFkR1VwZTF4eVhHNWNkRngwZEdocGN5NWhkSFJ5YVdKMWRHVnpMbkIxYzJnb2NHOXBiblJCZEhSeWFXSjFkR1VwTzF4eVhHNWNkRngwZEdocGN5NWllWFJsVTJsNlpTQXJQU0J3YjJsdWRFRjBkSEpwWW5WMFpTNWllWFJsVTJsNlpUdGNjbHh1WEhSY2RIUm9hWE11YzJsNlpTc3JPMXh5WEc1Y2RIMDdYSEpjYmx4eVhHNWNkR2hoYzBOdmJHOXljeWdwZTF4eVhHNWNkRngwWm05eUlDaHNaWFFnYm1GdFpTQnBiaUIwYUdsekxtRjBkSEpwWW5WMFpYTXBJSHRjY2x4dVhIUmNkRngwYkdWMElIQnZhVzUwUVhSMGNtbGlkWFJsSUQwZ2RHaHBjeTVoZEhSeWFXSjFkR1Z6VzI1aGJXVmRPMXh5WEc1Y2RGeDBYSFJwWmlBb2NHOXBiblJCZEhSeWFXSjFkR1V1Ym1GdFpTQTlQVDBnVUc5cGJuUkJkSFJ5YVdKMWRHVk9ZVzFsY3k1RFQweFBVbDlRUVVOTFJVUXBJSHRjY2x4dVhIUmNkRngwWEhSeVpYUjFjbTRnZEhKMVpUdGNjbHh1WEhSY2RGeDBmVnh5WEc1Y2RGeDBmVnh5WEc1Y2NseHVYSFJjZEhKbGRIVnliaUJtWVd4elpUdGNjbHh1WEhSOU8xeHlYRzVjY2x4dVhIUm9ZWE5PYjNKdFlXeHpLQ2w3WEhKY2JseDBYSFJtYjNJZ0tHeGxkQ0J1WVcxbElHbHVJSFJvYVhNdVlYUjBjbWxpZFhSbGN5a2dlMXh5WEc1Y2RGeDBYSFJzWlhRZ2NHOXBiblJCZEhSeWFXSjFkR1VnUFNCMGFHbHpMbUYwZEhKcFluVjBaWE5iYm1GdFpWMDdYSEpjYmx4MFhIUmNkR2xtSUNoY2NseHVYSFJjZEZ4MFhIUndiMmx1ZEVGMGRISnBZblYwWlNBOVBUMGdVRzlwYm5SQmRIUnlhV0oxZEdVdVRrOVNUVUZNWDFOUVNFVlNSVTFCVUZCRlJDQjhmRnh5WEc1Y2RGeDBYSFJjZEhCdmFXNTBRWFIwY21saWRYUmxJRDA5UFNCUWIybHVkRUYwZEhKcFluVjBaUzVPVDFKTlFVeGZSa3hQUVZSVElIeDhYSEpjYmx4MFhIUmNkRngwY0c5cGJuUkJkSFJ5YVdKMWRHVWdQVDA5SUZCdmFXNTBRWFIwY21saWRYUmxMazVQVWsxQlRDQjhmRnh5WEc1Y2RGeDBYSFJjZEhCdmFXNTBRWFIwY21saWRYUmxJRDA5UFNCUWIybHVkRUYwZEhKcFluVjBaUzVPVDFKTlFVeGZUME5VTVRZcElIdGNjbHh1WEhSY2RGeDBYSFJ5WlhSMWNtNGdkSEoxWlR0Y2NseHVYSFJjZEZ4MGZWeHlYRzVjZEZ4MGZWeHlYRzVjY2x4dVhIUmNkSEpsZEhWeWJpQm1ZV3h6WlR0Y2NseHVYSFI5TzF4eVhHNWNjbHh1ZlZ4eVhHNGlYU3dpYzI5MWNtTmxVbTl2ZENJNklpSjlcXFxcbi8vIyBzb3VyY2VVUkw9d2VicGFjay1pbnRlcm5hbDovLy8uL3NyYy9sb2FkZXIvUG9pbnRBdHRyaWJ1dGVzLmpzXFxcXG5cXFwiKTtcXG5cXG4vKioqLyB9KSxcXG5cXG4vKioqLyBcXFwiLi9zcmMvdXRpbHMvdG9JbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZS5qc1xcXCI6XFxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxcXFxuICAhKioqIC4vc3JjL3V0aWxzL3RvSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUuanMgKioqIVxcbiAgXFxcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogdG9JbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSAqL1xcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcXG5cXG5cXFwidXNlIHN0cmljdFxcXCI7XFxuZXZhbChcXFwiX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xcXFxuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcXFxcXFxcInRvSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGVcXFxcXFxcIiwgZnVuY3Rpb24oKSB7IHJldHVybiB0b0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlOyB9KTtcXFxcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbG9hZGVyX1BvaW50QXR0cmlidXRlc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vbG9hZGVyL1BvaW50QXR0cmlidXRlcy5qcyAqLyBcXFxcXFxcIi4vc3JjL2xvYWRlci9Qb2ludEF0dHJpYnV0ZXMuanNcXFxcXFxcIik7XFxcXG5cXFxcclxcXFxuXFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcclxcXFxuZnVuY3Rpb24gdG9JbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZShwb2ludEF0dHJpYnV0ZSl7XFxcXHJcXFxcblxcXFx0bGV0IGF0dCA9IG51bGw7XFxcXHJcXFxcblxcXFx0XFxcXHJcXFxcblxcXFx0aWYgKHBvaW50QXR0cmlidXRlLm5hbWUgPT09IF9sb2FkZXJfUG9pbnRBdHRyaWJ1dGVzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXFxcXFxcXCJQb2ludEF0dHJpYnV0ZVxcXFxcXFwiXS5QT1NJVElPTl9DQVJURVNJQU4ubmFtZSkge1xcXFxyXFxcXG5cXFxcdFxcXFx0YXR0ID0gbmV3IFBvdHJlZS5JbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZShcXFxcXFxcInBvc2l0aW9uXFxcXFxcXCIsIDEyLCAzLCBcXFxcXFxcIkZMT0FUXFxcXFxcXCIsIGZhbHNlKTtcXFxcclxcXFxuXFxcXHR9IGVsc2UgaWYgKHBvaW50QXR0cmlidXRlLm5hbWUgPT09IF9sb2FkZXJfUG9pbnRBdHRyaWJ1dGVzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXFxcXFxcXCJQb2ludEF0dHJpYnV0ZVxcXFxcXFwiXS5DT0xPUl9QQUNLRUQubmFtZSkge1xcXFxyXFxcXG5cXFxcdFxcXFx0YXR0ID0gbmV3IFBvdHJlZS5JbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZShcXFxcXFxcImNvbG9yXFxcXFxcXCIsIDQsIDQsIFxcXFxcXFwiVU5TSUdORURfQllURVxcXFxcXFwiLCB0cnVlKTtcXFxcclxcXFxuXFxcXHR9IGVsc2UgaWYgKHBvaW50QXR0cmlidXRlLm5hbWUgPT09IF9sb2FkZXJfUG9pbnRBdHRyaWJ1dGVzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXFxcXFxcXCJQb2ludEF0dHJpYnV0ZVxcXFxcXFwiXS5JTlRFTlNJVFkubmFtZSkge1xcXFxyXFxcXG5cXFxcdFxcXFx0YXR0ID0gbmV3IFBvdHJlZS5JbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZShcXFxcXFxcImludGVuc2l0eVxcXFxcXFwiLCA0LCAxLCBcXFxcXFxcIkZMT0FUXFxcXFxcXCIsIGZhbHNlKTtcXFxcclxcXFxuXFxcXHR9IGVsc2UgaWYgKHBvaW50QXR0cmlidXRlLm5hbWUgPT09IF9sb2FkZXJfUG9pbnRBdHRyaWJ1dGVzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXFxcXFxcXCJQb2ludEF0dHJpYnV0ZVxcXFxcXFwiXS5DTEFTU0lGSUNBVElPTi5uYW1lKSB7XFxcXHJcXFxcblxcXFx0XFxcXHRhdHQgPSBuZXcgUG90cmVlLkludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKFxcXFxcXFwiY2xhc3NpZmljYXRpb25cXFxcXFxcIiwgNCwgMSwgXFxcXFxcXCJGTE9BVFxcXFxcXFwiLCBmYWxzZSk7XFxcXHJcXFxcblxcXFx0fSBlbHNlIGlmIChwb2ludEF0dHJpYnV0ZS5uYW1lID09PSBfbG9hZGVyX1BvaW50QXR0cmlidXRlc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1xcXFxcXFwiUG9pbnRBdHRyaWJ1dGVcXFxcXFxcIl0uUkVUVVJOX05VTUJFUi5uYW1lKSB7XFxcXHJcXFxcblxcXFx0XFxcXHRhdHQgPSBuZXcgUG90cmVlLkludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKFxcXFxcXFwicmV0dXJuTnVtYmVyXFxcXFxcXCIsIDQsIDEsIFxcXFxcXFwiRkxPQVRcXFxcXFxcIiwgZmFsc2UpO1xcXFxyXFxcXG5cXFxcdH0gZWxzZSBpZiAocG9pbnRBdHRyaWJ1dGUubmFtZSA9PT0gX2xvYWRlcl9Qb2ludEF0dHJpYnV0ZXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcXFxcXFxcIlBvaW50QXR0cmlidXRlXFxcXFxcXCJdLk5VTUJFUl9PRl9SRVRVUk5TLm5hbWUpIHtcXFxcclxcXFxuXFxcXHRcXFxcdGF0dCA9IG5ldyBQb3RyZWUuSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUoXFxcXFxcXCJudW1iZXJPZlJldHVybnNcXFxcXFxcIiwgNCwgMSwgXFxcXFxcXCJGTE9BVFxcXFxcXFwiLCBmYWxzZSk7XFxcXHJcXFxcblxcXFx0fSBlbHNlIGlmIChwb2ludEF0dHJpYnV0ZS5uYW1lID09PSBfbG9hZGVyX1BvaW50QXR0cmlidXRlc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1xcXFxcXFwiUG9pbnRBdHRyaWJ1dGVcXFxcXFxcIl0uU09VUkNFX0lELm5hbWUpIHtcXFxcclxcXFxuXFxcXHRcXFxcdGF0dCA9IG5ldyBQb3RyZWUuSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUoXFxcXFxcXCJwb2ludFNvdXJjZUlEXFxcXFxcXCIsIDQsIDEsIFxcXFxcXFwiRkxPQVRcXFxcXFxcIiwgZmFsc2UpO1xcXFxyXFxcXG5cXFxcdH0gZWxzZSBpZiAocG9pbnRBdHRyaWJ1dGUubmFtZSA9PT0gX2xvYWRlcl9Qb2ludEF0dHJpYnV0ZXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcXFxcXFxcIlBvaW50QXR0cmlidXRlXFxcXFxcXCJdLk5PUk1BTF9TUEhFUkVNQVBQRUQubmFtZSkge1xcXFxyXFxcXG5cXFxcdFxcXFx0YXR0ID0gbmV3IFBvdHJlZS5JbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZShcXFxcXFxcIm5vcm1hbFxcXFxcXFwiLCAxMiwgMywgXFxcXFxcXCJGTE9BVFxcXFxcXFwiLCBmYWxzZSk7XFxcXHJcXFxcblxcXFx0fSBlbHNlIGlmIChwb2ludEF0dHJpYnV0ZS5uYW1lID09PSBfbG9hZGVyX1BvaW50QXR0cmlidXRlc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1xcXFxcXFwiUG9pbnRBdHRyaWJ1dGVcXFxcXFxcIl0uTk9STUFMX09DVDE2Lm5hbWUpIHtcXFxcclxcXFxuXFxcXHRcXFxcdGF0dCA9IG5ldyBQb3RyZWUuSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUoXFxcXFxcXCJub3JtYWxcXFxcXFxcIiwgMTIsIDMsIFxcXFxcXFwiRkxPQVRcXFxcXFxcIiwgZmFsc2UpO1xcXFxyXFxcXG5cXFxcdH0gZWxzZSBpZiAocG9pbnRBdHRyaWJ1dGUubmFtZSA9PT0gX2xvYWRlcl9Qb2ludEF0dHJpYnV0ZXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcXFxcXFxcIlBvaW50QXR0cmlidXRlXFxcXFxcXCJdLk5PUk1BTC5uYW1lKSB7XFxcXHJcXFxcblxcXFx0XFxcXHRhdHQgPSBuZXcgUG90cmVlLkludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKFxcXFxcXFwibm9ybWFsXFxcXFxcXCIsIDEyLCAzLCBcXFxcXFxcIkZMT0FUXFxcXFxcXCIsIGZhbHNlKTtcXFxcclxcXFxuXFxcXHR9XFxcXHJcXFxcblxcXFx0XFxcXHJcXFxcblxcXFx0cmV0dXJuIGF0dDtcXFxcclxcXFxufTtcXFxcclxcXFxuLy8jIHNvdXJjZVVSTD1bbW9kdWxlXVxcXFxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW5kbFluQmhZMnM2THk5YVpXRlFiM1J5WldVdkxpOXpjbU12ZFhScGJITXZkRzlKYm5SbGNteGxZWFpsWkVKMVptWmxja0YwZEhKcFluVjBaUzVxY3o4ME1EbGpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdPenM3TzBGQlJUUkVPenRCUVVWeVJEdEJRVU5RT3p0QlFVVkJMRFpDUVVFMlFpeDVSVUZCWXp0QlFVTXpRenRCUVVOQkxFVkJRVVVzYTBOQlFXdERMSGxGUVVGak8wRkJRMnhFTzBGQlEwRXNSVUZCUlN4clEwRkJhME1zZVVWQlFXTTdRVUZEYkVRN1FVRkRRU3hGUVVGRkxHdERRVUZyUXl4NVJVRkJZenRCUVVOc1JEdEJRVU5CTEVWQlFVVXNhME5CUVd0RExIbEZRVUZqTzBGQlEyeEVPMEZCUTBFc1JVRkJSU3hyUTBGQmEwTXNlVVZCUVdNN1FVRkRiRVE3UVVGRFFTeEZRVUZGTEd0RFFVRnJReXg1UlVGQll6dEJRVU5zUkR0QlFVTkJMRVZCUVVVc2EwTkJRV3RETEhsRlFVRmpPMEZCUTJ4RU8wRkJRMEVzUlVGQlJTeHJRMEZCYTBNc2VVVkJRV003UVVGRGJFUTdRVUZEUVN4RlFVRkZMR3REUVVGclF5eDVSVUZCWXp0QlFVTnNSRHRCUVVOQk96dEJRVVZCTzBGQlEwRWlMQ0ptYVd4bElqb2lMaTl6Y21NdmRYUnBiSE12ZEc5SmJuUmxjbXhsWVhabFpFSjFabVpsY2tGMGRISnBZblYwWlM1cWN5NXFjeUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSWx4eVhHNWNjbHh1YVcxd2IzSjBJSHRRYjJsdWRFRjBkSEpwWW5WMFpYMGdabkp2YlNCY0lpNHVMMnh2WVdSbGNpOVFiMmx1ZEVGMGRISnBZblYwWlhNdWFuTmNJanRjY2x4dVhISmNibVY0Y0c5eWRDQm1kVzVqZEdsdmJpQjBiMGx1ZEdWeWJHVmhkbVZrUW5WbVptVnlRWFIwY21saWRYUmxLSEJ2YVc1MFFYUjBjbWxpZFhSbEtYdGNjbHh1WEhSc1pYUWdZWFIwSUQwZ2JuVnNiRHRjY2x4dVhIUmNjbHh1WEhScFppQW9jRzlwYm5SQmRIUnlhV0oxZEdVdWJtRnRaU0E5UFQwZ1VHOXBiblJCZEhSeWFXSjFkR1V1VUU5VFNWUkpUMDVmUTBGU1ZFVlRTVUZPTG01aGJXVXBJSHRjY2x4dVhIUmNkR0YwZENBOUlHNWxkeUJRYjNSeVpXVXVTVzUwWlhKc1pXRjJaV1JDZFdabVpYSkJkSFJ5YVdKMWRHVW9YQ0p3YjNOcGRHbHZibHdpTENBeE1pd2dNeXdnWENKR1RFOUJWRndpTENCbVlXeHpaU2s3WEhKY2JseDBmU0JsYkhObElHbG1JQ2h3YjJsdWRFRjBkSEpwWW5WMFpTNXVZVzFsSUQwOVBTQlFiMmx1ZEVGMGRISnBZblYwWlM1RFQweFBVbDlRUVVOTFJVUXVibUZ0WlNrZ2UxeHlYRzVjZEZ4MFlYUjBJRDBnYm1WM0lGQnZkSEpsWlM1SmJuUmxjbXhsWVhabFpFSjFabVpsY2tGMGRISnBZblYwWlNoY0ltTnZiRzl5WENJc0lEUXNJRFFzSUZ3aVZVNVRTVWRPUlVSZlFsbFVSVndpTENCMGNuVmxLVHRjY2x4dVhIUjlJR1ZzYzJVZ2FXWWdLSEJ2YVc1MFFYUjBjbWxpZFhSbExtNWhiV1VnUFQwOUlGQnZhVzUwUVhSMGNtbGlkWFJsTGtsT1ZFVk9VMGxVV1M1dVlXMWxLU0I3WEhKY2JseDBYSFJoZEhRZ1BTQnVaWGNnVUc5MGNtVmxMa2x1ZEdWeWJHVmhkbVZrUW5WbVptVnlRWFIwY21saWRYUmxLRndpYVc1MFpXNXphWFI1WENJc0lEUXNJREVzSUZ3aVJreFBRVlJjSWl3Z1ptRnNjMlVwTzF4eVhHNWNkSDBnWld4elpTQnBaaUFvY0c5cGJuUkJkSFJ5YVdKMWRHVXVibUZ0WlNBOVBUMGdVRzlwYm5SQmRIUnlhV0oxZEdVdVEweEJVMU5KUmtsRFFWUkpUMDR1Ym1GdFpTa2dlMXh5WEc1Y2RGeDBZWFIwSUQwZ2JtVjNJRkJ2ZEhKbFpTNUpiblJsY214bFlYWmxaRUoxWm1abGNrRjBkSEpwWW5WMFpTaGNJbU5zWVhOemFXWnBZMkYwYVc5dVhDSXNJRFFzSURFc0lGd2lSa3hQUVZSY0lpd2dabUZzYzJVcE8xeHlYRzVjZEgwZ1pXeHpaU0JwWmlBb2NHOXBiblJCZEhSeWFXSjFkR1V1Ym1GdFpTQTlQVDBnVUc5cGJuUkJkSFJ5YVdKMWRHVXVVa1ZVVlZKT1gwNVZUVUpGVWk1dVlXMWxLU0I3WEhKY2JseDBYSFJoZEhRZ1BTQnVaWGNnVUc5MGNtVmxMa2x1ZEdWeWJHVmhkbVZrUW5WbVptVnlRWFIwY21saWRYUmxLRndpY21WMGRYSnVUblZ0WW1WeVhDSXNJRFFzSURFc0lGd2lSa3hQUVZSY0lpd2dabUZzYzJVcE8xeHlYRzVjZEgwZ1pXeHpaU0JwWmlBb2NHOXBiblJCZEhSeWFXSjFkR1V1Ym1GdFpTQTlQVDBnVUc5cGJuUkJkSFJ5YVdKMWRHVXVUbFZOUWtWU1gwOUdYMUpGVkZWU1RsTXVibUZ0WlNrZ2UxeHlYRzVjZEZ4MFlYUjBJRDBnYm1WM0lGQnZkSEpsWlM1SmJuUmxjbXhsWVhabFpFSjFabVpsY2tGMGRISnBZblYwWlNoY0ltNTFiV0psY2s5bVVtVjBkWEp1YzF3aUxDQTBMQ0F4TENCY0lrWk1UMEZVWENJc0lHWmhiSE5sS1R0Y2NseHVYSFI5SUdWc2MyVWdhV1lnS0hCdmFXNTBRWFIwY21saWRYUmxMbTVoYldVZ1BUMDlJRkJ2YVc1MFFYUjBjbWxpZFhSbExsTlBWVkpEUlY5SlJDNXVZVzFsS1NCN1hISmNibHgwWEhSaGRIUWdQU0J1WlhjZ1VHOTBjbVZsTGtsdWRHVnliR1ZoZG1Wa1FuVm1abVZ5UVhSMGNtbGlkWFJsS0Z3aWNHOXBiblJUYjNWeVkyVkpSRndpTENBMExDQXhMQ0JjSWtaTVQwRlVYQ0lzSUdaaGJITmxLVHRjY2x4dVhIUjlJR1ZzYzJVZ2FXWWdLSEJ2YVc1MFFYUjBjbWxpZFhSbExtNWhiV1VnUFQwOUlGQnZhVzUwUVhSMGNtbGlkWFJsTGs1UFVrMUJURjlUVUVoRlVrVk5RVkJRUlVRdWJtRnRaU2tnZTF4eVhHNWNkRngwWVhSMElEMGdibVYzSUZCdmRISmxaUzVKYm5SbGNteGxZWFpsWkVKMVptWmxja0YwZEhKcFluVjBaU2hjSW01dmNtMWhiRndpTENBeE1pd2dNeXdnWENKR1RFOUJWRndpTENCbVlXeHpaU2s3WEhKY2JseDBmU0JsYkhObElHbG1JQ2h3YjJsdWRFRjBkSEpwWW5WMFpTNXVZVzFsSUQwOVBTQlFiMmx1ZEVGMGRISnBZblYwWlM1T1QxSk5RVXhmVDBOVU1UWXVibUZ0WlNrZ2UxeHlYRzVjZEZ4MFlYUjBJRDBnYm1WM0lGQnZkSEpsWlM1SmJuUmxjbXhsWVhabFpFSjFabVpsY2tGMGRISnBZblYwWlNoY0ltNXZjbTFoYkZ3aUxDQXhNaXdnTXl3Z1hDSkdURTlCVkZ3aUxDQm1ZV3h6WlNrN1hISmNibHgwZlNCbGJITmxJR2xtSUNod2IybHVkRUYwZEhKcFluVjBaUzV1WVcxbElEMDlQU0JRYjJsdWRFRjBkSEpwWW5WMFpTNU9UMUpOUVV3dWJtRnRaU2tnZTF4eVhHNWNkRngwWVhSMElEMGdibVYzSUZCdmRISmxaUzVKYm5SbGNteGxZWFpsWkVKMVptWmxja0YwZEhKcFluVjBaU2hjSW01dmNtMWhiRndpTENBeE1pd2dNeXdnWENKR1RFOUJWRndpTENCbVlXeHpaU2s3WEhKY2JseDBmVnh5WEc1Y2RGeHlYRzVjZEhKbGRIVnliaUJoZEhRN1hISmNibjA3WEhKY2JpSmRMQ0p6YjNWeVkyVlNiMjkwSWpvaUluMD1cXFxcbi8vIyBzb3VyY2VVUkw9d2VicGFjay1pbnRlcm5hbDovLy8uL3NyYy91dGlscy90b0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlLmpzXFxcXG5cXFwiKTtcXG5cXG4vKioqLyB9KSxcXG5cXG4vKioqLyBcXFwiLi9zcmMvd29ya2Vycy9CaW5hcnlEZWNvZGVyV29ya2VyLmpzXFxcIjpcXG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcXFxcbiAgISoqKiAuL3NyYy93b3JrZXJzL0JpbmFyeURlY29kZXJXb3JrZXIuanMgKioqIVxcbiAgXFxcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xcbi8qISBubyBleHBvcnRzIHByb3ZpZGVkICovXFxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xcblxcblxcXCJ1c2Ugc3RyaWN0XFxcIjtcXG5ldmFsKFxcXCJfX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XFxcXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX1ZlcnNpb25fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL1ZlcnNpb24uanMgKi8gXFxcXFxcXCIuL3NyYy9WZXJzaW9uLmpzXFxcXFxcXCIpO1xcXFxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9sb2FkZXJfUG9pbnRBdHRyaWJ1dGVzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9sb2FkZXIvUG9pbnRBdHRyaWJ1dGVzLmpzICovIFxcXFxcXFwiLi9zcmMvbG9hZGVyL1BvaW50QXR0cmlidXRlcy5qc1xcXFxcXFwiKTtcXFxcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfSW50ZXJsZWF2ZWRCdWZmZXJfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL0ludGVybGVhdmVkQnVmZmVyLmpzICovIFxcXFxcXFwiLi9zcmMvSW50ZXJsZWF2ZWRCdWZmZXIuanNcXFxcXFxcIik7XFxcXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX3RvSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL3RvSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUuanMgKi8gXFxcXFxcXCIuL3NyYy91dGlscy90b0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlLmpzXFxcXFxcXCIpO1xcXFxuXFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcclxcXFxuXFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcclxcXFxuXFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcclxcXFxuLyogZ2xvYmFsIG9ubWVzc2FnZTp0cnVlIHBvc3RNZXNzYWdlOmZhbHNlICovXFxcXHJcXFxcbi8qIGV4cG9ydGVkIG9ubWVzc2FnZSAqL1xcXFxyXFxcXG4vLyBodHRwOi8vanNwZXJmLmNvbS91aW50OGFycmF5LXZzLWRhdGF2aWV3My8zXFxcXHJcXFxcbmZ1bmN0aW9uIEN1c3RvbVZpZXcgKGJ1ZmZlcikge1xcXFxyXFxcXG5cXFxcdHRoaXMuYnVmZmVyID0gYnVmZmVyO1xcXFxyXFxcXG5cXFxcdHRoaXMudTggPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xcXFxyXFxcXG5cXFxcclxcXFxuXFxcXHRsZXQgdG1wID0gbmV3IEFycmF5QnVmZmVyKDgpO1xcXFxyXFxcXG5cXFxcdGxldCB0bXBmID0gbmV3IEZsb2F0MzJBcnJheSh0bXApO1xcXFxyXFxcXG5cXFxcdGxldCB0bXBkID0gbmV3IEZsb2F0NjRBcnJheSh0bXApO1xcXFxyXFxcXG5cXFxcdGxldCB0bXB1OCA9IG5ldyBVaW50OEFycmF5KHRtcCk7XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdHRoaXMuZ2V0VWludDMyID0gZnVuY3Rpb24gKGkpIHtcXFxcclxcXFxuXFxcXHRcXFxcdHJldHVybiAodGhpcy51OFtpICsgM10gPDwgMjQpIHwgKHRoaXMudThbaSArIDJdIDw8IDE2KSB8ICh0aGlzLnU4W2kgKyAxXSA8PCA4KSB8IHRoaXMudThbaV07XFxcXHJcXFxcblxcXFx0fTtcXFxcclxcXFxuXFxcXHJcXFxcblxcXFx0dGhpcy5nZXRVaW50MTYgPSBmdW5jdGlvbiAoaSkge1xcXFxyXFxcXG5cXFxcdFxcXFx0cmV0dXJuICh0aGlzLnU4W2kgKyAxXSA8PCA4KSB8IHRoaXMudThbaV07XFxcXHJcXFxcblxcXFx0fTtcXFxcclxcXFxuXFxcXHJcXFxcblxcXFx0dGhpcy5nZXRGbG9hdDMyID0gZnVuY3Rpb24gKGkpIHtcXFxcclxcXFxuXFxcXHRcXFxcdHRtcHU4WzBdID0gdGhpcy51OFtpICsgMF07XFxcXHJcXFxcblxcXFx0XFxcXHR0bXB1OFsxXSA9IHRoaXMudThbaSArIDFdO1xcXFxyXFxcXG5cXFxcdFxcXFx0dG1wdThbMl0gPSB0aGlzLnU4W2kgKyAyXTtcXFxcclxcXFxuXFxcXHRcXFxcdHRtcHU4WzNdID0gdGhpcy51OFtpICsgM107XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdFxcXFx0cmV0dXJuIHRtcGZbMF07XFxcXHJcXFxcblxcXFx0fTtcXFxcclxcXFxuXFxcXHJcXFxcblxcXFx0dGhpcy5nZXRGbG9hdDY0ID0gZnVuY3Rpb24gKGkpIHtcXFxcclxcXFxuXFxcXHRcXFxcdHRtcHU4WzBdID0gdGhpcy51OFtpICsgMF07XFxcXHJcXFxcblxcXFx0XFxcXHR0bXB1OFsxXSA9IHRoaXMudThbaSArIDFdO1xcXFxyXFxcXG5cXFxcdFxcXFx0dG1wdThbMl0gPSB0aGlzLnU4W2kgKyAyXTtcXFxcclxcXFxuXFxcXHRcXFxcdHRtcHU4WzNdID0gdGhpcy51OFtpICsgM107XFxcXHJcXFxcblxcXFx0XFxcXHR0bXB1OFs0XSA9IHRoaXMudThbaSArIDRdO1xcXFxyXFxcXG5cXFxcdFxcXFx0dG1wdThbNV0gPSB0aGlzLnU4W2kgKyA1XTtcXFxcclxcXFxuXFxcXHRcXFxcdHRtcHU4WzZdID0gdGhpcy51OFtpICsgNl07XFxcXHJcXFxcblxcXFx0XFxcXHR0bXB1OFs3XSA9IHRoaXMudThbaSArIDddO1xcXFxyXFxcXG5cXFxcclxcXFxuXFxcXHRcXFxcdHJldHVybiB0bXBkWzBdO1xcXFxyXFxcXG5cXFxcdH07XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdHRoaXMuZ2V0VWludDggPSBmdW5jdGlvbiAoaSkge1xcXFxyXFxcXG5cXFxcdFxcXFx0cmV0dXJuIHRoaXMudThbaV07XFxcXHJcXFxcblxcXFx0fTtcXFxcclxcXFxufVxcXFxyXFxcXG5cXFxcclxcXFxub25tZXNzYWdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdHBlcmZvcm1hbmNlLm1hcmsoXFxcXFxcXCJiaW5hcnktZGVjb2Rlci1zdGFydFxcXFxcXFwiKTtcXFxcclxcXFxuXFxcXHRcXFxcclxcXFxuXFxcXHRsZXQgYnVmZmVyID0gZXZlbnQuZGF0YS5idWZmZXI7XFxcXHJcXFxcblxcXFx0bGV0IHBvaW50QXR0cmlidXRlcyA9IGV2ZW50LmRhdGEucG9pbnRBdHRyaWJ1dGVzO1xcXFxyXFxcXG5cXFxcdGxldCBudW1Qb2ludHMgPSBidWZmZXIuYnl0ZUxlbmd0aCAvIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZTtcXFxcclxcXFxuXFxcXHRsZXQgY3YgPSBuZXcgQ3VzdG9tVmlldyhidWZmZXIpO1xcXFxyXFxcXG5cXFxcdGxldCB2ZXJzaW9uID0gbmV3IF9WZXJzaW9uX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXFxcXFxcXCJWZXJzaW9uXFxcXFxcXCJdKGV2ZW50LmRhdGEudmVyc2lvbik7XFxcXHJcXFxcblxcXFx0bGV0IG5vZGVPZmZzZXQgPSBldmVudC5kYXRhLm9mZnNldDtcXFxcclxcXFxuXFxcXHRsZXQgc2NhbGUgPSBldmVudC5kYXRhLnNjYWxlO1xcXFxyXFxcXG5cXFxcdGxldCBzcGFjaW5nID0gZXZlbnQuZGF0YS5zcGFjaW5nO1xcXFxyXFxcXG5cXFxcdGxldCBoYXNDaGlsZHJlbiA9IGV2ZW50LmRhdGEuaGFzQ2hpbGRyZW47XFxcXHJcXFxcblxcXFx0bGV0IG5hbWUgPSBldmVudC5kYXRhLm5hbWU7XFxcXHJcXFxcblxcXFx0XFxcXHJcXFxcblxcXFx0bGV0IHRpZ2h0Qm94TWluID0gWyBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZIF07XFxcXHJcXFxcblxcXFx0bGV0IHRpZ2h0Qm94TWF4ID0gWyBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksIE51bWJlci5ORUdBVElWRV9JTkZJTklUWSwgTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZIF07XFxcXHJcXFxcblxcXFx0bGV0IG1lYW4gPSBbMCwgMCwgMF07XFxcXHJcXFxcblxcXFx0XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdGxldCBhdHRyaWJ1dGVCdWZmZXJzID0ge307XFxcXHJcXFxcblxcXFx0bGV0IGluT2Zmc2V0ID0gMDtcXFxcclxcXFxuXFxcXHRmb3IgKGxldCBwb2ludEF0dHJpYnV0ZSBvZiBwb2ludEF0dHJpYnV0ZXMuYXR0cmlidXRlcykge1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHJcXFxcblxcXFx0XFxcXHRpZiAocG9pbnRBdHRyaWJ1dGUubmFtZSA9PT0gX2xvYWRlcl9Qb2ludEF0dHJpYnV0ZXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcXFxcXFxcIlBvaW50QXR0cmlidXRlXFxcXFxcXCJdLlBPU0lUSU9OX0NBUlRFU0lBTi5uYW1lKSB7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdGxldCBidWZmID0gbmV3IEFycmF5QnVmZmVyKG51bVBvaW50cyAqIDQgKiAzKTtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0bGV0IHBvc2l0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZik7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0Zm9yIChsZXQgaiA9IDA7IGogPCBudW1Qb2ludHM7IGorKykge1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdGxldCB4LCB5LCB6O1xcXFxyXFxcXG5cXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRpZiAodmVyc2lvbi5uZXdlclRoYW4oJzEuMycpKSB7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHR4ID0gKGN2LmdldFVpbnQzMihpbk9mZnNldCArIGogKiBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUgKyAwLCB0cnVlKSAqIHNjYWxlKTtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdHkgPSAoY3YuZ2V0VWludDMyKGluT2Zmc2V0ICsgaiAqIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDQsIHRydWUpICogc2NhbGUpO1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0eiA9IChjdi5nZXRVaW50MzIoaW5PZmZzZXQgKyBqICogcG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgOCwgdHJ1ZSkgKiBzY2FsZSk7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0fSBlbHNlIHtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdHggPSBjdi5nZXRGbG9hdDMyKGogKiBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUgKyAwLCB0cnVlKSArIG5vZGVPZmZzZXRbMF07XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHR5ID0gY3YuZ2V0RmxvYXQzMihqICogcG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgNCwgdHJ1ZSkgKyBub2RlT2Zmc2V0WzFdO1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0eiA9IGN2LmdldEZsb2F0MzIoaiAqIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDgsIHRydWUpICsgbm9kZU9mZnNldFsyXTtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHR9XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdHBvc2l0aW9uc1szICogaiArIDBdID0geDtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRwb3NpdGlvbnNbMyAqIGogKyAxXSA9IHk7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0cG9zaXRpb25zWzMgKiBqICsgMl0gPSB6O1xcXFxyXFxcXG5cXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRtZWFuWzBdICs9IHggLyBudW1Qb2ludHM7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0bWVhblsxXSArPSB5IC8gbnVtUG9pbnRzO1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdG1lYW5bMl0gKz0geiAvIG51bVBvaW50cztcXFxcclxcXFxuXFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0dGlnaHRCb3hNaW5bMF0gPSBNYXRoLm1pbih0aWdodEJveE1pblswXSwgeCk7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0dGlnaHRCb3hNaW5bMV0gPSBNYXRoLm1pbih0aWdodEJveE1pblsxXSwgeSk7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0dGlnaHRCb3hNaW5bMl0gPSBNYXRoLm1pbih0aWdodEJveE1pblsyXSwgeik7XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdHRpZ2h0Qm94TWF4WzBdID0gTWF0aC5tYXgodGlnaHRCb3hNYXhbMF0sIHgpO1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdHRpZ2h0Qm94TWF4WzFdID0gTWF0aC5tYXgodGlnaHRCb3hNYXhbMV0sIHkpO1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdHRpZ2h0Qm94TWF4WzJdID0gTWF0aC5tYXgodGlnaHRCb3hNYXhbMl0sIHopO1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHR9XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRhdHRyaWJ1dGVCdWZmZXJzW3BvaW50QXR0cmlidXRlLm5hbWVdID0geyBidWZmZXI6IGJ1ZmYsIGF0dHJpYnV0ZTogcG9pbnRBdHRyaWJ1dGUgfTtcXFxcclxcXFxuXFxcXHRcXFxcdH0gZWxzZSBpZiAocG9pbnRBdHRyaWJ1dGUubmFtZSA9PT0gX2xvYWRlcl9Qb2ludEF0dHJpYnV0ZXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcXFxcXFxcIlBvaW50QXR0cmlidXRlXFxcXFxcXCJdLkNPTE9SX1BBQ0tFRC5uYW1lKSB7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdGxldCBidWZmID0gbmV3IEFycmF5QnVmZmVyKG51bVBvaW50cyAqIDQpO1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRsZXQgY29sb3JzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZik7XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRmb3IgKGxldCBqID0gMDsgaiA8IG51bVBvaW50czsgaisrKSB7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0Y29sb3JzWzQgKiBqICsgMF0gPSBjdi5nZXRVaW50OChpbk9mZnNldCArIGogKiBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUgKyAwKTtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRjb2xvcnNbNCAqIGogKyAxXSA9IGN2LmdldFVpbnQ4KGluT2Zmc2V0ICsgaiAqIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDEpO1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdGNvbG9yc1s0ICogaiArIDJdID0gY3YuZ2V0VWludDgoaW5PZmZzZXQgKyBqICogcG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgMik7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdH1cXFxcclxcXFxuXFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdGF0dHJpYnV0ZUJ1ZmZlcnNbcG9pbnRBdHRyaWJ1dGUubmFtZV0gPSB7IGJ1ZmZlcjogYnVmZiwgYXR0cmlidXRlOiBwb2ludEF0dHJpYnV0ZSB9O1xcXFxyXFxcXG5cXFxcdFxcXFx0fSBlbHNlIGlmIChwb2ludEF0dHJpYnV0ZS5uYW1lID09PSBfbG9hZGVyX1BvaW50QXR0cmlidXRlc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1xcXFxcXFwiUG9pbnRBdHRyaWJ1dGVcXFxcXFxcIl0uSU5URU5TSVRZLm5hbWUpIHtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0bGV0IGJ1ZmYgPSBuZXcgQXJyYXlCdWZmZXIobnVtUG9pbnRzICogNCk7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdGxldCBpbnRlbnNpdGllcyA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZik7XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRmb3IgKGxldCBqID0gMDsgaiA8IG51bVBvaW50czsgaisrKSB7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0bGV0IGludGVuc2l0eSA9IGN2LmdldFVpbnQxNihpbk9mZnNldCArIGogKiBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUsIHRydWUpO1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdGludGVuc2l0aWVzW2pdID0gaW50ZW5zaXR5O1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHR9XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRhdHRyaWJ1dGVCdWZmZXJzW3BvaW50QXR0cmlidXRlLm5hbWVdID0geyBidWZmZXI6IGJ1ZmYsIGF0dHJpYnV0ZTogcG9pbnRBdHRyaWJ1dGUgfTtcXFxcclxcXFxuXFxcXHRcXFxcdH0gZWxzZSBpZiAocG9pbnRBdHRyaWJ1dGUubmFtZSA9PT0gX2xvYWRlcl9Qb2ludEF0dHJpYnV0ZXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcXFxcXFxcIlBvaW50QXR0cmlidXRlXFxcXFxcXCJdLkNMQVNTSUZJQ0FUSU9OLm5hbWUpIHtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0bGV0IGJ1ZmYgPSBuZXcgQXJyYXlCdWZmZXIobnVtUG9pbnRzKTtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0bGV0IGNsYXNzaWZpY2F0aW9ucyA9IG5ldyBVaW50OEFycmF5KGJ1ZmYpO1xcXFxyXFxcXG5cXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0Zm9yIChsZXQgaiA9IDA7IGogPCBudW1Qb2ludHM7IGorKykge1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdGxldCBjbGFzc2lmaWNhdGlvbiA9IGN2LmdldFVpbnQ4KGluT2Zmc2V0ICsgaiAqIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSk7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0Y2xhc3NpZmljYXRpb25zW2pdID0gY2xhc3NpZmljYXRpb247XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdH1cXFxcclxcXFxuXFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdGF0dHJpYnV0ZUJ1ZmZlcnNbcG9pbnRBdHRyaWJ1dGUubmFtZV0gPSB7IGJ1ZmZlcjogYnVmZiwgYXR0cmlidXRlOiBwb2ludEF0dHJpYnV0ZSB9O1xcXFxyXFxcXG5cXFxcdFxcXFx0fSBlbHNlIGlmIChwb2ludEF0dHJpYnV0ZS5uYW1lID09PSBfbG9hZGVyX1BvaW50QXR0cmlidXRlc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1xcXFxcXFwiUG9pbnRBdHRyaWJ1dGVcXFxcXFxcIl0uUkVUVVJOX05VTUJFUi5uYW1lKSB7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdGxldCBidWZmID0gbmV3IEFycmF5QnVmZmVyKG51bVBvaW50cyk7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdGxldCByZXR1cm5OdW1iZXJzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZik7XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRmb3IgKGxldCBqID0gMDsgaiA8IG51bVBvaW50czsgaisrKSB7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0bGV0IHJldHVybk51bWJlciA9IGN2LmdldFVpbnQ4KGluT2Zmc2V0ICsgaiAqIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSk7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0cmV0dXJuTnVtYmVyc1tqXSA9IHJldHVybk51bWJlcjtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0fVxcXFxyXFxcXG5cXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0YXR0cmlidXRlQnVmZmVyc1twb2ludEF0dHJpYnV0ZS5uYW1lXSA9IHsgYnVmZmVyOiBidWZmLCBhdHRyaWJ1dGU6IHBvaW50QXR0cmlidXRlIH07XFxcXHJcXFxcblxcXFx0XFxcXHR9IGVsc2UgaWYgKHBvaW50QXR0cmlidXRlLm5hbWUgPT09IF9sb2FkZXJfUG9pbnRBdHRyaWJ1dGVzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXFxcXFxcXCJQb2ludEF0dHJpYnV0ZVxcXFxcXFwiXS5OVU1CRVJfT0ZfUkVUVVJOUy5uYW1lKSB7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdGxldCBidWZmID0gbmV3IEFycmF5QnVmZmVyKG51bVBvaW50cyk7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdGxldCBudW1iZXJPZlJldHVybnMgPSBuZXcgVWludDhBcnJheShidWZmKTtcXFxcclxcXFxuXFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdGZvciAobGV0IGogPSAwOyBqIDwgbnVtUG9pbnRzOyBqKyspIHtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRsZXQgbnVtYmVyT2ZSZXR1cm4gPSBjdi5nZXRVaW50OChpbk9mZnNldCArIGogKiBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUpO1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdG51bWJlck9mUmV0dXJuc1tqXSA9IG51bWJlck9mUmV0dXJuO1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHR9XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRhdHRyaWJ1dGVCdWZmZXJzW3BvaW50QXR0cmlidXRlLm5hbWVdID0geyBidWZmZXI6IGJ1ZmYsIGF0dHJpYnV0ZTogcG9pbnRBdHRyaWJ1dGUgfTtcXFxcclxcXFxuXFxcXHRcXFxcdH0gZWxzZSBpZiAocG9pbnRBdHRyaWJ1dGUubmFtZSA9PT0gX2xvYWRlcl9Qb2ludEF0dHJpYnV0ZXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcXFxcXFxcIlBvaW50QXR0cmlidXRlXFxcXFxcXCJdLlNPVVJDRV9JRC5uYW1lKSB7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdGxldCBidWZmID0gbmV3IEFycmF5QnVmZmVyKG51bVBvaW50cyAqIDIpO1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRsZXQgc291cmNlSURzID0gbmV3IFVpbnQxNkFycmF5KGJ1ZmYpO1xcXFxyXFxcXG5cXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0Zm9yIChsZXQgaiA9IDA7IGogPCBudW1Qb2ludHM7IGorKykge1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdGxldCBzb3VyY2VJRCA9IGN2LmdldFVpbnQxNihpbk9mZnNldCArIGogKiBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUpO1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdHNvdXJjZUlEc1tqXSA9IHNvdXJjZUlEO1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHR9XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRhdHRyaWJ1dGVCdWZmZXJzW3BvaW50QXR0cmlidXRlLm5hbWVdID0geyBidWZmZXI6IGJ1ZmYsIGF0dHJpYnV0ZTogcG9pbnRBdHRyaWJ1dGUgfTtcXFxcclxcXFxuXFxcXHRcXFxcdH0gZWxzZSBpZiAocG9pbnRBdHRyaWJ1dGUubmFtZSA9PT0gX2xvYWRlcl9Qb2ludEF0dHJpYnV0ZXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcXFxcXFxcIlBvaW50QXR0cmlidXRlXFxcXFxcXCJdLk5PUk1BTF9TUEhFUkVNQVBQRUQubmFtZSkge1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRsZXQgYnVmZiA9IG5ldyBBcnJheUJ1ZmZlcihudW1Qb2ludHMgKiA0ICogMyk7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdGxldCBub3JtYWxzID0gbmV3IEZsb2F0MzJBcnJheShidWZmKTtcXFxcclxcXFxuXFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdGZvciAobGV0IGogPSAwOyBqIDwgbnVtUG9pbnRzOyBqKyspIHtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRsZXQgYnggPSBjdi5nZXRVaW50OChpbk9mZnNldCArIGogKiBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUgKyAwKTtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRsZXQgYnkgPSBjdi5nZXRVaW50OChpbk9mZnNldCArIGogKiBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUgKyAxKTtcXFxcclxcXFxuXFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0bGV0IGV4ID0gYnggLyAyNTU7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0bGV0IGV5ID0gYnkgLyAyNTU7XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdGxldCBueCA9IGV4ICogMiAtIDE7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0bGV0IG55ID0gZXkgKiAyIC0gMTtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRsZXQgbnogPSAxO1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdGxldCBudyA9IC0xO1xcXFxyXFxcXG5cXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRsZXQgbCA9IChueCAqICgtbngpKSArIChueSAqICgtbnkpKSArIChueiAqICgtbncpKTtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRueiA9IGw7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0bnggPSBueCAqIE1hdGguc3FydChsKTtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRueSA9IG55ICogTWF0aC5zcXJ0KGwpO1xcXFxyXFxcXG5cXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRueCA9IG54ICogMjtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRueSA9IG55ICogMjtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRueiA9IG56ICogMiAtIDE7XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdG5vcm1hbHNbMyAqIGogKyAwXSA9IG54O1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdG5vcm1hbHNbMyAqIGogKyAxXSA9IG55O1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdG5vcm1hbHNbMyAqIGogKyAyXSA9IG56O1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHR9XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRhdHRyaWJ1dGVCdWZmZXJzW3BvaW50QXR0cmlidXRlLm5hbWVdID0geyBidWZmZXI6IGJ1ZmYsIGF0dHJpYnV0ZTogcG9pbnRBdHRyaWJ1dGUgfTtcXFxcclxcXFxuXFxcXHRcXFxcdH0gZWxzZSBpZiAocG9pbnRBdHRyaWJ1dGUubmFtZSA9PT0gX2xvYWRlcl9Qb2ludEF0dHJpYnV0ZXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcXFxcXFxcIlBvaW50QXR0cmlidXRlXFxcXFxcXCJdLk5PUk1BTF9PQ1QxNi5uYW1lKSB7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdGxldCBidWZmID0gbmV3IEFycmF5QnVmZmVyKG51bVBvaW50cyAqIDQgKiAzKTtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0bGV0IG5vcm1hbHMgPSBuZXcgRmxvYXQzMkFycmF5KGJ1ZmYpO1xcXFxyXFxcXG5cXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0Zm9yIChsZXQgaiA9IDA7IGogPCBudW1Qb2ludHM7IGorKykge1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdGxldCBieCA9IGN2LmdldFVpbnQ4KGluT2Zmc2V0ICsgaiAqIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDApO1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdGxldCBieSA9IGN2LmdldFVpbnQ4KGluT2Zmc2V0ICsgaiAqIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDEpO1xcXFxyXFxcXG5cXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRsZXQgdSA9IChieCAvIDI1NSkgKiAyIC0gMTtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRsZXQgdiA9IChieSAvIDI1NSkgKiAyIC0gMTtcXFxcclxcXFxuXFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0bGV0IHogPSAxIC0gTWF0aC5hYnModSkgLSBNYXRoLmFicyh2KTtcXFxcclxcXFxuXFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0bGV0IHggPSAwO1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdGxldCB5ID0gMDtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRpZiAoeiA+PSAwKSB7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHR4ID0gdTtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdHkgPSB2O1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdH0gZWxzZSB7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHR4ID0gLSh2IC8gTWF0aC5zaWduKHYpIC0gMSkgLyBNYXRoLnNpZ24odSk7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHR5ID0gLSh1IC8gTWF0aC5zaWduKHUpIC0gMSkgLyBNYXRoLnNpZ24odik7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0fVxcXFxyXFxcXG5cXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRsZXQgbGVuZ3RoID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeik7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0eCA9IHggLyBsZW5ndGg7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0eSA9IHkgLyBsZW5ndGg7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0eiA9IHogLyBsZW5ndGg7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0bm9ybWFsc1szICogaiArIDBdID0geDtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRub3JtYWxzWzMgKiBqICsgMV0gPSB5O1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdG5vcm1hbHNbMyAqIGogKyAyXSA9IHo7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdH1cXFxcclxcXFxuXFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdGF0dHJpYnV0ZUJ1ZmZlcnNbcG9pbnRBdHRyaWJ1dGUubmFtZV0gPSB7IGJ1ZmZlcjogYnVmZiwgYXR0cmlidXRlOiBwb2ludEF0dHJpYnV0ZSB9O1xcXFxyXFxcXG5cXFxcdFxcXFx0fSBlbHNlIGlmIChwb2ludEF0dHJpYnV0ZS5uYW1lID09PSBfbG9hZGVyX1BvaW50QXR0cmlidXRlc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1xcXFxcXFwiUG9pbnRBdHRyaWJ1dGVcXFxcXFxcIl0uTk9STUFMLm5hbWUpIHtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0bGV0IGJ1ZmYgPSBuZXcgQXJyYXlCdWZmZXIobnVtUG9pbnRzICogNCAqIDMpO1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRsZXQgbm9ybWFscyA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZik7XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRmb3IgKGxldCBqID0gMDsgaiA8IG51bVBvaW50czsgaisrKSB7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0bGV0IHggPSBjdi5nZXRGbG9hdDMyKGluT2Zmc2V0ICsgaiAqIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDAsIHRydWUpO1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdGxldCB5ID0gY3YuZ2V0RmxvYXQzMihpbk9mZnNldCArIGogKiBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUgKyA0LCB0cnVlKTtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRsZXQgeiA9IGN2LmdldEZsb2F0MzIoaW5PZmZzZXQgKyBqICogcG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgOCwgdHJ1ZSk7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0bm9ybWFsc1szICogaiArIDBdID0geDtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0XFxcXHRub3JtYWxzWzMgKiBqICsgMV0gPSB5O1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRcXFxcdG5vcm1hbHNbMyAqIGogKyAyXSA9IHo7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdH1cXFxcclxcXFxuXFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdGF0dHJpYnV0ZUJ1ZmZlcnNbcG9pbnRBdHRyaWJ1dGUubmFtZV0gPSB7IGJ1ZmZlcjogYnVmZiwgYXR0cmlidXRlOiBwb2ludEF0dHJpYnV0ZSB9O1xcXFxyXFxcXG5cXFxcdFxcXFx0fSBlbHNlIGlmIChwb2ludEF0dHJpYnV0ZS5uYW1lID09PSBfbG9hZGVyX1BvaW50QXR0cmlidXRlc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1xcXFxcXFwiUG9pbnRBdHRyaWJ1dGVcXFxcXFxcIl0uR1BTX1RJTUUubmFtZSkge1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRsZXQgYnVmZiA9IG5ldyBBcnJheUJ1ZmZlcihudW1Qb2ludHMgKiA4KTtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0bGV0IGdwc3RpbWVzID0gbmV3IEZsb2F0NjRBcnJheShidWZmKTtcXFxcclxcXFxuXFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdGZvcihsZXQgaiA9IDA7IGogPCBudW1Qb2ludHM7IGorKyl7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0bGV0IGdwc3RpbWUgPSBjdi5nZXRGbG9hdDY0KGluT2Zmc2V0ICsgaiAqIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSwgdHJ1ZSk7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdFxcXFx0Z3BzdGltZXNbal0gPSBncHN0aW1lO1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHR9XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdGF0dHJpYnV0ZUJ1ZmZlcnNbcG9pbnRBdHRyaWJ1dGUubmFtZV0gPSB7IGJ1ZmZlcjogYnVmZiwgYXR0cmlidXRlOiBwb2ludEF0dHJpYnV0ZSB9O1xcXFxyXFxcXG5cXFxcdFxcXFx0fVxcXFxyXFxcXG5cXFxcclxcXFxuXFxcXHRcXFxcdGluT2Zmc2V0ICs9IHBvaW50QXR0cmlidXRlLmJ5dGVTaXplO1xcXFxyXFxcXG5cXFxcdH1cXFxcclxcXFxuXFxcXHJcXFxcblxcXFx0Ly8gQ29udmVydCBHUFMgdGltZSBmcm9tIGRvdWJsZSAodW5zdXBwb3J0ZWQgYnkgV2ViR0wpIHRvIG9yaWdpbi1hbGlnbmVkIGZsb2F0c1xcXFxyXFxcXG5cXFxcdGlmKGF0dHJpYnV0ZUJ1ZmZlcnNbX2xvYWRlcl9Qb2ludEF0dHJpYnV0ZXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcXFxcXFxcIlBvaW50QXR0cmlidXRlXFxcXFxcXCJdLkdQU19USU1FLm5hbWVdKXsgXFxcXHJcXFxcblxcXFx0XFxcXHRsZXQgYXR0cmlidXRlID0gYXR0cmlidXRlQnVmZmVyc1tfbG9hZGVyX1BvaW50QXR0cmlidXRlc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1xcXFxcXFwiUG9pbnRBdHRyaWJ1dGVcXFxcXFxcIl0uR1BTX1RJTUUubmFtZV07XFxcXHJcXFxcblxcXFx0XFxcXHRsZXQgc291cmNlRjY0ID0gbmV3IEZsb2F0NjRBcnJheShhdHRyaWJ1dGUuYnVmZmVyKTtcXFxcclxcXFxuXFxcXHRcXFxcdGxldCB0YXJnZXQgPSBuZXcgQXJyYXlCdWZmZXIobnVtUG9pbnRzICogNCk7XFxcXHJcXFxcblxcXFx0XFxcXHRsZXQgdGFyZ2V0RjMyID0gbmV3IEZsb2F0MzJBcnJheSh0YXJnZXQpO1xcXFxyXFxcXG5cXFxcclxcXFxuXFxcXHRcXFxcdGxldCBtaW4gPSBJbmZpbml0eTtcXFxcclxcXFxuXFxcXHRcXFxcdGxldCBtYXggPSAtSW5maW5pdHk7XFxcXHJcXFxcblxcXFx0XFxcXHRmb3IobGV0IGkgPSAwOyBpIDwgbnVtUG9pbnRzOyBpKyspe1xcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRsZXQgZ3BzdGltZSA9IHNvdXJjZUY2NFtpXTtcXFxcclxcXFxuXFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdG1pbiA9IE1hdGgubWluKG1pbiwgZ3BzdGltZSk7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdG1heCA9IE1hdGgubWF4KG1heCwgZ3BzdGltZSk7XFxcXHJcXFxcblxcXFx0XFxcXHR9XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdFxcXFx0Zm9yKGxldCBpID0gMDsgaSA8IG51bVBvaW50czsgaSsrKXtcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0bGV0IGdwc3RpbWUgPSBzb3VyY2VGNjRbaV07XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdHRhcmdldEYzMltpXSA9IGdwc3RpbWUgLSBtaW47XFxcXHJcXFxcblxcXFx0XFxcXHR9XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdFxcXFx0YXR0cmlidXRlQnVmZmVyc1tfbG9hZGVyX1BvaW50QXR0cmlidXRlc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1xcXFxcXFwiUG9pbnRBdHRyaWJ1dGVcXFxcXFxcIl0uR1BTX1RJTUUubmFtZV0gPSB7IFxcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRidWZmZXI6IHRhcmdldCwgXFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdGF0dHJpYnV0ZTogX2xvYWRlcl9Qb2ludEF0dHJpYnV0ZXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcXFxcXFxcIlBvaW50QXR0cmlidXRlXFxcXFxcXCJdLkdQU19USU1FLFxcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHRvZmZzZXQ6IG1pbixcXFxcclxcXFxuXFxcXHRcXFxcdFxcXFx0cmFuZ2U6IG1heCAtIG1pbn07XFxcXHJcXFxcblxcXFx0fVxcXFxyXFxcXG5cXFxcclxcXFxuXFxcXHQvL2xldCBkZWJ1Z05vZGVzID0gW1xcXFxcXFwicjAyNlxcXFxcXFwiLCBcXFxcXFxcInIwMjI2XFxcXFxcXCIsXFxcXFxcXCJyMDIyNzRcXFxcXFxcIl07XFxcXHJcXFxcblxcXFx0Ly9pZihkZWJ1Z05vZGVzLmluY2x1ZGVzKG5hbWUpKXtcXFxcclxcXFxuXFxcXHRpZihmYWxzZSl7fVxcXFxyXFxcXG5cXFxcclxcXFxuXFxcXHJcXFxcblxcXFx0eyAvLyBhZGQgaW5kaWNlc1xcXFxyXFxcXG5cXFxcdFxcXFx0bGV0IGJ1ZmYgPSBuZXcgQXJyYXlCdWZmZXIobnVtUG9pbnRzICogNCk7XFxcXHJcXFxcblxcXFx0XFxcXHRsZXQgaW5kaWNlcyA9IG5ldyBVaW50MzJBcnJheShidWZmKTtcXFxcclxcXFxuXFxcXHJcXFxcblxcXFx0XFxcXHRmb3IgKGxldCBpID0gMDsgaSA8IG51bVBvaW50czsgaSsrKSB7XFxcXHJcXFxcblxcXFx0XFxcXHRcXFxcdGluZGljZXNbaV0gPSBpO1xcXFxyXFxcXG5cXFxcdFxcXFx0fVxcXFxyXFxcXG5cXFxcdFxcXFx0XFxcXHJcXFxcblxcXFx0XFxcXHRhdHRyaWJ1dGVCdWZmZXJzW19sb2FkZXJfUG9pbnRBdHRyaWJ1dGVzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXFxcXFxcXCJQb2ludEF0dHJpYnV0ZVxcXFxcXFwiXS5JTkRJQ0VTLm5hbWVdID0geyBidWZmZXI6IGJ1ZmYsIGF0dHJpYnV0ZTogX2xvYWRlcl9Qb2ludEF0dHJpYnV0ZXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcXFxcXFxcIlBvaW50QXR0cmlidXRlXFxcXFxcXCJdLklORElDRVMgfTtcXFxcclxcXFxuXFxcXHR9XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdHBlcmZvcm1hbmNlLm1hcmsoXFxcXFxcXCJiaW5hcnktZGVjb2Rlci1lbmRcXFxcXFxcIik7XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdC8veyAvLyBwcmludCB0aW1pbmdzXFxcXHJcXFxcblxcXFx0Ly9cXFxcdC8vcGVyZm9ybWFuY2UubWVhc3VyZShcXFxcXFxcInNwYWNpbmdcXFxcXFxcIiwgXFxcXFxcXCJzcGFjaW5nLXN0YXJ0XFxcXFxcXCIsIFxcXFxcXFwic3BhY2luZy1lbmRcXFxcXFxcIik7XFxcXHJcXFxcblxcXFx0Ly9cXFxcdHBlcmZvcm1hbmNlLm1lYXN1cmUoXFxcXFxcXCJiaW5hcnktZGVjb2RlclxcXFxcXFwiLCBcXFxcXFxcImJpbmFyeS1kZWNvZGVyLXN0YXJ0XFxcXFxcXCIsIFxcXFxcXFwiYmluYXJ5LWRlY29kZXItZW5kXFxcXFxcXCIpO1xcXFxyXFxcXG5cXFxcdC8vXFxcXHRsZXQgbWVhc3VyZSA9IHBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoXFxcXFxcXCJtZWFzdXJlXFxcXFxcXCIpWzBdO1xcXFxyXFxcXG5cXFxcdC8vXFxcXHRsZXQgZHBwID0gMTAwMCAqIG1lYXN1cmUuZHVyYXRpb24gLyBudW1Qb2ludHM7XFxcXHJcXFxcblxcXFx0Ly9cXFxcdGxldCBkZWJ1Z01lc3NhZ2UgPSBgJHttZWFzdXJlLmR1cmF0aW9uLnRvRml4ZWQoMyl9IG1zLCAke251bVBvaW50c30gcG9pbnRzLCAke2RwcC50b0ZpeGVkKDMpfSDCtXMgLyBwb2ludGA7XFxcXHJcXFxcblxcXFx0Ly9cXFxcdGNvbnNvbGUubG9nKGRlYnVnTWVzc2FnZSk7XFxcXHJcXFxcblxcXFx0Ly99XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdHBlcmZvcm1hbmNlLmNsZWFyTWFya3MoKTtcXFxcclxcXFxuXFxcXHRwZXJmb3JtYW5jZS5jbGVhck1lYXN1cmVzKCk7XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdGxldCBtZXNzYWdlID0ge1xcXFxyXFxcXG5cXFxcdFxcXFx0YnVmZmVyOiBidWZmZXIsXFxcXHJcXFxcblxcXFx0XFxcXHRtZWFuOiBtZWFuLFxcXFxyXFxcXG5cXFxcdFxcXFx0YXR0cmlidXRlQnVmZmVyczogYXR0cmlidXRlQnVmZmVycyxcXFxcclxcXFxuXFxcXHRcXFxcdHRpZ2h0Qm91bmRpbmdCb3g6IHsgbWluOiB0aWdodEJveE1pbiwgbWF4OiB0aWdodEJveE1heCB9LFxcXFxyXFxcXG5cXFxcdFxcXFx0Ly9lc3RpbWF0ZWRTcGFjaW5nOiBlc3RpbWF0ZWRTcGFjaW5nLFxcXFxyXFxcXG5cXFxcdH07XFxcXHJcXFxcblxcXFxyXFxcXG5cXFxcdGxldCB0cmFuc2ZlcmFibGVzID0gW107XFxcXHJcXFxcblxcXFx0Zm9yIChsZXQgcHJvcGVydHkgaW4gbWVzc2FnZS5hdHRyaWJ1dGVCdWZmZXJzKSB7XFxcXHJcXFxcblxcXFx0XFxcXHR0cmFuc2ZlcmFibGVzLnB1c2gobWVzc2FnZS5hdHRyaWJ1dGVCdWZmZXJzW3Byb3BlcnR5XS5idWZmZXIpO1xcXFxyXFxcXG5cXFxcdH1cXFxcclxcXFxuXFxcXHR0cmFuc2ZlcmFibGVzLnB1c2goYnVmZmVyKTtcXFxcclxcXFxuXFxcXHJcXFxcblxcXFx0cG9zdE1lc3NhZ2UobWVzc2FnZSwgdHJhbnNmZXJhYmxlcyk7XFxcXHJcXFxcbn07XFxcXHJcXFxcbi8vIyBzb3VyY2VVUkw9W21vZHVsZV1cXFxcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkluZGxZbkJoWTJzNkx5OWFaV0ZRYjNSeVpXVXZMaTl6Y21NdmQyOXlhMlZ5Y3k5Q2FXNWhjbmxFWldOdlpHVnlWMjl5YTJWeUxtcHpQMkptTldNaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWpzN096czdPenRCUVVWelF6dEJRVU4xUXp0QlFVTnVRanRCUVVNMFFqczdPenRCUVVsMFJqdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN08wRkJSVUU3UVVGRFFUdEJRVU5CTzBGQlEwRTdPMEZCUlVFN1FVRkRRVHRCUVVOQk96dEJRVVZCTzBGQlEwRTdRVUZEUVRzN1FVRkZRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CT3p0QlFVVkJPMEZCUTBFN08wRkJSVUU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk96dEJRVVZCTzBGQlEwRTdPMEZCUlVFN1FVRkRRVHRCUVVOQk8wRkJRMEU3TzBGQlJVRTdPMEZCUlVFN08wRkJSVUU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVN4dFFrRkJiVUlzYlVSQlFVODdRVUZETVVJN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUczdRVUZGUVR0QlFVTkJPMEZCUTBFN096dEJRVWRCTzBGQlEwRTdRVUZEUVRzN1FVRkZRU3c0UWtGQk9FSXNlVVZCUVdNN1FVRkROVU03UVVGRFFUczdRVUZGUVN4clFrRkJhMElzWlVGQlpUdEJRVU5xUXpzN1FVRkZRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTEV0QlFVczdRVUZEVER0QlFVTkJPMEZCUTBFN1FVRkRRVHM3UVVGRlFUdEJRVU5CTzBGQlEwRTdPMEZCUlVFN1FVRkRRVHRCUVVOQk96dEJRVVZCTzBGQlEwRTdRVUZEUVRzN1FVRkZRVHRCUVVOQk8wRkJRMEU3UVVGRFFUczdRVUZGUVN3MFEwRkJORU03UVVGRE5VTXNSMEZCUnl4clEwRkJhME1zZVVWQlFXTTdRVUZEYmtRN1FVRkRRVHM3UVVGRlFTeHJRa0ZCYTBJc1pVRkJaVHRCUVVOcVF6dEJRVU5CTzBGQlEwRTdRVUZEUVRzN1FVRkZRU3cwUTBGQk5FTTdRVUZETlVNc1IwRkJSeXhyUTBGQmEwTXNlVVZCUVdNN1FVRkRia1E3UVVGRFFUczdRVUZGUVN4clFrRkJhMElzWlVGQlpUdEJRVU5xUXp0QlFVTkJPMEZCUTBFN08wRkJSVUVzTkVOQlFUUkRPMEZCUXpWRExFZEJRVWNzYTBOQlFXdERMSGxGUVVGak8wRkJRMjVFTzBGQlEwRTdPMEZCUlVFc2EwSkJRV3RDTEdWQlFXVTdRVUZEYWtNN1FVRkRRVHRCUVVOQk96dEJRVVZCTERSRFFVRTBRenRCUVVNMVF5eEhRVUZITEd0RFFVRnJReXg1UlVGQll6dEJRVU51UkR0QlFVTkJPenRCUVVWQkxHdENRVUZyUWl4bFFVRmxPMEZCUTJwRE8wRkJRMEU3UVVGRFFUczdRVUZGUVN3MFEwRkJORU03UVVGRE5VTXNSMEZCUnl4clEwRkJhME1zZVVWQlFXTTdRVUZEYmtRN1FVRkRRVHM3UVVGRlFTeHJRa0ZCYTBJc1pVRkJaVHRCUVVOcVF6dEJRVU5CTzBGQlEwRTdPMEZCUlVFc05FTkJRVFJETzBGQlF6VkRMRWRCUVVjc2EwTkJRV3RETEhsRlFVRmpPMEZCUTI1RU8wRkJRMEU3TzBGQlJVRXNhMEpCUVd0Q0xHVkJRV1U3UVVGRGFrTTdRVUZEUVR0QlFVTkJPenRCUVVWQkxEUkRRVUUwUXp0QlFVTTFReXhIUVVGSExHdERRVUZyUXl4NVJVRkJZenRCUVVOdVJEdEJRVU5CT3p0QlFVVkJMR3RDUVVGclFpeGxRVUZsTzBGQlEycERPMEZCUTBFN08wRkJSVUU3UVVGRFFUczdRVUZGUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHM3UVVGRlFUdEJRVU5CTzBGQlEwRTdRVUZEUVRzN1FVRkZRVHRCUVVOQk8wRkJRMEU3TzBGQlJVRTdRVUZEUVR0QlFVTkJPMEZCUTBFN08wRkJSVUVzTkVOQlFUUkRPMEZCUXpWRExFZEJRVWNzYTBOQlFXdERMSGxGUVVGak8wRkJRMjVFTzBGQlEwRTdPMEZCUlVFc2EwSkJRV3RDTEdWQlFXVTdRVUZEYWtNN1FVRkRRVHM3UVVGRlFUdEJRVU5CT3p0QlFVVkJPenRCUVVWQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVN4TFFVRkxPMEZCUTB3N1FVRkRRVHRCUVVOQk96dEJRVVZCTzBGQlEwRTdRVUZEUVR0QlFVTkJPenRCUVVWQk8wRkJRMEU3UVVGRFFUdEJRVU5CT3p0QlFVVkJMRFJEUVVFMFF6dEJRVU0xUXl4SFFVRkhMR3REUVVGclF5eDVSVUZCWXp0QlFVTnVSRHRCUVVOQk96dEJRVVZCTEd0Q1FVRnJRaXhsUVVGbE8wRkJRMnBETzBGQlEwRTdRVUZEUVRzN1FVRkZRVHRCUVVOQk8wRkJRMEU3UVVGRFFUczdRVUZGUVN3MFEwRkJORU03UVVGRE5VTXNSMEZCUnl4clEwRkJhME1zZVVWQlFXTTdRVUZEYmtRN1FVRkRRVHM3UVVGRlFTeHBRa0ZCYVVJc1pVRkJaVHRCUVVOb1F6dEJRVU5CTzBGQlEwRTdRVUZEUVN3MFEwRkJORU03UVVGRE5VTTdPMEZCUlVFN1FVRkRRVHM3UVVGRlFUdEJRVU5CTEhGQ1FVRnhRaXg1UlVGQll5eHBRanRCUVVOdVF5eHRRMEZCYlVNc2VVVkJRV003UVVGRGFrUTdRVUZEUVR0QlFVTkJPenRCUVVWQk8wRkJRMEU3UVVGRFFTeG5Ra0ZCWjBJc1pVRkJaVHRCUVVNdlFqczdRVUZGUVR0QlFVTkJPMEZCUTBFN08wRkJSVUVzWjBKQlFXZENMR1ZCUVdVN1FVRkRMMEk3UVVGRFFUdEJRVU5CT3p0QlFVVkJMRzFDUVVGdFFpeDVSVUZCWXl4dFFqdEJRVU5xUXp0QlFVTkJMR05CUVdNc2VVVkJRV003UVVGRE5VSTdRVUZEUVR0QlFVTkJPenRCUVVWQk8wRkJRMEU3UVVGRFFTeFZRVUZWTEVWQmJVbFNPenM3UVVGSFJpeEZRVUZGTzBGQlEwWTdRVUZEUVRzN1FVRkZRU3hwUWtGQmFVSXNaVUZCWlR0QlFVTm9RenRCUVVOQk96dEJRVVZCTEcxQ1FVRnRRaXg1UlVGQll5eHJRa0ZCYTBJc01FSkJRVEJDTEhsRlFVRmpPMEZCUXpOR096dEJRVVZCT3p0QlFVVkJMRWxCUVVrN1FVRkRTanRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTERCQ1FVRXdRaXcwUWtGQk5FSXNUMEZCVHl4VlFVRlZMRmRCUVZjc1pVRkJaVHRCUVVOcVJ6dEJRVU5CT3p0QlFVVkJPMEZCUTBFN08wRkJSVUU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVN4eFFrRkJjVUlzY1VOQlFYRkRPMEZCUXpGRU8wRkJRMEU3TzBGQlJVRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHM3UVVGRlFUdEJRVU5CSWl3aVptbHNaU0k2SWk0dmMzSmpMM2R2Y210bGNuTXZRbWx1WVhKNVJHVmpiMlJsY2xkdmNtdGxjaTVxY3k1cWN5SXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJbHh5WEc1Y2NseHVhVzF3YjNKMElIdFdaWEp6YVc5dWZTQm1jbTl0SUZ3aUxpNHZWbVZ5YzJsdmJpNXFjMXdpTzF4eVhHNXBiWEJ2Y25RZ2UxQnZhVzUwUVhSMGNtbGlkWFJsY3l3Z1VHOXBiblJCZEhSeWFXSjFkR1Y5SUdaeWIyMGdYQ0l1TGk5c2IyRmtaWEl2VUc5cGJuUkJkSFJ5YVdKMWRHVnpMbXB6WENJN1hISmNibWx0Y0c5eWRDQjdTVzUwWlhKc1pXRjJaV1JDZFdabVpYSjlJR1p5YjIwZ1hDSXVMaTlKYm5SbGNteGxZWFpsWkVKMVptWmxjaTVxYzF3aU8xeHlYRzVwYlhCdmNuUWdlM1J2U1c1MFpYSnNaV0YyWldSQ2RXWm1aWEpCZEhSeWFXSjFkR1Y5SUdaeWIyMGdYQ0l1TGk5MWRHbHNjeTkwYjBsdWRHVnliR1ZoZG1Wa1FuVm1abVZ5UVhSMGNtbGlkWFJsTG1welhDSTdYSEpjYmx4eVhHNWNjbHh1WEhKY2JpOHFJR2RzYjJKaGJDQnZibTFsYzNOaFoyVTZkSEoxWlNCd2IzTjBUV1Z6YzJGblpUcG1ZV3h6WlNBcUwxeHlYRzR2S2lCbGVIQnZjblJsWkNCdmJtMWxjM05oWjJVZ0tpOWNjbHh1THk4Z2FIUjBjRG92TDJwemNHVnlaaTVqYjIwdmRXbHVkRGhoY25KaGVTMTJjeTFrWVhSaGRtbGxkek12TTF4eVhHNW1kVzVqZEdsdmJpQkRkWE4wYjIxV2FXVjNJQ2hpZFdabVpYSXBJSHRjY2x4dVhIUjBhR2x6TG1KMVptWmxjaUE5SUdKMVptWmxjanRjY2x4dVhIUjBhR2x6TG5VNElEMGdibVYzSUZWcGJuUTRRWEp5WVhrb1luVm1abVZ5S1R0Y2NseHVYSEpjYmx4MGJHVjBJSFJ0Y0NBOUlHNWxkeUJCY25KaGVVSjFabVpsY2lnNEtUdGNjbHh1WEhSc1pYUWdkRzF3WmlBOUlHNWxkeUJHYkc5aGRETXlRWEp5WVhrb2RHMXdLVHRjY2x4dVhIUnNaWFFnZEcxd1pDQTlJRzVsZHlCR2JHOWhkRFkwUVhKeVlYa29kRzF3S1R0Y2NseHVYSFJzWlhRZ2RHMXdkVGdnUFNCdVpYY2dWV2x1ZERoQmNuSmhlU2gwYlhBcE8xeHlYRzVjY2x4dVhIUjBhR2x6TG1kbGRGVnBiblF6TWlBOUlHWjFibU4wYVc5dUlDaHBLU0I3WEhKY2JseDBYSFJ5WlhSMWNtNGdLSFJvYVhNdWRUaGJhU0FySUROZElEdzhJREkwS1NCOElDaDBhR2x6TG5VNFcya2dLeUF5WFNBOFBDQXhOaWtnZkNBb2RHaHBjeTUxT0Z0cElDc2dNVjBnUER3Z09Da2dmQ0IwYUdsekxuVTRXMmxkTzF4eVhHNWNkSDA3WEhKY2JseHlYRzVjZEhSb2FYTXVaMlYwVldsdWRERTJJRDBnWm5WdVkzUnBiMjRnS0drcElIdGNjbHh1WEhSY2RISmxkSFZ5YmlBb2RHaHBjeTUxT0Z0cElDc2dNVjBnUER3Z09Da2dmQ0IwYUdsekxuVTRXMmxkTzF4eVhHNWNkSDA3WEhKY2JseHlYRzVjZEhSb2FYTXVaMlYwUm14dllYUXpNaUE5SUdaMWJtTjBhVzl1SUNocEtTQjdYSEpjYmx4MFhIUjBiWEIxT0Zzd1hTQTlJSFJvYVhNdWRUaGJhU0FySURCZE8xeHlYRzVjZEZ4MGRHMXdkVGhiTVYwZ1BTQjBhR2x6TG5VNFcya2dLeUF4WFR0Y2NseHVYSFJjZEhSdGNIVTRXekpkSUQwZ2RHaHBjeTUxT0Z0cElDc2dNbDA3WEhKY2JseDBYSFIwYlhCMU9Gc3pYU0E5SUhSb2FYTXVkVGhiYVNBcklETmRPMXh5WEc1Y2NseHVYSFJjZEhKbGRIVnliaUIwYlhCbVd6QmRPMXh5WEc1Y2RIMDdYSEpjYmx4eVhHNWNkSFJvYVhNdVoyVjBSbXh2WVhRMk5DQTlJR1oxYm1OMGFXOXVJQ2hwS1NCN1hISmNibHgwWEhSMGJYQjFPRnN3WFNBOUlIUm9hWE11ZFRoYmFTQXJJREJkTzF4eVhHNWNkRngwZEcxd2RUaGJNVjBnUFNCMGFHbHpMblU0VzJrZ0t5QXhYVHRjY2x4dVhIUmNkSFJ0Y0hVNFd6SmRJRDBnZEdocGN5NTFPRnRwSUNzZ01sMDdYSEpjYmx4MFhIUjBiWEIxT0ZzelhTQTlJSFJvYVhNdWRUaGJhU0FySUROZE8xeHlYRzVjZEZ4MGRHMXdkVGhiTkYwZ1BTQjBhR2x6TG5VNFcya2dLeUEwWFR0Y2NseHVYSFJjZEhSdGNIVTRXelZkSUQwZ2RHaHBjeTUxT0Z0cElDc2dOVjA3WEhKY2JseDBYSFIwYlhCMU9GczJYU0E5SUhSb2FYTXVkVGhiYVNBcklEWmRPMXh5WEc1Y2RGeDBkRzF3ZFRoYk4xMGdQU0IwYUdsekxuVTRXMmtnS3lBM1hUdGNjbHh1WEhKY2JseDBYSFJ5WlhSMWNtNGdkRzF3WkZzd1hUdGNjbHh1WEhSOU8xeHlYRzVjY2x4dVhIUjBhR2x6TG1kbGRGVnBiblE0SUQwZ1puVnVZM1JwYjI0Z0tHa3BJSHRjY2x4dVhIUmNkSEpsZEhWeWJpQjBhR2x6TG5VNFcybGRPMXh5WEc1Y2RIMDdYSEpjYm4xY2NseHVYSEpjYm05dWJXVnpjMkZuWlNBOUlHWjFibU4wYVc5dUlDaGxkbVZ1ZENrZ2UxeHlYRzVjY2x4dVhIUndaWEptYjNKdFlXNWpaUzV0WVhKcktGd2lZbWx1WVhKNUxXUmxZMjlrWlhJdGMzUmhjblJjSWlrN1hISmNibHgwWEhKY2JseDBiR1YwSUdKMVptWmxjaUE5SUdWMlpXNTBMbVJoZEdFdVluVm1abVZ5TzF4eVhHNWNkR3hsZENCd2IybHVkRUYwZEhKcFluVjBaWE1nUFNCbGRtVnVkQzVrWVhSaExuQnZhVzUwUVhSMGNtbGlkWFJsY3p0Y2NseHVYSFJzWlhRZ2JuVnRVRzlwYm5SeklEMGdZblZtWm1WeUxtSjVkR1ZNWlc1bmRHZ2dMeUJ3YjJsdWRFRjBkSEpwWW5WMFpYTXVZbmwwWlZOcGVtVTdYSEpjYmx4MGJHVjBJR04ySUQwZ2JtVjNJRU4xYzNSdmJWWnBaWGNvWW5WbVptVnlLVHRjY2x4dVhIUnNaWFFnZG1WeWMybHZiaUE5SUc1bGR5QldaWEp6YVc5dUtHVjJaVzUwTG1SaGRHRXVkbVZ5YzJsdmJpazdYSEpjYmx4MGJHVjBJRzV2WkdWUFptWnpaWFFnUFNCbGRtVnVkQzVrWVhSaExtOW1abk5sZER0Y2NseHVYSFJzWlhRZ2MyTmhiR1VnUFNCbGRtVnVkQzVrWVhSaExuTmpZV3hsTzF4eVhHNWNkR3hsZENCemNHRmphVzVuSUQwZ1pYWmxiblF1WkdGMFlTNXpjR0ZqYVc1bk8xeHlYRzVjZEd4bGRDQm9ZWE5EYUdsc1pISmxiaUE5SUdWMlpXNTBMbVJoZEdFdWFHRnpRMmhwYkdSeVpXNDdYSEpjYmx4MGJHVjBJRzVoYldVZ1BTQmxkbVZ1ZEM1a1lYUmhMbTVoYldVN1hISmNibHgwWEhKY2JseDBiR1YwSUhScFoyaDBRbTk0VFdsdUlEMGdXeUJPZFcxaVpYSXVVRTlUU1ZSSlZrVmZTVTVHU1U1SlZGa3NJRTUxYldKbGNpNVFUMU5KVkVsV1JWOUpUa1pKVGtsVVdTd2dUblZ0WW1WeUxsQlBVMGxVU1ZaRlgwbE9Sa2xPU1ZSWklGMDdYSEpjYmx4MGJHVjBJSFJwWjJoMFFtOTRUV0Y0SUQwZ1d5Qk9kVzFpWlhJdVRrVkhRVlJKVmtWZlNVNUdTVTVKVkZrc0lFNTFiV0psY2k1T1JVZEJWRWxXUlY5SlRrWkpUa2xVV1N3Z1RuVnRZbVZ5TGs1RlIwRlVTVlpGWDBsT1JrbE9TVlJaSUYwN1hISmNibHgwYkdWMElHMWxZVzRnUFNCYk1Dd2dNQ3dnTUYwN1hISmNibHgwWEhKY2JseHlYRzVjZEd4bGRDQmhkSFJ5YVdKMWRHVkNkV1ptWlhKeklEMGdlMzA3WEhKY2JseDBiR1YwSUdsdVQyWm1jMlYwSUQwZ01EdGNjbHh1WEhSbWIzSWdLR3hsZENCd2IybHVkRUYwZEhKcFluVjBaU0J2WmlCd2IybHVkRUYwZEhKcFluVjBaWE11WVhSMGNtbGlkWFJsY3lrZ2UxeHlYRzVjZEZ4MFhISmNibHgwWEhScFppQW9jRzlwYm5SQmRIUnlhV0oxZEdVdWJtRnRaU0E5UFQwZ1VHOXBiblJCZEhSeWFXSjFkR1V1VUU5VFNWUkpUMDVmUTBGU1ZFVlRTVUZPTG01aGJXVXBJSHRjY2x4dVhIUmNkRngwYkdWMElHSjFabVlnUFNCdVpYY2dRWEp5WVhsQ2RXWm1aWElvYm5WdFVHOXBiblJ6SUNvZ05DQXFJRE1wTzF4eVhHNWNkRngwWEhSc1pYUWdjRzl6YVhScGIyNXpJRDBnYm1WM0lFWnNiMkYwTXpKQmNuSmhlU2hpZFdabUtUdGNjbHh1WEhSY2RGeHlYRzVjZEZ4MFhIUm1iM0lnS0d4bGRDQnFJRDBnTURzZ2FpQThJRzUxYlZCdmFXNTBjenNnYWlzcktTQjdYSEpjYmx4MFhIUmNkRngwYkdWMElIZ3NJSGtzSUhvN1hISmNibHh5WEc1Y2RGeDBYSFJjZEdsbUlDaDJaWEp6YVc5dUxtNWxkMlZ5VkdoaGJpZ25NUzR6SnlrcElIdGNjbHh1WEhSY2RGeDBYSFJjZEhnZ1BTQW9ZM1l1WjJWMFZXbHVkRE15S0dsdVQyWm1jMlYwSUNzZ2FpQXFJSEJ2YVc1MFFYUjBjbWxpZFhSbGN5NWllWFJsVTJsNlpTQXJJREFzSUhSeWRXVXBJQ29nYzJOaGJHVXBPMXh5WEc1Y2RGeDBYSFJjZEZ4MGVTQTlJQ2hqZGk1blpYUlZhVzUwTXpJb2FXNVBabVp6WlhRZ0t5QnFJQ29nY0c5cGJuUkJkSFJ5YVdKMWRHVnpMbUo1ZEdWVGFYcGxJQ3NnTkN3Z2RISjFaU2tnS2lCelkyRnNaU2s3WEhKY2JseDBYSFJjZEZ4MFhIUjZJRDBnS0dOMkxtZGxkRlZwYm5Rek1paHBiazltWm5ObGRDQXJJR29nS2lCd2IybHVkRUYwZEhKcFluVjBaWE11WW5sMFpWTnBlbVVnS3lBNExDQjBjblZsS1NBcUlITmpZV3hsS1R0Y2NseHVYSFJjZEZ4MFhIUjlJR1ZzYzJVZ2UxeHlYRzVjZEZ4MFhIUmNkRngwZUNBOUlHTjJMbWRsZEVac2IyRjBNeklvYWlBcUlIQnZhVzUwUVhSMGNtbGlkWFJsY3k1aWVYUmxVMmw2WlNBcklEQXNJSFJ5ZFdVcElDc2dibTlrWlU5bVpuTmxkRnN3WFR0Y2NseHVYSFJjZEZ4MFhIUmNkSGtnUFNCamRpNW5aWFJHYkc5aGRETXlLR29nS2lCd2IybHVkRUYwZEhKcFluVjBaWE11WW5sMFpWTnBlbVVnS3lBMExDQjBjblZsS1NBcklHNXZaR1ZQWm1aelpYUmJNVjA3WEhKY2JseDBYSFJjZEZ4MFhIUjZJRDBnWTNZdVoyVjBSbXh2WVhRek1paHFJQ29nY0c5cGJuUkJkSFJ5YVdKMWRHVnpMbUo1ZEdWVGFYcGxJQ3NnT0N3Z2RISjFaU2tnS3lCdWIyUmxUMlptYzJWMFd6SmRPMXh5WEc1Y2RGeDBYSFJjZEgxY2NseHVYSEpjYmx4MFhIUmNkRngwY0c5emFYUnBiMjV6V3pNZ0tpQnFJQ3NnTUYwZ1BTQjRPMXh5WEc1Y2RGeDBYSFJjZEhCdmMybDBhVzl1YzFzeklDb2dhaUFySURGZElEMGdlVHRjY2x4dVhIUmNkRngwWEhSd2IzTnBkR2x2Ym5OYk15QXFJR29nS3lBeVhTQTlJSG83WEhKY2JseHlYRzVjZEZ4MFhIUmNkRzFsWVc1Yk1GMGdLejBnZUNBdklHNTFiVkJ2YVc1MGN6dGNjbHh1WEhSY2RGeDBYSFJ0WldGdVd6RmRJQ3M5SUhrZ0x5QnVkVzFRYjJsdWRITTdYSEpjYmx4MFhIUmNkRngwYldWaGJsc3lYU0FyUFNCNklDOGdiblZ0VUc5cGJuUnpPMXh5WEc1Y2NseHVYSFJjZEZ4MFhIUjBhV2RvZEVKdmVFMXBibHN3WFNBOUlFMWhkR2d1YldsdUtIUnBaMmgwUW05NFRXbHVXekJkTENCNEtUdGNjbHh1WEhSY2RGeDBYSFIwYVdkb2RFSnZlRTFwYmxzeFhTQTlJRTFoZEdndWJXbHVLSFJwWjJoMFFtOTRUV2x1V3pGZExDQjVLVHRjY2x4dVhIUmNkRngwWEhSMGFXZG9kRUp2ZUUxcGJsc3lYU0E5SUUxaGRHZ3ViV2x1S0hScFoyaDBRbTk0VFdsdVd6SmRMQ0I2S1R0Y2NseHVYSEpjYmx4MFhIUmNkRngwZEdsbmFIUkNiM2hOWVhoYk1GMGdQU0JOWVhSb0xtMWhlQ2gwYVdkb2RFSnZlRTFoZUZzd1hTd2dlQ2s3WEhKY2JseDBYSFJjZEZ4MGRHbG5hSFJDYjNoTllYaGJNVjBnUFNCTllYUm9MbTFoZUNoMGFXZG9kRUp2ZUUxaGVGc3hYU3dnZVNrN1hISmNibHgwWEhSY2RGeDBkR2xuYUhSQ2IzaE5ZWGhiTWwwZ1BTQk5ZWFJvTG0xaGVDaDBhV2RvZEVKdmVFMWhlRnN5WFN3Z2VpazdYSEpjYmx4MFhIUmNkSDFjY2x4dVhISmNibHgwWEhSY2RHRjBkSEpwWW5WMFpVSjFabVpsY25OYmNHOXBiblJCZEhSeWFXSjFkR1V1Ym1GdFpWMGdQU0I3SUdKMVptWmxjam9nWW5WbVppd2dZWFIwY21saWRYUmxPaUJ3YjJsdWRFRjBkSEpwWW5WMFpTQjlPMXh5WEc1Y2RGeDBmU0JsYkhObElHbG1JQ2h3YjJsdWRFRjBkSEpwWW5WMFpTNXVZVzFsSUQwOVBTQlFiMmx1ZEVGMGRISnBZblYwWlM1RFQweFBVbDlRUVVOTFJVUXVibUZ0WlNrZ2UxeHlYRzVjZEZ4MFhIUnNaWFFnWW5WbVppQTlJRzVsZHlCQmNuSmhlVUoxWm1abGNpaHVkVzFRYjJsdWRITWdLaUEwS1R0Y2NseHVYSFJjZEZ4MGJHVjBJR052Ykc5eWN5QTlJRzVsZHlCVmFXNTBPRUZ5Y21GNUtHSjFabVlwTzF4eVhHNWNjbHh1WEhSY2RGeDBabTl5SUNoc1pYUWdhaUE5SURBN0lHb2dQQ0J1ZFcxUWIybHVkSE03SUdvckt5a2dlMXh5WEc1Y2RGeDBYSFJjZEdOdmJHOXljMXMwSUNvZ2FpQXJJREJkSUQwZ1kzWXVaMlYwVldsdWREZ29hVzVQWm1aelpYUWdLeUJxSUNvZ2NHOXBiblJCZEhSeWFXSjFkR1Z6TG1KNWRHVlRhWHBsSUNzZ01DazdYSEpjYmx4MFhIUmNkRngwWTI5c2IzSnpXelFnS2lCcUlDc2dNVjBnUFNCamRpNW5aWFJWYVc1ME9DaHBiazltWm5ObGRDQXJJR29nS2lCd2IybHVkRUYwZEhKcFluVjBaWE11WW5sMFpWTnBlbVVnS3lBeEtUdGNjbHh1WEhSY2RGeDBYSFJqYjJ4dmNuTmJOQ0FxSUdvZ0t5QXlYU0E5SUdOMkxtZGxkRlZwYm5RNEtHbHVUMlptYzJWMElDc2dhaUFxSUhCdmFXNTBRWFIwY21saWRYUmxjeTVpZVhSbFUybDZaU0FySURJcE8xeHlYRzVjZEZ4MFhIUjlYSEpjYmx4eVhHNWNkRngwWEhSaGRIUnlhV0oxZEdWQ2RXWm1aWEp6VzNCdmFXNTBRWFIwY21saWRYUmxMbTVoYldWZElEMGdleUJpZFdabVpYSTZJR0oxWm1Zc0lHRjBkSEpwWW5WMFpUb2djRzlwYm5SQmRIUnlhV0oxZEdVZ2ZUdGNjbHh1WEhSY2RIMGdaV3h6WlNCcFppQW9jRzlwYm5SQmRIUnlhV0oxZEdVdWJtRnRaU0E5UFQwZ1VHOXBiblJCZEhSeWFXSjFkR1V1U1U1VVJVNVRTVlJaTG01aGJXVXBJSHRjY2x4dVhIUmNkRngwYkdWMElHSjFabVlnUFNCdVpYY2dRWEp5WVhsQ2RXWm1aWElvYm5WdFVHOXBiblJ6SUNvZ05DazdYSEpjYmx4MFhIUmNkR3hsZENCcGJuUmxibk5wZEdsbGN5QTlJRzVsZHlCR2JHOWhkRE15UVhKeVlYa29ZblZtWmlrN1hISmNibHh5WEc1Y2RGeDBYSFJtYjNJZ0tHeGxkQ0JxSUQwZ01Ec2dhaUE4SUc1MWJWQnZhVzUwY3pzZ2Fpc3JLU0I3WEhKY2JseDBYSFJjZEZ4MGJHVjBJR2x1ZEdWdWMybDBlU0E5SUdOMkxtZGxkRlZwYm5ReE5paHBiazltWm5ObGRDQXJJR29nS2lCd2IybHVkRUYwZEhKcFluVjBaWE11WW5sMFpWTnBlbVVzSUhSeWRXVXBPMXh5WEc1Y2RGeDBYSFJjZEdsdWRHVnVjMmwwYVdWelcycGRJRDBnYVc1MFpXNXphWFI1TzF4eVhHNWNkRngwWEhSOVhISmNibHh5WEc1Y2RGeDBYSFJoZEhSeWFXSjFkR1ZDZFdabVpYSnpXM0J2YVc1MFFYUjBjbWxpZFhSbExtNWhiV1ZkSUQwZ2V5QmlkV1ptWlhJNklHSjFabVlzSUdGMGRISnBZblYwWlRvZ2NHOXBiblJCZEhSeWFXSjFkR1VnZlR0Y2NseHVYSFJjZEgwZ1pXeHpaU0JwWmlBb2NHOXBiblJCZEhSeWFXSjFkR1V1Ym1GdFpTQTlQVDBnVUc5cGJuUkJkSFJ5YVdKMWRHVXVRMHhCVTFOSlJrbERRVlJKVDA0dWJtRnRaU2tnZTF4eVhHNWNkRngwWEhSc1pYUWdZblZtWmlBOUlHNWxkeUJCY25KaGVVSjFabVpsY2lodWRXMVFiMmx1ZEhNcE8xeHlYRzVjZEZ4MFhIUnNaWFFnWTJ4aGMzTnBabWxqWVhScGIyNXpJRDBnYm1WM0lGVnBiblE0UVhKeVlYa29ZblZtWmlrN1hISmNibHh5WEc1Y2RGeDBYSFJtYjNJZ0tHeGxkQ0JxSUQwZ01Ec2dhaUE4SUc1MWJWQnZhVzUwY3pzZ2Fpc3JLU0I3WEhKY2JseDBYSFJjZEZ4MGJHVjBJR05zWVhOemFXWnBZMkYwYVc5dUlEMGdZM1l1WjJWMFZXbHVkRGdvYVc1UFptWnpaWFFnS3lCcUlDb2djRzlwYm5SQmRIUnlhV0oxZEdWekxtSjVkR1ZUYVhwbEtUdGNjbHh1WEhSY2RGeDBYSFJqYkdGemMybG1hV05oZEdsdmJuTmJhbDBnUFNCamJHRnpjMmxtYVdOaGRHbHZianRjY2x4dVhIUmNkRngwZlZ4eVhHNWNjbHh1WEhSY2RGeDBZWFIwY21saWRYUmxRblZtWm1WeWMxdHdiMmx1ZEVGMGRISnBZblYwWlM1dVlXMWxYU0E5SUhzZ1luVm1abVZ5T2lCaWRXWm1MQ0JoZEhSeWFXSjFkR1U2SUhCdmFXNTBRWFIwY21saWRYUmxJSDA3WEhKY2JseDBYSFI5SUdWc2MyVWdhV1lnS0hCdmFXNTBRWFIwY21saWRYUmxMbTVoYldVZ1BUMDlJRkJ2YVc1MFFYUjBjbWxpZFhSbExsSkZWRlZTVGw5T1ZVMUNSVkl1Ym1GdFpTa2dlMXh5WEc1Y2RGeDBYSFJzWlhRZ1luVm1aaUE5SUc1bGR5QkJjbkpoZVVKMVptWmxjaWh1ZFcxUWIybHVkSE1wTzF4eVhHNWNkRngwWEhSc1pYUWdjbVYwZFhKdVRuVnRZbVZ5Y3lBOUlHNWxkeUJWYVc1ME9FRnljbUY1S0dKMVptWXBPMXh5WEc1Y2NseHVYSFJjZEZ4MFptOXlJQ2hzWlhRZ2FpQTlJREE3SUdvZ1BDQnVkVzFRYjJsdWRITTdJR29yS3lrZ2UxeHlYRzVjZEZ4MFhIUmNkR3hsZENCeVpYUjFjbTVPZFcxaVpYSWdQU0JqZGk1blpYUlZhVzUwT0NocGJrOW1abk5sZENBcklHb2dLaUJ3YjJsdWRFRjBkSEpwWW5WMFpYTXVZbmwwWlZOcGVtVXBPMXh5WEc1Y2RGeDBYSFJjZEhKbGRIVnliazUxYldKbGNuTmJhbDBnUFNCeVpYUjFjbTVPZFcxaVpYSTdYSEpjYmx4MFhIUmNkSDFjY2x4dVhISmNibHgwWEhSY2RHRjBkSEpwWW5WMFpVSjFabVpsY25OYmNHOXBiblJCZEhSeWFXSjFkR1V1Ym1GdFpWMGdQU0I3SUdKMVptWmxjam9nWW5WbVppd2dZWFIwY21saWRYUmxPaUJ3YjJsdWRFRjBkSEpwWW5WMFpTQjlPMXh5WEc1Y2RGeDBmU0JsYkhObElHbG1JQ2h3YjJsdWRFRjBkSEpwWW5WMFpTNXVZVzFsSUQwOVBTQlFiMmx1ZEVGMGRISnBZblYwWlM1T1ZVMUNSVkpmVDBaZlVrVlVWVkpPVXk1dVlXMWxLU0I3WEhKY2JseDBYSFJjZEd4bGRDQmlkV1ptSUQwZ2JtVjNJRUZ5Y21GNVFuVm1abVZ5S0c1MWJWQnZhVzUwY3lrN1hISmNibHgwWEhSY2RHeGxkQ0J1ZFcxaVpYSlBabEpsZEhWeWJuTWdQU0J1WlhjZ1ZXbHVkRGhCY25KaGVTaGlkV1ptS1R0Y2NseHVYSEpjYmx4MFhIUmNkR1p2Y2lBb2JHVjBJR29nUFNBd095QnFJRHdnYm5WdFVHOXBiblJ6T3lCcUt5c3BJSHRjY2x4dVhIUmNkRngwWEhSc1pYUWdiblZ0WW1WeVQyWlNaWFIxY200Z1BTQmpkaTVuWlhSVmFXNTBPQ2hwYms5bVpuTmxkQ0FySUdvZ0tpQndiMmx1ZEVGMGRISnBZblYwWlhNdVlubDBaVk5wZW1VcE8xeHlYRzVjZEZ4MFhIUmNkRzUxYldKbGNrOW1VbVYwZFhKdWMxdHFYU0E5SUc1MWJXSmxjazltVW1WMGRYSnVPMXh5WEc1Y2RGeDBYSFI5WEhKY2JseHlYRzVjZEZ4MFhIUmhkSFJ5YVdKMWRHVkNkV1ptWlhKelczQnZhVzUwUVhSMGNtbGlkWFJsTG01aGJXVmRJRDBnZXlCaWRXWm1aWEk2SUdKMVptWXNJR0YwZEhKcFluVjBaVG9nY0c5cGJuUkJkSFJ5YVdKMWRHVWdmVHRjY2x4dVhIUmNkSDBnWld4elpTQnBaaUFvY0c5cGJuUkJkSFJ5YVdKMWRHVXVibUZ0WlNBOVBUMGdVRzlwYm5SQmRIUnlhV0oxZEdVdVUwOVZVa05GWDBsRUxtNWhiV1VwSUh0Y2NseHVYSFJjZEZ4MGJHVjBJR0oxWm1ZZ1BTQnVaWGNnUVhKeVlYbENkV1ptWlhJb2JuVnRVRzlwYm5SeklDb2dNaWs3WEhKY2JseDBYSFJjZEd4bGRDQnpiM1Z5WTJWSlJITWdQU0J1WlhjZ1ZXbHVkREUyUVhKeVlYa29ZblZtWmlrN1hISmNibHh5WEc1Y2RGeDBYSFJtYjNJZ0tHeGxkQ0JxSUQwZ01Ec2dhaUE4SUc1MWJWQnZhVzUwY3pzZ2Fpc3JLU0I3WEhKY2JseDBYSFJjZEZ4MGJHVjBJSE52ZFhKalpVbEVJRDBnWTNZdVoyVjBWV2x1ZERFMktHbHVUMlptYzJWMElDc2dhaUFxSUhCdmFXNTBRWFIwY21saWRYUmxjeTVpZVhSbFUybDZaU2s3WEhKY2JseDBYSFJjZEZ4MGMyOTFjbU5sU1VSelcycGRJRDBnYzI5MWNtTmxTVVE3WEhKY2JseDBYSFJjZEgxY2NseHVYSEpjYmx4MFhIUmNkR0YwZEhKcFluVjBaVUoxWm1abGNuTmJjRzlwYm5SQmRIUnlhV0oxZEdVdWJtRnRaVjBnUFNCN0lHSjFabVpsY2pvZ1luVm1aaXdnWVhSMGNtbGlkWFJsT2lCd2IybHVkRUYwZEhKcFluVjBaU0I5TzF4eVhHNWNkRngwZlNCbGJITmxJR2xtSUNod2IybHVkRUYwZEhKcFluVjBaUzV1WVcxbElEMDlQU0JRYjJsdWRFRjBkSEpwWW5WMFpTNU9UMUpOUVV4ZlUxQklSVkpGVFVGUVVFVkVMbTVoYldVcElIdGNjbHh1WEhSY2RGeDBiR1YwSUdKMVptWWdQU0J1WlhjZ1FYSnlZWGxDZFdabVpYSW9iblZ0VUc5cGJuUnpJQ29nTkNBcUlETXBPMXh5WEc1Y2RGeDBYSFJzWlhRZ2JtOXliV0ZzY3lBOUlHNWxkeUJHYkc5aGRETXlRWEp5WVhrb1luVm1aaWs3WEhKY2JseHlYRzVjZEZ4MFhIUm1iM0lnS0d4bGRDQnFJRDBnTURzZ2FpQThJRzUxYlZCdmFXNTBjenNnYWlzcktTQjdYSEpjYmx4MFhIUmNkRngwYkdWMElHSjRJRDBnWTNZdVoyVjBWV2x1ZERnb2FXNVBabVp6WlhRZ0t5QnFJQ29nY0c5cGJuUkJkSFJ5YVdKMWRHVnpMbUo1ZEdWVGFYcGxJQ3NnTUNrN1hISmNibHgwWEhSY2RGeDBiR1YwSUdKNUlEMGdZM1l1WjJWMFZXbHVkRGdvYVc1UFptWnpaWFFnS3lCcUlDb2djRzlwYm5SQmRIUnlhV0oxZEdWekxtSjVkR1ZUYVhwbElDc2dNU2s3WEhKY2JseHlYRzVjZEZ4MFhIUmNkR3hsZENCbGVDQTlJR0o0SUM4Z01qVTFPMXh5WEc1Y2RGeDBYSFJjZEd4bGRDQmxlU0E5SUdKNUlDOGdNalUxTzF4eVhHNWNjbHh1WEhSY2RGeDBYSFJzWlhRZ2JuZ2dQU0JsZUNBcUlESWdMU0F4TzF4eVhHNWNkRngwWEhSY2RHeGxkQ0J1ZVNBOUlHVjVJQ29nTWlBdElERTdYSEpjYmx4MFhIUmNkRngwYkdWMElHNTZJRDBnTVR0Y2NseHVYSFJjZEZ4MFhIUnNaWFFnYm5jZ1BTQXRNVHRjY2x4dVhISmNibHgwWEhSY2RGeDBiR1YwSUd3Z1BTQW9ibmdnS2lBb0xXNTRLU2tnS3lBb2Jua2dLaUFvTFc1NUtTa2dLeUFvYm5vZ0tpQW9MVzUzS1NrN1hISmNibHgwWEhSY2RGeDBibm9nUFNCc08xeHlYRzVjZEZ4MFhIUmNkRzU0SUQwZ2JuZ2dLaUJOWVhSb0xuTnhjblFvYkNrN1hISmNibHgwWEhSY2RGeDBibmtnUFNCdWVTQXFJRTFoZEdndWMzRnlkQ2hzS1R0Y2NseHVYSEpjYmx4MFhIUmNkRngwYm5nZ1BTQnVlQ0FxSURJN1hISmNibHgwWEhSY2RGeDBibmtnUFNCdWVTQXFJREk3WEhKY2JseDBYSFJjZEZ4MGJub2dQU0J1ZWlBcUlESWdMU0F4TzF4eVhHNWNjbHh1WEhSY2RGeDBYSFJ1YjNKdFlXeHpXek1nS2lCcUlDc2dNRjBnUFNCdWVEdGNjbHh1WEhSY2RGeDBYSFJ1YjNKdFlXeHpXek1nS2lCcUlDc2dNVjBnUFNCdWVUdGNjbHh1WEhSY2RGeDBYSFJ1YjNKdFlXeHpXek1nS2lCcUlDc2dNbDBnUFNCdWVqdGNjbHh1WEhSY2RGeDBmVnh5WEc1Y2NseHVYSFJjZEZ4MFlYUjBjbWxpZFhSbFFuVm1abVZ5YzF0d2IybHVkRUYwZEhKcFluVjBaUzV1WVcxbFhTQTlJSHNnWW5WbVptVnlPaUJpZFdabUxDQmhkSFJ5YVdKMWRHVTZJSEJ2YVc1MFFYUjBjbWxpZFhSbElIMDdYSEpjYmx4MFhIUjlJR1ZzYzJVZ2FXWWdLSEJ2YVc1MFFYUjBjbWxpZFhSbExtNWhiV1VnUFQwOUlGQnZhVzUwUVhSMGNtbGlkWFJsTGs1UFVrMUJURjlQUTFReE5pNXVZVzFsS1NCN1hISmNibHgwWEhSY2RHeGxkQ0JpZFdabUlEMGdibVYzSUVGeWNtRjVRblZtWm1WeUtHNTFiVkJ2YVc1MGN5QXFJRFFnS2lBektUdGNjbHh1WEhSY2RGeDBiR1YwSUc1dmNtMWhiSE1nUFNCdVpYY2dSbXh2WVhRek1rRnljbUY1S0dKMVptWXBPMXh5WEc1Y2NseHVYSFJjZEZ4MFptOXlJQ2hzWlhRZ2FpQTlJREE3SUdvZ1BDQnVkVzFRYjJsdWRITTdJR29yS3lrZ2UxeHlYRzVjZEZ4MFhIUmNkR3hsZENCaWVDQTlJR04yTG1kbGRGVnBiblE0S0dsdVQyWm1jMlYwSUNzZ2FpQXFJSEJ2YVc1MFFYUjBjbWxpZFhSbGN5NWllWFJsVTJsNlpTQXJJREFwTzF4eVhHNWNkRngwWEhSY2RHeGxkQ0JpZVNBOUlHTjJMbWRsZEZWcGJuUTRLR2x1VDJabWMyVjBJQ3NnYWlBcUlIQnZhVzUwUVhSMGNtbGlkWFJsY3k1aWVYUmxVMmw2WlNBcklERXBPMXh5WEc1Y2NseHVYSFJjZEZ4MFhIUnNaWFFnZFNBOUlDaGllQ0F2SURJMU5Ta2dLaUF5SUMwZ01UdGNjbHh1WEhSY2RGeDBYSFJzWlhRZ2RpQTlJQ2hpZVNBdklESTFOU2tnS2lBeUlDMGdNVHRjY2x4dVhISmNibHgwWEhSY2RGeDBiR1YwSUhvZ1BTQXhJQzBnVFdGMGFDNWhZbk1vZFNrZ0xTQk5ZWFJvTG1GaWN5aDJLVHRjY2x4dVhISmNibHgwWEhSY2RGeDBiR1YwSUhnZ1BTQXdPMXh5WEc1Y2RGeDBYSFJjZEd4bGRDQjVJRDBnTUR0Y2NseHVYSFJjZEZ4MFhIUnBaaUFvZWlBK1BTQXdLU0I3WEhKY2JseDBYSFJjZEZ4MFhIUjRJRDBnZFR0Y2NseHVYSFJjZEZ4MFhIUmNkSGtnUFNCMk8xeHlYRzVjZEZ4MFhIUmNkSDBnWld4elpTQjdYSEpjYmx4MFhIUmNkRngwWEhSNElEMGdMU2gySUM4Z1RXRjBhQzV6YVdkdUtIWXBJQzBnTVNrZ0x5Qk5ZWFJvTG5OcFoyNG9kU2s3WEhKY2JseDBYSFJjZEZ4MFhIUjVJRDBnTFNoMUlDOGdUV0YwYUM1emFXZHVLSFVwSUMwZ01Ta2dMeUJOWVhSb0xuTnBaMjRvZGlrN1hISmNibHgwWEhSY2RGeDBmVnh5WEc1Y2NseHVYSFJjZEZ4MFhIUnNaWFFnYkdWdVozUm9JRDBnVFdGMGFDNXpjWEowS0hnZ0tpQjRJQ3NnZVNBcUlIa2dLeUI2SUNvZ2VpazdYSEpjYmx4MFhIUmNkRngwZUNBOUlIZ2dMeUJzWlc1bmRHZzdYSEpjYmx4MFhIUmNkRngwZVNBOUlIa2dMeUJzWlc1bmRHZzdYSEpjYmx4MFhIUmNkRngwZWlBOUlIb2dMeUJzWlc1bmRHZzdYSEpjYmx4MFhIUmNkRngwWEhKY2JseDBYSFJjZEZ4MGJtOXliV0ZzYzFzeklDb2dhaUFySURCZElEMGdlRHRjY2x4dVhIUmNkRngwWEhSdWIzSnRZV3h6V3pNZ0tpQnFJQ3NnTVYwZ1BTQjVPMXh5WEc1Y2RGeDBYSFJjZEc1dmNtMWhiSE5iTXlBcUlHb2dLeUF5WFNBOUlIbzdYSEpjYmx4MFhIUmNkSDFjY2x4dVhISmNibHgwWEhSY2RHRjBkSEpwWW5WMFpVSjFabVpsY25OYmNHOXBiblJCZEhSeWFXSjFkR1V1Ym1GdFpWMGdQU0I3SUdKMVptWmxjam9nWW5WbVppd2dZWFIwY21saWRYUmxPaUJ3YjJsdWRFRjBkSEpwWW5WMFpTQjlPMXh5WEc1Y2RGeDBmU0JsYkhObElHbG1JQ2h3YjJsdWRFRjBkSEpwWW5WMFpTNXVZVzFsSUQwOVBTQlFiMmx1ZEVGMGRISnBZblYwWlM1T1QxSk5RVXd1Ym1GdFpTa2dlMXh5WEc1Y2RGeDBYSFJzWlhRZ1luVm1aaUE5SUc1bGR5QkJjbkpoZVVKMVptWmxjaWh1ZFcxUWIybHVkSE1nS2lBMElDb2dNeWs3WEhKY2JseDBYSFJjZEd4bGRDQnViM0p0WVd4eklEMGdibVYzSUVac2IyRjBNekpCY25KaGVTaGlkV1ptS1R0Y2NseHVYSEpjYmx4MFhIUmNkR1p2Y2lBb2JHVjBJR29nUFNBd095QnFJRHdnYm5WdFVHOXBiblJ6T3lCcUt5c3BJSHRjY2x4dVhIUmNkRngwWEhSc1pYUWdlQ0E5SUdOMkxtZGxkRVpzYjJGME16SW9hVzVQWm1aelpYUWdLeUJxSUNvZ2NHOXBiblJCZEhSeWFXSjFkR1Z6TG1KNWRHVlRhWHBsSUNzZ01Dd2dkSEoxWlNrN1hISmNibHgwWEhSY2RGeDBiR1YwSUhrZ1BTQmpkaTVuWlhSR2JHOWhkRE15S0dsdVQyWm1jMlYwSUNzZ2FpQXFJSEJ2YVc1MFFYUjBjbWxpZFhSbGN5NWllWFJsVTJsNlpTQXJJRFFzSUhSeWRXVXBPMXh5WEc1Y2RGeDBYSFJjZEd4bGRDQjZJRDBnWTNZdVoyVjBSbXh2WVhRek1paHBiazltWm5ObGRDQXJJR29nS2lCd2IybHVkRUYwZEhKcFluVjBaWE11WW5sMFpWTnBlbVVnS3lBNExDQjBjblZsS1R0Y2NseHVYSFJjZEZ4MFhIUmNjbHh1WEhSY2RGeDBYSFJ1YjNKdFlXeHpXek1nS2lCcUlDc2dNRjBnUFNCNE8xeHlYRzVjZEZ4MFhIUmNkRzV2Y20xaGJITmJNeUFxSUdvZ0t5QXhYU0E5SUhrN1hISmNibHgwWEhSY2RGeDBibTl5YldGc2Mxc3pJQ29nYWlBcklESmRJRDBnZWp0Y2NseHVYSFJjZEZ4MGZWeHlYRzVjY2x4dVhIUmNkRngwWVhSMGNtbGlkWFJsUW5WbVptVnljMXR3YjJsdWRFRjBkSEpwWW5WMFpTNXVZVzFsWFNBOUlIc2dZblZtWm1WeU9pQmlkV1ptTENCaGRIUnlhV0oxZEdVNklIQnZhVzUwUVhSMGNtbGlkWFJsSUgwN1hISmNibHgwWEhSOUlHVnNjMlVnYVdZZ0tIQnZhVzUwUVhSMGNtbGlkWFJsTG01aGJXVWdQVDA5SUZCdmFXNTBRWFIwY21saWRYUmxMa2RRVTE5VVNVMUZMbTVoYldVcElIdGNjbHh1WEhSY2RGeDBiR1YwSUdKMVptWWdQU0J1WlhjZ1FYSnlZWGxDZFdabVpYSW9iblZ0VUc5cGJuUnpJQ29nT0NrN1hISmNibHgwWEhSY2RHeGxkQ0JuY0hOMGFXMWxjeUE5SUc1bGR5QkdiRzloZERZMFFYSnlZWGtvWW5WbVppazdYSEpjYmx4eVhHNWNkRngwWEhSbWIzSW9iR1YwSUdvZ1BTQXdPeUJxSUR3Z2JuVnRVRzlwYm5Sek95QnFLeXNwZTF4eVhHNWNkRngwWEhSY2RHeGxkQ0JuY0hOMGFXMWxJRDBnWTNZdVoyVjBSbXh2WVhRMk5DaHBiazltWm5ObGRDQXJJR29nS2lCd2IybHVkRUYwZEhKcFluVjBaWE11WW5sMFpWTnBlbVVzSUhSeWRXVXBPMXh5WEc1Y2RGeDBYSFJjZEdkd2MzUnBiV1Z6VzJwZElEMGdaM0J6ZEdsdFpUdGNjbHh1WEhSY2RGeDBmVnh5WEc1Y2RGeDBYSFJoZEhSeWFXSjFkR1ZDZFdabVpYSnpXM0J2YVc1MFFYUjBjbWxpZFhSbExtNWhiV1ZkSUQwZ2V5QmlkV1ptWlhJNklHSjFabVlzSUdGMGRISnBZblYwWlRvZ2NHOXBiblJCZEhSeWFXSjFkR1VnZlR0Y2NseHVYSFJjZEgxY2NseHVYSEpjYmx4MFhIUnBiazltWm5ObGRDQXJQU0J3YjJsdWRFRjBkSEpwWW5WMFpTNWllWFJsVTJsNlpUdGNjbHh1WEhSOVhISmNibHh5WEc1Y2RDOHZJRU52Ym5abGNuUWdSMUJUSUhScGJXVWdabkp2YlNCa2IzVmliR1VnS0hWdWMzVndjRzl5ZEdWa0lHSjVJRmRsWWtkTUtTQjBieUJ2Y21sbmFXNHRZV3hwWjI1bFpDQm1iRzloZEhOY2NseHVYSFJwWmloaGRIUnlhV0oxZEdWQ2RXWm1aWEp6VzFCdmFXNTBRWFIwY21saWRYUmxMa2RRVTE5VVNVMUZMbTVoYldWZEtYc2dYSEpjYmx4MFhIUnNaWFFnWVhSMGNtbGlkWFJsSUQwZ1lYUjBjbWxpZFhSbFFuVm1abVZ5YzF0UWIybHVkRUYwZEhKcFluVjBaUzVIVUZOZlZFbE5SUzV1WVcxbFhUdGNjbHh1WEhSY2RHeGxkQ0J6YjNWeVkyVkdOalFnUFNCdVpYY2dSbXh2WVhRMk5FRnljbUY1S0dGMGRISnBZblYwWlM1aWRXWm1aWElwTzF4eVhHNWNkRngwYkdWMElIUmhjbWRsZENBOUlHNWxkeUJCY25KaGVVSjFabVpsY2lodWRXMVFiMmx1ZEhNZ0tpQTBLVHRjY2x4dVhIUmNkR3hsZENCMFlYSm5aWFJHTXpJZ1BTQnVaWGNnUm14dllYUXpNa0Z5Y21GNUtIUmhjbWRsZENrN1hISmNibHh5WEc1Y2RGeDBiR1YwSUcxcGJpQTlJRWx1Wm1sdWFYUjVPMXh5WEc1Y2RGeDBiR1YwSUcxaGVDQTlJQzFKYm1acGJtbDBlVHRjY2x4dVhIUmNkR1p2Y2loc1pYUWdhU0E5SURBN0lHa2dQQ0J1ZFcxUWIybHVkSE03SUdrckt5bDdYSEpjYmx4MFhIUmNkR3hsZENCbmNITjBhVzFsSUQwZ2MyOTFjbU5sUmpZMFcybGRPMXh5WEc1Y2NseHVYSFJjZEZ4MGJXbHVJRDBnVFdGMGFDNXRhVzRvYldsdUxDQm5jSE4wYVcxbEtUdGNjbHh1WEhSY2RGeDBiV0Y0SUQwZ1RXRjBhQzV0WVhnb2JXRjRMQ0JuY0hOMGFXMWxLVHRjY2x4dVhIUmNkSDFjY2x4dVhISmNibHgwWEhSbWIzSW9iR1YwSUdrZ1BTQXdPeUJwSUR3Z2JuVnRVRzlwYm5Sek95QnBLeXNwZTF4eVhHNWNkRngwWEhSc1pYUWdaM0J6ZEdsdFpTQTlJSE52ZFhKalpVWTJORnRwWFR0Y2NseHVYSFJjZEZ4MGRHRnlaMlYwUmpNeVcybGRJRDBnWjNCemRHbHRaU0F0SUcxcGJqdGNjbHh1WEhSY2RIMWNjbHh1WEhKY2JseDBYSFJoZEhSeWFXSjFkR1ZDZFdabVpYSnpXMUJ2YVc1MFFYUjBjbWxpZFhSbExrZFFVMTlVU1UxRkxtNWhiV1ZkSUQwZ2V5QmNjbHh1WEhSY2RGeDBZblZtWm1WeU9pQjBZWEpuWlhRc0lGeHlYRzVjZEZ4MFhIUmhkSFJ5YVdKMWRHVTZJRkJ2YVc1MFFYUjBjbWxpZFhSbExrZFFVMTlVU1UxRkxGeHlYRzVjZEZ4MFhIUnZabVp6WlhRNklHMXBiaXhjY2x4dVhIUmNkRngwY21GdVoyVTZJRzFoZUNBdElHMXBibjA3WEhKY2JseDBmVnh5WEc1Y2NseHVYSFF2TDJ4bGRDQmtaV0oxWjA1dlpHVnpJRDBnVzF3aWNqQXlObHdpTENCY0luSXdNakkyWENJc1hDSnlNREl5TnpSY0lsMDdYSEpjYmx4MEx5OXBaaWhrWldKMVowNXZaR1Z6TG1sdVkyeDFaR1Z6S0c1aGJXVXBLWHRjY2x4dVhIUnBaaWhtWVd4elpTbDdYSEpjYmx4MFhIUmpiMjV6YjJ4bExteHZaeWhjSW1WemRHbHRZWFJsSUhOd1lXTnBibWNoWENJcE8xeHlYRzVjY2x4dVhISmNibHgwWEhSc1pYUWdjM0JoY25ObFIzSnBaQ0E5SUc1bGR5Qk5ZWEFvS1R0Y2NseHVYSFJjZEd4bGRDQm5jbWxrVTJsNlpTQTlJREUyTzF4eVhHNWNjbHh1WEhSY2RHeGxkQ0IwYVdkb2RFSnZlRk5wZW1VZ1BTQjBhV2RvZEVKdmVFMWhlQzV0WVhBb0lDaGhMQ0JwS1NBOVBpQmhJQzBnZEdsbmFIUkNiM2hOYVc1YmFWMHBPMXh5WEc1Y2RGeDBiR1YwSUdOMVltVk1aVzVuZEdnZ1BTQk5ZWFJvTG0xaGVDZ3VMaTUwYVdkb2RFSnZlRk5wZW1VcE8xeHlYRzVjZEZ4MGJHVjBJR04xWW1VZ1BTQjdYSEpjYmx4MFhIUmNkRzFwYmpvZ2RHbG5hSFJDYjNoTmFXNHNYSEpjYmx4MFhIUmNkRzFoZURvZ2RHbG5hSFJDYjNoTmFXNHViV0Z3S0hZZ1BUNGdkaUFySUdOMVltVk1aVzVuZEdncFhISmNibHgwWEhSOU8xeHlYRzVjY2x4dVhIUmNkR3hsZENCd2IzTnBkR2x2Ym5NZ1BTQnVaWGNnUm14dllYUXpNa0Z5Y21GNUtHRjBkSEpwWW5WMFpVSjFabVpsY25OYlVHOXBiblJCZEhSeWFXSjFkR1V1VUU5VFNWUkpUMDVmUTBGU1ZFVlRTVUZPTG01aGJXVmRMbUoxWm1abGNpazdYSEpjYmx4MFhIUm1iM0lvYkdWMElHa2dQU0F3T3lCcElEd2diblZ0VUc5cGJuUnpPeUJwS3lzcGUxeHlYRzVjZEZ4MFhIUnNaWFFnZUNBOUlIQnZjMmwwYVc5dWMxc3pJQ29nYVNBcklEQmRPMXh5WEc1Y2RGeDBYSFJzWlhRZ2VTQTlJSEJ2YzJsMGFXOXVjMXN6SUNvZ2FTQXJJREZkTzF4eVhHNWNkRngwWEhSc1pYUWdlaUE5SUhCdmMybDBhVzl1YzFzeklDb2dhU0FySURKZE8xeHlYRzVjY2x4dVhIUmNkRngwYkdWMElHbDRJRDBnVFdGMGFDNXRZWGdvTUN3Z1RXRjBhQzV0YVc0b1ozSnBaRk5wZW1VZ0tpQW9lQ0F0SUdOMVltVXViV2x1V3pCZEtTQXZJR04xWW1WTVpXNW5kR2dzSUdkeWFXUlRhWHBsSUMwZ01Ta3BPMXh5WEc1Y2RGeDBYSFJzWlhRZ2FYa2dQU0JOWVhSb0xtMWhlQ2d3TENCTllYUm9MbTFwYmlobmNtbGtVMmw2WlNBcUlDaDVJQzBnWTNWaVpTNXRhVzViTVYwcElDOGdZM1ZpWlV4bGJtZDBhQ3dnWjNKcFpGTnBlbVVnTFNBeEtTazdYSEpjYmx4MFhIUmNkR3hsZENCcGVpQTlJRTFoZEdndWJXRjRLREFzSUUxaGRHZ3ViV2x1S0dkeWFXUlRhWHBsSUNvZ0tIb2dMU0JqZFdKbExtMXBibHN5WFNrZ0x5QmpkV0psVEdWdVozUm9MQ0JuY21sa1UybDZaU0F0SURFcEtUdGNjbHh1WEhKY2JseDBYSFJjZEdsNElEMGdUV0YwYUM1bWJHOXZjaWhwZUNrN1hISmNibHgwWEhSY2RHbDVJRDBnVFdGMGFDNW1iRzl2Y2locGVTazdYSEpjYmx4MFhIUmNkR2w2SUQwZ1RXRjBhQzVtYkc5dmNpaHBlaWs3WEhKY2JseHlYRzVjZEZ4MFhIUnNaWFFnWTJWc2JFbHVaR1Y0SUQwZ2FYZ2dmQ0FvYVhrZ1BEd2dPQ2tnZkNBb2FYb2dQRHdnTVRZcE8xeHlYRzVjZEZ4MFhIUmNjbHh1WEhSY2RGeDBhV1lvSVhOd1lYSnpaVWR5YVdRdWFHRnpLR05sYkd4SmJtUmxlQ2twZTF4eVhHNWNkRngwWEhSY2RITndZWEp6WlVkeWFXUXVjMlYwS0dObGJHeEpibVJsZUN3Z1cxMHBPMXh5WEc1Y2RGeDBYSFI5WEhKY2JseHlYRzVjZEZ4MFhIUnpjR0Z5YzJWSGNtbGtMbWRsZENoalpXeHNTVzVrWlhncExuQjFjMmdvYVNrN1hISmNibHgwWEhSOVhISmNibHh5WEc1Y2RGeDBiR1YwSUd0T1pXRnlaWE4wSUQwZ0tIQnZhVzUwU1c1a1pYZ3NJR05oYm1ScFpHRjBaWE1zSUc1MWJVNWxZWEpsYzNRcElEMCtJSHRjY2x4dVhIUmNkRngwWEhKY2JseDBYSFJjZEd4bGRDQjRJRDBnY0c5emFYUnBiMjV6V3pNZ0tpQndiMmx1ZEVsdVpHVjRJQ3NnTUYwN1hISmNibHgwWEhSY2RHeGxkQ0I1SUQwZ2NHOXphWFJwYjI1eld6TWdLaUJ3YjJsdWRFbHVaR1Y0SUNzZ01WMDdYSEpjYmx4MFhIUmNkR3hsZENCNklEMGdjRzl6YVhScGIyNXpXek1nS2lCd2IybHVkRWx1WkdWNElDc2dNbDA3WEhKY2JseHlYRzVjZEZ4MFhIUnNaWFFnWTJGdVpHbGtZWFJsUkdsemRHRnVZMlZ6SUQwZ1cxMDdYSEpjYmx4eVhHNWNkRngwWEhSbWIzSW9iR1YwSUdOaGJtUnBaR0YwWlVsdVpHVjRJRzltSUdOaGJtUnBaR0YwWlhNcGUxeHlYRzVjZEZ4MFhIUmNkR2xtS0dOaGJtUnBaR0YwWlVsdVpHVjRJRDA5UFNCd2IybHVkRWx1WkdWNEtYdGNjbHh1WEhSY2RGeDBYSFJjZEdOdmJuUnBiblZsTzF4eVhHNWNkRngwWEhSY2RIMWNjbHh1WEhKY2JseDBYSFJjZEZ4MGJHVjBJR040SUQwZ2NHOXphWFJwYjI1eld6TWdLaUJqWVc1a2FXUmhkR1ZKYm1SbGVDQXJJREJkTzF4eVhHNWNkRngwWEhSY2RHeGxkQ0JqZVNBOUlIQnZjMmwwYVc5dWMxc3pJQ29nWTJGdVpHbGtZWFJsU1c1a1pYZ2dLeUF4WFR0Y2NseHVYSFJjZEZ4MFhIUnNaWFFnWTNvZ1BTQndiM05wZEdsdmJuTmJNeUFxSUdOaGJtUnBaR0YwWlVsdVpHVjRJQ3NnTWwwN1hISmNibHh5WEc1Y2RGeDBYSFJjZEd4bGRDQnpjWFZoY21Wa1JHbHpkR0Z1WTJVZ1BTQW9ZM2dnTFNCNEtTQXFLaUF5SUNzZ0tHTjVJQzBnZVNrZ0tpb2dNaUFySUNoamVpQXRJSG9wSUNvcUlESTdYSEpjYmx4eVhHNWNkRngwWEhSY2RHTmhibVJwWkdGMFpVUnBjM1JoYm1ObGN5NXdkWE5vS0h0allXNWthV1JoZEdWSmJtUmxPaUJqWVc1a2FXUmhkR1ZKYm1SbGVDd2djM0YxWVhKbFpFUnBjM1JoYm1ObE9pQnpjWFZoY21Wa1JHbHpkR0Z1WTJWOUtUdGNjbHh1WEhSY2RGeDBmVnh5WEc1Y2NseHVYSFJjZEZ4MFkyRnVaR2xrWVhSbFJHbHpkR0Z1WTJWekxuTnZjblFvSUNoaExDQmlLU0E5UGlCaExuTnhkV0Z5WldSRWFYTjBZVzVqWlNBdElHSXVjM0YxWVhKbFpFUnBjM1JoYm1ObEtUdGNjbHh1WEhSY2RGeDBiR1YwSUc1bFlYSmxjM1FnUFNCallXNWthV1JoZEdWRWFYTjBZVzVqWlhNdWMyeHBZMlVvTUN3Z2JuVnRUbVZoY21WemRDazdYSEpjYmx4eVhHNWNkRngwWEhSeVpYUjFjbTRnYm1WaGNtVnpkRHRjY2x4dVhIUmNkSDA3WEhKY2JseHlYRzVjZEZ4MGJHVjBJRzFsWVc1elFuVm1abVZ5SUQwZ2JtVjNJRUZ5Y21GNVFuVm1abVZ5S0c1MWJWQnZhVzUwY3lBcUlEUXBPMXh5WEc1Y2RGeDBiR1YwSUcxbFlXNXpJRDBnYm1WM0lFWnNiMkYwTXpKQmNuSmhlU2h0WldGdWMwSjFabVpsY2lrN1hISmNibHh5WEc1Y2RGeDBabTl5S0d4bGRDQmJhMlY1TENCMllXeDFaVjBnYjJZZ2MzQmhjbk5sUjNKcFpDbDdYSEpjYmx4MFhIUmNkRnh5WEc1Y2RGeDBYSFJtYjNJb2JHVjBJSEJ2YVc1MFNXNWtaWGdnYjJZZ2RtRnNkV1VwZTF4eVhHNWNjbHh1WEhSY2RGeDBYSFJwWmloMllXeDFaUzVzWlc1bmRHZ2dQVDA5SURFcGUxeHlYRzVjZEZ4MFhIUmNkRngwYldWaGJuTmJjRzlwYm5SSmJtUmxlRjBnUFNBd08xeHlYRzVjZEZ4MFhIUmNkRngwWTI5dWRHbHVkV1U3WEhKY2JseDBYSFJjZEZ4MGZWeHlYRzVjY2x4dVhIUmNkRngwWEhSc1pYUWdXMmw0TENCcGVTd2dhWHBkSUQwZ1d5aHJaWGtnSmlBeU5UVXBMQ0FvS0d0bGVTQStQaUE0S1NBbUlESTFOU2tzSUNnb2EyVjVJRDQrSURFMktTQW1JREkxTlNsZE8xeHlYRzVjZEZ4MFhIUmNkRnh5WEc1Y2RGeDBYSFJjZEM4dmJHVjBJR05oYm1ScFpHRjBaWE1nUFNCMllXeDFaVHRjY2x4dVhIUmNkRngwWEhSc1pYUWdZMkZ1Wkdsa1lYUmxjeUE5SUZ0ZE8xeHlYRzVjZEZ4MFhIUmNkR1p2Y2loc1pYUWdhU0J2WmlCYkxURXNJREFzSURGZEtYdGNjbHh1WEhSY2RGeDBYSFJjZEdadmNpaHNaWFFnYWlCdlppQmJMVEVzSURBc0lERmRLWHRjY2x4dVhIUmNkRngwWEhSY2RGeDBabTl5S0d4bGRDQnJJRzltSUZzdE1Td2dNQ3dnTVYwcGUxeHlYRzVjZEZ4MFhIUmNkRngwWEhSY2RHeGxkQ0JqWld4c1NXNWtaWGdnUFNBb2FYZ2dLeUJwS1NCOElDZ29hWGtnS3lCcUtTQThQQ0E0S1NCOElDZ29hWG9nS3lCcktTQThQQ0F4TmlrN1hISmNibHh5WEc1Y2RGeDBYSFJjZEZ4MFhIUmNkR2xtS0hOd1lYSnpaVWR5YVdRdWFHRnpLR05sYkd4SmJtUmxlQ2twZTF4eVhHNWNkRngwWEhSY2RGeDBYSFJjZEZ4MFkyRnVaR2xrWVhSbGN5NXdkWE5vS0M0dUxuTndZWEp6WlVkeWFXUXVaMlYwS0dObGJHeEpibVJsZUNrcE8xeHlYRzVjZEZ4MFhIUmNkRngwWEhSY2RIMWNjbHh1WEhSY2RGeDBYSFJjZEZ4MGZWeHlYRzVjZEZ4MFhIUmNkRngwZlZ4eVhHNWNkRngwWEhSY2RIMWNjbHh1WEhKY2JseHlYRzVjZEZ4MFhIUmNkR3hsZENCdVpXRnlaWE4wVG1WcFoyaGliM0p6SUQwZ2EwNWxZWEpsYzNRb2NHOXBiblJKYm1SbGVDd2dZMkZ1Wkdsa1lYUmxjeXdnTVRBcE8xeHlYRzVjY2x4dVhIUmNkRngwWEhSc1pYUWdjM1Z0SUQwZ01EdGNjbHh1WEhSY2RGeDBYSFJtYjNJb2JHVjBJRzVsYVdkb1ltOXlJRzltSUc1bFlYSmxjM1JPWldsbmFHSnZjbk1wZTF4eVhHNWNkRngwWEhSY2RGeDBjM1Z0SUNzOUlFMWhkR2d1YzNGeWRDaHVaV2xuYUdKdmNpNXpjWFZoY21Wa1JHbHpkR0Z1WTJVcE8xeHlYRzVjZEZ4MFhIUmNkSDFjY2x4dVhISmNibHgwWEhSY2RGeDBMeTlzWlhRZ2JXVmhiaUE5SUhOMWJTQXZJRzVsWVhKbGMzUk9aV2xuYUdKdmNuTXViR1Z1WjNSb08xeHlYRzVjZEZ4MFhIUmNkR3hsZENCdFpXRnVJRDBnVFdGMGFDNXpjWEowS0UxaGRHZ3ViV0Y0S0M0dUxtNWxZWEpsYzNST1pXbG5hR0p2Y25NdWJXRndLRzRnUFQ0Z2JpNXpjWFZoY21Wa1JHbHpkR0Z1WTJVcEtTazdYSEpjYmx4eVhHNWNkRngwWEhSY2RHbG1LRTUxYldKbGNpNXBjMDVoVGlodFpXRnVLU2w3WEhKY2JseDBYSFJjZEZ4MFhIUmtaV0oxWjJkbGNqdGNjbHh1WEhSY2RGeDBYSFI5WEhKY2JseHlYRzVjY2x4dVhIUmNkRngwWEhSdFpXRnVjMXR3YjJsdWRFbHVaR1Y0WFNBOUlHMWxZVzQ3WEhKY2JseHlYRzVjZEZ4MFhIUjlYSEpjYmx4eVhHNWNkRngwZlZ4eVhHNWNjbHh1WEhKY2JseDBYSFJzWlhRZ2JXRjRUV1ZoYmlBOUlFMWhkR2d1YldGNEtDNHVMbTFsWVc1ektUdGNjbHh1WEhSY2RHeGxkQ0J0YVc1TlpXRnVJRDBnVFdGMGFDNXRhVzRvTGk0dWJXVmhibk1wTzF4eVhHNWNjbHh1WEhSY2RDOHZiR1YwSUdOdmJHOXljeUE5SUc1bGR5QlZhVzUwT0VGeWNtRjVLR0YwZEhKcFluVjBaVUoxWm1abGNuTmJVRzlwYm5SQmRIUnlhV0oxZEdVdVEwOU1UMUpmVUVGRFMwVkVMbTVoYldWZExtSjFabVpsY2lrN1hISmNibHgwWEhRdkwyWnZjaWhzWlhRZ2FTQTlJREE3SUdrZ1BDQnVkVzFRYjJsdWRITTdJR2tyS3lsN1hISmNibHgwWEhRdkwxeDBiR1YwSUhZZ1BTQnRaV0Z1YzF0cFhTQXZJREF1TURVN1hISmNibHh5WEc1Y2RGeDBMeTljZEdOdmJHOXljMXMwSUNvZ2FTQXJJREJkSUQwZ01qVTFJQ29nZGp0Y2NseHVYSFJjZEM4dlhIUmpiMnh2Y25OYk5DQXFJR2tnS3lBeFhTQTlJREkxTlNBcUlIWTdYSEpjYmx4MFhIUXZMMXgwWTI5c2IzSnpXelFnS2lCcElDc2dNbDBnUFNBeU5UVWdLaUIyTzF4eVhHNWNkRngwTHk5OVhISmNibHh5WEc1Y2RGeDBZWFIwY21saWRYUmxRblZtWm1WeWMxdFFiMmx1ZEVGMGRISnBZblYwWlM1VFVFRkRTVTVITG01aGJXVmRJRDBnZXlCaWRXWm1aWEk2SUcxbFlXNXpRblZtWm1WeUxDQmhkSFJ5YVdKMWRHVTZJRkJ2YVc1MFFYUjBjbWxpZFhSbExsTlFRVU5KVGtjZ2ZUdGNjbHh1WEhKY2JseHlYRzVjZEgxY2NseHVYSEpjYmx4eVhHNWNkSHNnTHk4Z1lXUmtJR2x1WkdsalpYTmNjbHh1WEhSY2RHeGxkQ0JpZFdabUlEMGdibVYzSUVGeWNtRjVRblZtWm1WeUtHNTFiVkJ2YVc1MGN5QXFJRFFwTzF4eVhHNWNkRngwYkdWMElHbHVaR2xqWlhNZ1BTQnVaWGNnVldsdWRETXlRWEp5WVhrb1luVm1aaWs3WEhKY2JseHlYRzVjZEZ4MFptOXlJQ2hzWlhRZ2FTQTlJREE3SUdrZ1BDQnVkVzFRYjJsdWRITTdJR2tyS3lrZ2UxeHlYRzVjZEZ4MFhIUnBibVJwWTJWelcybGRJRDBnYVR0Y2NseHVYSFJjZEgxY2NseHVYSFJjZEZ4eVhHNWNkRngwWVhSMGNtbGlkWFJsUW5WbVptVnljMXRRYjJsdWRFRjBkSEpwWW5WMFpTNUpUa1JKUTBWVExtNWhiV1ZkSUQwZ2V5QmlkV1ptWlhJNklHSjFabVlzSUdGMGRISnBZblYwWlRvZ1VHOXBiblJCZEhSeWFXSjFkR1V1U1U1RVNVTkZVeUI5TzF4eVhHNWNkSDFjY2x4dVhISmNibHgwY0dWeVptOXliV0Z1WTJVdWJXRnlheWhjSW1KcGJtRnllUzFrWldOdlpHVnlMV1Z1WkZ3aUtUdGNjbHh1WEhKY2JseDBMeTk3SUM4dklIQnlhVzUwSUhScGJXbHVaM05jY2x4dVhIUXZMMXgwTHk5d1pYSm1iM0p0WVc1alpTNXRaV0Z6ZFhKbEtGd2ljM0JoWTJsdVoxd2lMQ0JjSW5Od1lXTnBibWN0YzNSaGNuUmNJaXdnWENKemNHRmphVzVuTFdWdVpGd2lLVHRjY2x4dVhIUXZMMXgwY0dWeVptOXliV0Z1WTJVdWJXVmhjM1Z5WlNoY0ltSnBibUZ5ZVMxa1pXTnZaR1Z5WENJc0lGd2lZbWx1WVhKNUxXUmxZMjlrWlhJdGMzUmhjblJjSWl3Z1hDSmlhVzVoY25rdFpHVmpiMlJsY2kxbGJtUmNJaWs3WEhKY2JseDBMeTljZEd4bGRDQnRaV0Z6ZFhKbElEMGdjR1Z5Wm05eWJXRnVZMlV1WjJWMFJXNTBjbWxsYzBKNVZIbHdaU2hjSW0xbFlYTjFjbVZjSWlsYk1GMDdYSEpjYmx4MEx5OWNkR3hsZENCa2NIQWdQU0F4TURBd0lDb2diV1ZoYzNWeVpTNWtkWEpoZEdsdmJpQXZJRzUxYlZCdmFXNTBjenRjY2x4dVhIUXZMMXgwYkdWMElHUmxZblZuVFdWemMyRm5aU0E5SUdBa2UyMWxZWE4xY21VdVpIVnlZWFJwYjI0dWRHOUdhWGhsWkNnektYMGdiWE1zSUNSN2JuVnRVRzlwYm5SemZTQndiMmx1ZEhNc0lDUjdaSEJ3TG5SdlJtbDRaV1FvTXlsOUlNSzFjeUF2SUhCdmFXNTBZRHRjY2x4dVhIUXZMMXgwWTI5dWMyOXNaUzVzYjJjb1pHVmlkV2ROWlhOellXZGxLVHRjY2x4dVhIUXZMMzFjY2x4dVhISmNibHgwY0dWeVptOXliV0Z1WTJVdVkyeGxZWEpOWVhKcmN5Z3BPMXh5WEc1Y2RIQmxjbVp2Y20xaGJtTmxMbU5zWldGeVRXVmhjM1Z5WlhNb0tUdGNjbHh1WEhKY2JseDBiR1YwSUcxbGMzTmhaMlVnUFNCN1hISmNibHgwWEhSaWRXWm1aWEk2SUdKMVptWmxjaXhjY2x4dVhIUmNkRzFsWVc0NklHMWxZVzRzWEhKY2JseDBYSFJoZEhSeWFXSjFkR1ZDZFdabVpYSnpPaUJoZEhSeWFXSjFkR1ZDZFdabVpYSnpMRnh5WEc1Y2RGeDBkR2xuYUhSQ2IzVnVaR2x1WjBKdmVEb2dleUJ0YVc0NklIUnBaMmgwUW05NFRXbHVMQ0J0WVhnNklIUnBaMmgwUW05NFRXRjRJSDBzWEhKY2JseDBYSFF2TDJWemRHbHRZWFJsWkZOd1lXTnBibWM2SUdWemRHbHRZWFJsWkZOd1lXTnBibWNzWEhKY2JseDBmVHRjY2x4dVhISmNibHgwYkdWMElIUnlZVzV6Wm1WeVlXSnNaWE1nUFNCYlhUdGNjbHh1WEhSbWIzSWdLR3hsZENCd2NtOXdaWEowZVNCcGJpQnRaWE56WVdkbExtRjBkSEpwWW5WMFpVSjFabVpsY25NcElIdGNjbHh1WEhSY2RIUnlZVzV6Wm1WeVlXSnNaWE11Y0hWemFDaHRaWE56WVdkbExtRjBkSEpwWW5WMFpVSjFabVpsY25OYmNISnZjR1Z5ZEhsZExtSjFabVpsY2lrN1hISmNibHgwZlZ4eVhHNWNkSFJ5WVc1elptVnlZV0pzWlhNdWNIVnphQ2hpZFdabVpYSXBPMXh5WEc1Y2NseHVYSFJ3YjNOMFRXVnpjMkZuWlNodFpYTnpZV2RsTENCMGNtRnVjMlpsY21GaWJHVnpLVHRjY2x4dWZUdGNjbHh1SWwwc0luTnZkWEpqWlZKdmIzUWlPaUlpZlE9PVxcXFxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrLWludGVybmFsOi8vLy4vc3JjL3dvcmtlcnMvQmluYXJ5RGVjb2Rlcldvcmtlci5qc1xcXFxuXFxcIik7XFxuXFxuLyoqKi8gfSlcXG5cXG4vKioqKioqLyB9KTtcIiwgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImRiZjc2ZTUxYTI0Mjk4NzJhMTZlLndvcmtlci5qc1wiKTtcbn07Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/worker-loader/dist/cjs.js?inline!./src/workers/BinaryDecoderWorker.js\n");

/***/ }),

/***/ "./node_modules/worker-loader/dist/workers/InlineWorker.js":
/*!*****************************************************************!*\
  !*** ./node_modules/worker-loader/dist/workers/InlineWorker.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n// http://stackoverflow.com/questions/10343913/how-to-create-a-web-worker-from-a-string\n\nvar URL = window.URL || window.webkitURL;\n\nmodule.exports = function (content, url) {\n  try {\n    try {\n      var blob;\n\n      try {\n        // BlobBuilder = Deprecated, but widely implemented\n        var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;\n\n        blob = new BlobBuilder();\n\n        blob.append(content);\n\n        blob = blob.getBlob();\n      } catch (e) {\n        // The proposed API\n        blob = new Blob([content]);\n      }\n\n      return new Worker(URL.createObjectURL(blob));\n    } catch (e) {\n      return new Worker('data:application/javascript,' + encodeURIComponent(content));\n    }\n  } catch (e) {\n    if (!url) {\n      throw Error('Inline worker is not supported');\n    }\n\n    return new Worker(url);\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9ub2RlX21vZHVsZXMvd29ya2VyLWxvYWRlci9kaXN0L3dvcmtlcnMvSW5saW5lV29ya2VyLmpzPzc3ODUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd29ya2VyLWxvYWRlci9kaXN0L3dvcmtlcnMvSW5saW5lV29ya2VyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEwMzQzOTEzL2hvdy10by1jcmVhdGUtYS13ZWItd29ya2VyLWZyb20tYS1zdHJpbmdcblxudmFyIFVSTCA9IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTDtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY29udGVudCwgdXJsKSB7XG4gIHRyeSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBibG9iO1xuXG4gICAgICB0cnkge1xuICAgICAgICAvLyBCbG9iQnVpbGRlciA9IERlcHJlY2F0ZWQsIGJ1dCB3aWRlbHkgaW1wbGVtZW50ZWRcbiAgICAgICAgdmFyIEJsb2JCdWlsZGVyID0gd2luZG93LkJsb2JCdWlsZGVyIHx8IHdpbmRvdy5XZWJLaXRCbG9iQnVpbGRlciB8fCB3aW5kb3cuTW96QmxvYkJ1aWxkZXIgfHwgd2luZG93Lk1TQmxvYkJ1aWxkZXI7XG5cbiAgICAgICAgYmxvYiA9IG5ldyBCbG9iQnVpbGRlcigpO1xuXG4gICAgICAgIGJsb2IuYXBwZW5kKGNvbnRlbnQpO1xuXG4gICAgICAgIGJsb2IgPSBibG9iLmdldEJsb2IoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gVGhlIHByb3Bvc2VkIEFQSVxuICAgICAgICBibG9iID0gbmV3IEJsb2IoW2NvbnRlbnRdKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBXb3JrZXIoVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIG5ldyBXb3JrZXIoJ2RhdGE6YXBwbGljYXRpb24vamF2YXNjcmlwdCwnICsgZW5jb2RlVVJJQ29tcG9uZW50KGNvbnRlbnQpKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoIXVybCkge1xuICAgICAgdGhyb3cgRXJyb3IoJ0lubGluZSB3b3JrZXIgaXMgbm90IHN1cHBvcnRlZCcpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgV29ya2VyKHVybCk7XG4gIH1cbn07Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/worker-loader/dist/workers/InlineWorker.js\n");

/***/ }),

/***/ "./src/Enum.js":
/*!*********************!*\
  !*** ./src/Enum.js ***!
  \*********************/
/*! exports provided: Enum, EnumItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Enum\", function() { return Enum; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EnumItem\", function() { return EnumItem; });\n\r\nclass EnumItem{\r\n\tconstructor(object){\r\n\t\tfor(let key of Object.keys(object)){\r\n\t\t\tthis[key] = object[key];\r\n\t\t}\r\n\t}\r\n\r\n\tinspect(){\r\n\t\treturn `Enum(${this.name}: ${this.value})`;\r\n\t}\r\n};\r\n\r\nclass Enum{\r\n\r\n\tconstructor(object){\r\n\t\tthis.object = object;\r\n\r\n\t\tfor(let key of Object.keys(object)){\r\n\t\t\tlet value = object[key];\r\n\r\n\t\t\tif(typeof value === \"object\"){\r\n\t\t\t\tvalue.name = key;\r\n\t\t\t}else{\r\n\t\t\t\tvalue = {name: key, value: value};\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis[key] = new EnumItem(value);\r\n\t\t}\r\n\t}\r\n\r\n\tfromValue(value){\r\n\t\tfor(let key of Object.keys(this.object)){\r\n\t\t\tif(this[key].value === value){\r\n\t\t\t\treturn this[key];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthrow new Error(`No enum for value: ${value}`);\r\n\t}\r\n\t\r\n};\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9zcmMvRW51bS5qcz8wNTFjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUIsVUFBVSxJQUFJLFdBQVc7QUFDMUM7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSixhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3Q0FBd0MsTUFBTTtBQUM5Qzs7QUFFQSIsImZpbGUiOiIuL3NyYy9FbnVtLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmNsYXNzIEVudW1JdGVte1xyXG5cdGNvbnN0cnVjdG9yKG9iamVjdCl7XHJcblx0XHRmb3IobGV0IGtleSBvZiBPYmplY3Qua2V5cyhvYmplY3QpKXtcclxuXHRcdFx0dGhpc1trZXldID0gb2JqZWN0W2tleV07XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRpbnNwZWN0KCl7XHJcblx0XHRyZXR1cm4gYEVudW0oJHt0aGlzLm5hbWV9OiAke3RoaXMudmFsdWV9KWA7XHJcblx0fVxyXG59O1xyXG5cclxuY2xhc3MgRW51bXtcclxuXHJcblx0Y29uc3RydWN0b3Iob2JqZWN0KXtcclxuXHRcdHRoaXMub2JqZWN0ID0gb2JqZWN0O1xyXG5cclxuXHRcdGZvcihsZXQga2V5IG9mIE9iamVjdC5rZXlzKG9iamVjdCkpe1xyXG5cdFx0XHRsZXQgdmFsdWUgPSBvYmplY3Rba2V5XTtcclxuXHJcblx0XHRcdGlmKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIil7XHJcblx0XHRcdFx0dmFsdWUubmFtZSA9IGtleTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0dmFsdWUgPSB7bmFtZToga2V5LCB2YWx1ZTogdmFsdWV9O1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHR0aGlzW2tleV0gPSBuZXcgRW51bUl0ZW0odmFsdWUpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0ZnJvbVZhbHVlKHZhbHVlKXtcclxuXHRcdGZvcihsZXQga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMub2JqZWN0KSl7XHJcblx0XHRcdGlmKHRoaXNba2V5XS52YWx1ZSA9PT0gdmFsdWUpe1xyXG5cdFx0XHRcdHJldHVybiB0aGlzW2tleV07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoYE5vIGVudW0gZm9yIHZhbHVlOiAke3ZhbHVlfWApO1xyXG5cdH1cclxuXHRcclxufTtcclxuXHJcbmV4cG9ydCB7RW51bSwgRW51bUl0ZW19OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Enum.js\n");

/***/ }),

/***/ "./src/EventDispatcher.js":
/*!********************************!*\
  !*** ./src/EventDispatcher.js ***!
  \********************************/
/*! exports provided: EventDispatcher */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EventDispatcher\", function() { return EventDispatcher; });\n\r\n/**\r\n * @author mrdoob / http://mrdoob.com/ https://github.com/mrdoob/eventdispatcher.js\r\n * \r\n * with slight modifications by mschuetz, http://potree.org\r\n * \r\n */\r\n\r\n// The MIT License\r\n// \r\n// Copyright (c) 2011 Mr.doob\r\n// \r\n// Permission is hereby granted, free of charge, to any person obtaining a copy\r\n// of this software and associated documentation files (the \"Software\"), to deal\r\n// in the Software without restriction, including without limitation the rights\r\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n// copies of the Software, and to permit persons to whom the Software is\r\n// furnished to do so, subject to the following conditions:\r\n// \r\n// The above copyright notice and this permission notice shall be included in\r\n// all copies or substantial portions of the Software.\r\n// \r\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n// THE SOFTWARE.\r\n\r\n\r\n\r\n\r\n\r\nclass EventDispatcher{\r\n\r\n\tconstructor(){\r\n\t\tthis._listeners = {};\r\n\t}\r\n\r\n\taddEventListener(type, listener){\r\n\r\n\t\tconst listeners = this._listeners;\r\n\r\n\t\tif(listeners[type] === undefined){\r\n\t\t\tlisteners[type] = [];\r\n\t\t}\r\n\r\n\t\tif(listeners[type].indexOf(listener) === - 1){\r\n\t\t\tlisteners[type].push( listener );\r\n\t\t}\r\n\r\n\t}\r\n\r\n\thasEventListener(type, listener){\r\n\r\n\t\tconst listeners = this._listeners;\r\n\r\n\t\treturn listeners[type] !== undefined && listeners[type].indexOf(listener) !== - 1;\r\n\t}\r\n\r\n\tremoveEventListener(type, listener){\r\n\r\n\t\tlet listeners = this._listeners;\r\n\t\tlet listenerArray = listeners[type];\r\n\r\n\t\tif (listenerArray !== undefined){\r\n\r\n\t\t\tlet index = listenerArray.indexOf(listener);\r\n\r\n\t\t\tif(index !== - 1){\r\n\t\t\t\tlistenerArray.splice(index, 1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tremoveEventListeners(type){\r\n\t\tif(this._listeners[type] !== undefined){\r\n\t\t\tdelete this._listeners[type];\r\n\t\t}\r\n\t};\r\n\r\n\tdispatchEvent(event){\r\n\r\n\t\tlet listeners = this._listeners;\r\n\t\tlet listenerArray = listeners[event.type];\r\n\r\n\t\tif ( listenerArray !== undefined ) {\r\n\t\t\tevent.target = this;\r\n\r\n\t\t\tfor(let listener of listenerArray.slice(0)){\r\n\t\t\t\tlistener.call(this, event);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9zcmMvRXZlbnREaXNwYXRjaGVyLmpzP2I4MGIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBTU87O0FBRVA7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBIiwiZmlsZSI6Ii4vc3JjL0V2ZW50RGlzcGF0Y2hlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4vKipcclxuICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS8gaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi9ldmVudGRpc3BhdGNoZXIuanNcclxuICogXHJcbiAqIHdpdGggc2xpZ2h0IG1vZGlmaWNhdGlvbnMgYnkgbXNjaHVldHosIGh0dHA6Ly9wb3RyZWUub3JnXHJcbiAqIFxyXG4gKi9cclxuXHJcbi8vIFRoZSBNSVQgTGljZW5zZVxyXG4vLyBcclxuLy8gQ29weXJpZ2h0IChjKSAyMDExIE1yLmRvb2JcclxuLy8gXHJcbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxuLy8gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG4vLyBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbi8vIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuLy8gY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbi8vIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcbi8vIFxyXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG4vLyBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuLy8gXHJcbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuLy8gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbi8vIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG4vLyBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbi8vIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbi8vIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuLy8gVEhFIFNPRlRXQVJFLlxyXG5cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBFdmVudERpc3BhdGNoZXJ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCl7XHJcblx0XHR0aGlzLl9saXN0ZW5lcnMgPSB7fTtcclxuXHR9XHJcblxyXG5cdGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpe1xyXG5cclxuXHRcdGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycztcclxuXHJcblx0XHRpZihsaXN0ZW5lcnNbdHlwZV0gPT09IHVuZGVmaW5lZCl7XHJcblx0XHRcdGxpc3RlbmVyc1t0eXBlXSA9IFtdO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmKGxpc3RlbmVyc1t0eXBlXS5pbmRleE9mKGxpc3RlbmVyKSA9PT0gLSAxKXtcclxuXHRcdFx0bGlzdGVuZXJzW3R5cGVdLnB1c2goIGxpc3RlbmVyICk7XHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcblx0aGFzRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcil7XHJcblxyXG5cdFx0Y29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xyXG5cclxuXHRcdHJldHVybiBsaXN0ZW5lcnNbdHlwZV0gIT09IHVuZGVmaW5lZCAmJiBsaXN0ZW5lcnNbdHlwZV0uaW5kZXhPZihsaXN0ZW5lcikgIT09IC0gMTtcclxuXHR9XHJcblxyXG5cdHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpe1xyXG5cclxuXHRcdGxldCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XHJcblx0XHRsZXQgbGlzdGVuZXJBcnJheSA9IGxpc3RlbmVyc1t0eXBlXTtcclxuXHJcblx0XHRpZiAobGlzdGVuZXJBcnJheSAhPT0gdW5kZWZpbmVkKXtcclxuXHJcblx0XHRcdGxldCBpbmRleCA9IGxpc3RlbmVyQXJyYXkuaW5kZXhPZihsaXN0ZW5lcik7XHJcblxyXG5cdFx0XHRpZihpbmRleCAhPT0gLSAxKXtcclxuXHRcdFx0XHRsaXN0ZW5lckFycmF5LnNwbGljZShpbmRleCwgMSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHRyZW1vdmVFdmVudExpc3RlbmVycyh0eXBlKXtcclxuXHRcdGlmKHRoaXMuX2xpc3RlbmVyc1t0eXBlXSAhPT0gdW5kZWZpbmVkKXtcclxuXHRcdFx0ZGVsZXRlIHRoaXMuX2xpc3RlbmVyc1t0eXBlXTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRkaXNwYXRjaEV2ZW50KGV2ZW50KXtcclxuXHJcblx0XHRsZXQgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xyXG5cdFx0bGV0IGxpc3RlbmVyQXJyYXkgPSBsaXN0ZW5lcnNbZXZlbnQudHlwZV07XHJcblxyXG5cdFx0aWYgKCBsaXN0ZW5lckFycmF5ICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdGV2ZW50LnRhcmdldCA9IHRoaXM7XHJcblxyXG5cdFx0XHRmb3IobGV0IGxpc3RlbmVyIG9mIGxpc3RlbmVyQXJyYXkuc2xpY2UoMCkpe1xyXG5cdFx0XHRcdGxpc3RlbmVyLmNhbGwodGhpcywgZXZlbnQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/EventDispatcher.js\n");

/***/ }),

/***/ "./src/LRU.js":
/*!********************!*\
  !*** ./src/LRU.js ***!
  \********************/
/*! exports provided: LRU, LRUItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LRU\", function() { return LRU; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LRUItem\", function() { return LRUItem; });\n\r\n\r\nclass LRUItem{\r\n\r\n\tconstructor(node){\r\n\t\tthis.previous = null;\r\n\t\tthis.next = null;\r\n\t\tthis.node = node;\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n *\r\n * @class A doubly-linked-list of the least recently used elements.\r\n */\r\nclass LRU{\r\n\r\n\tconstructor(){\r\n\t\t// the least recently used item\r\n\t\tthis.first = null;\r\n\t\t// the most recently used item\r\n\t\tthis.last = null;\r\n\t\t// a list of all items in the lru list\r\n\t\tthis.items = {};\r\n\t\tthis.elements = 0;\r\n\t\tthis.numPoints = 0;\r\n\t\tthis.pointLoadLimit = 0;\r\n\t}\r\n\r\n\tsize(){\r\n\t\treturn this.elements;\r\n\t}\r\n\r\n\tcontains(node){\r\n\t\treturn this.items[node.id] == null;\r\n\t}\r\n\r\n\ttouch(node){\r\n\t\tif (!node.loaded) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet item;\r\n\t\tif (this.items[node.id] == null) {\r\n\t\t\t// add to list\r\n\t\t\titem = new LRUItem(node);\r\n\t\t\titem.previous = this.last;\r\n\t\t\tthis.last = item;\r\n\t\t\tif (item.previous !== null) {\r\n\t\t\t\titem.previous.next = item;\r\n\t\t\t}\r\n\r\n\t\t\tthis.items[node.id] = item;\r\n\t\t\tthis.elements++;\r\n\r\n\t\t\tif (this.first === null) {\r\n\t\t\t\tthis.first = item;\r\n\t\t\t}\r\n\t\t\tthis.numPoints += node.numPoints;\r\n\t\t} else {\r\n\t\t\t// update in list\r\n\t\t\titem = this.items[node.id];\r\n\t\t\tif (item.previous === null) {\r\n\t\t\t\t// handle touch on first element\r\n\t\t\t\tif (item.next !== null) {\r\n\t\t\t\t\tthis.first = item.next;\r\n\t\t\t\t\tthis.first.previous = null;\r\n\t\t\t\t\titem.previous = this.last;\r\n\t\t\t\t\titem.next = null;\r\n\t\t\t\t\tthis.last = item;\r\n\t\t\t\t\titem.previous.next = item;\r\n\t\t\t\t}\r\n\t\t\t} else if (item.next === null) {\r\n\t\t\t\t// handle touch on last element\r\n\t\t\t} else {\r\n\t\t\t\t// handle touch on any other element\r\n\t\t\t\titem.previous.next = item.next;\r\n\t\t\t\titem.next.previous = item.previous;\r\n\t\t\t\titem.previous = this.last;\r\n\t\t\t\titem.next = null;\r\n\t\t\t\tthis.last = item;\r\n\t\t\t\titem.previous.next = item;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tremove(node){\r\n\t\tlet lruItem = this.items[node.id];\r\n\t\tif (lruItem) {\r\n\t\t\tif (this.elements === 1) {\r\n\t\t\t\tthis.first = null;\r\n\t\t\t\tthis.last = null;\r\n\t\t\t} else {\r\n\t\t\t\tif (!lruItem.previous) {\r\n\t\t\t\t\tthis.first = lruItem.next;\r\n\t\t\t\t\tthis.first.previous = null;\r\n\t\t\t\t}\r\n\t\t\t\tif (!lruItem.next) {\r\n\t\t\t\t\tthis.last = lruItem.previous;\r\n\t\t\t\t\tthis.last.next = null;\r\n\t\t\t\t}\r\n\t\t\t\tif (lruItem.previous && lruItem.next) {\r\n\t\t\t\t\tlruItem.previous.next = lruItem.next;\r\n\t\t\t\t\tlruItem.next.previous = lruItem.previous;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tdelete this.items[node.id];\r\n\t\t\tthis.elements--;\r\n\t\t\tthis.numPoints -= node.numPoints;\r\n\t\t}\r\n\t}\r\n\r\n\tgetLRUItem(){\r\n\t\tif (this.first === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tlet lru = this.first;\r\n\r\n\t\treturn lru.node;\r\n\t}\r\n\r\n\ttoString(){\r\n\t\tlet string = '{ ';\r\n\t\tlet curr = this.first;\r\n\t\twhile (curr !== null) {\r\n\t\t\tstring += curr.node.id;\r\n\t\t\tif (curr.next !== null) {\r\n\t\t\t\tstring += ', ';\r\n\t\t\t}\r\n\t\t\tcurr = curr.next;\r\n\t\t}\r\n\t\tstring += '}';\r\n\t\tstring += '(' + this.size() + ')';\r\n\t\treturn string;\r\n\t}\r\n\r\n\tfreeMemory(){\r\n\t\tif (this.elements <= 1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twhile (this.numPoints > this.pointLoadLimit) {\r\n\t\t\tlet element = this.first;\r\n\t\t\tlet node = element.node;\r\n\t\t\tthis.disposeDescendants(node);\r\n\t\t}\r\n\t}\r\n\r\n\tdisposeDescendants(node){\r\n\t\tlet stack = [];\r\n\t\tstack.push(node);\r\n\t\twhile (stack.length > 0) {\r\n\t\t\tlet current = stack.pop();\r\n\r\n\t\t\t// console.log(current);\r\n\r\n\t\t\tcurrent.dispose();\r\n\t\t\tthis.remove(current);\r\n\r\n\t\t\tfor (let key in current.children) {\r\n\t\t\t\tif (current.children.hasOwnProperty(key)) {\r\n\t\t\t\t\tlet child = current.children[key];\r\n\t\t\t\t\tif (child.loaded) {\r\n\t\t\t\t\t\tstack.push(current.children[key]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9zcmMvTFJVLmpzP2FmYzUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIuL3NyYy9MUlUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuXHJcbmNsYXNzIExSVUl0ZW17XHJcblxyXG5cdGNvbnN0cnVjdG9yKG5vZGUpe1xyXG5cdFx0dGhpcy5wcmV2aW91cyA9IG51bGw7XHJcblx0XHR0aGlzLm5leHQgPSBudWxsO1xyXG5cdFx0dGhpcy5ub2RlID0gbm9kZTtcclxuXHR9XHJcblxyXG59XHJcblxyXG4vKipcclxuICpcclxuICogQGNsYXNzIEEgZG91Ymx5LWxpbmtlZC1saXN0IG9mIHRoZSBsZWFzdCByZWNlbnRseSB1c2VkIGVsZW1lbnRzLlxyXG4gKi9cclxuY2xhc3MgTFJVe1xyXG5cclxuXHRjb25zdHJ1Y3Rvcigpe1xyXG5cdFx0Ly8gdGhlIGxlYXN0IHJlY2VudGx5IHVzZWQgaXRlbVxyXG5cdFx0dGhpcy5maXJzdCA9IG51bGw7XHJcblx0XHQvLyB0aGUgbW9zdCByZWNlbnRseSB1c2VkIGl0ZW1cclxuXHRcdHRoaXMubGFzdCA9IG51bGw7XHJcblx0XHQvLyBhIGxpc3Qgb2YgYWxsIGl0ZW1zIGluIHRoZSBscnUgbGlzdFxyXG5cdFx0dGhpcy5pdGVtcyA9IHt9O1xyXG5cdFx0dGhpcy5lbGVtZW50cyA9IDA7XHJcblx0XHR0aGlzLm51bVBvaW50cyA9IDA7XHJcblx0XHR0aGlzLnBvaW50TG9hZExpbWl0ID0gMDtcclxuXHR9XHJcblxyXG5cdHNpemUoKXtcclxuXHRcdHJldHVybiB0aGlzLmVsZW1lbnRzO1xyXG5cdH1cclxuXHJcblx0Y29udGFpbnMobm9kZSl7XHJcblx0XHRyZXR1cm4gdGhpcy5pdGVtc1tub2RlLmlkXSA9PSBudWxsO1xyXG5cdH1cclxuXHJcblx0dG91Y2gobm9kZSl7XHJcblx0XHRpZiAoIW5vZGUubG9hZGVkKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgaXRlbTtcclxuXHRcdGlmICh0aGlzLml0ZW1zW25vZGUuaWRdID09IG51bGwpIHtcclxuXHRcdFx0Ly8gYWRkIHRvIGxpc3RcclxuXHRcdFx0aXRlbSA9IG5ldyBMUlVJdGVtKG5vZGUpO1xyXG5cdFx0XHRpdGVtLnByZXZpb3VzID0gdGhpcy5sYXN0O1xyXG5cdFx0XHR0aGlzLmxhc3QgPSBpdGVtO1xyXG5cdFx0XHRpZiAoaXRlbS5wcmV2aW91cyAhPT0gbnVsbCkge1xyXG5cdFx0XHRcdGl0ZW0ucHJldmlvdXMubmV4dCA9IGl0ZW07XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuaXRlbXNbbm9kZS5pZF0gPSBpdGVtO1xyXG5cdFx0XHR0aGlzLmVsZW1lbnRzKys7XHJcblxyXG5cdFx0XHRpZiAodGhpcy5maXJzdCA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdHRoaXMuZmlyc3QgPSBpdGVtO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMubnVtUG9pbnRzICs9IG5vZGUubnVtUG9pbnRzO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gdXBkYXRlIGluIGxpc3RcclxuXHRcdFx0aXRlbSA9IHRoaXMuaXRlbXNbbm9kZS5pZF07XHJcblx0XHRcdGlmIChpdGVtLnByZXZpb3VzID09PSBudWxsKSB7XHJcblx0XHRcdFx0Ly8gaGFuZGxlIHRvdWNoIG9uIGZpcnN0IGVsZW1lbnRcclxuXHRcdFx0XHRpZiAoaXRlbS5uZXh0ICE9PSBudWxsKSB7XHJcblx0XHRcdFx0XHR0aGlzLmZpcnN0ID0gaXRlbS5uZXh0O1xyXG5cdFx0XHRcdFx0dGhpcy5maXJzdC5wcmV2aW91cyA9IG51bGw7XHJcblx0XHRcdFx0XHRpdGVtLnByZXZpb3VzID0gdGhpcy5sYXN0O1xyXG5cdFx0XHRcdFx0aXRlbS5uZXh0ID0gbnVsbDtcclxuXHRcdFx0XHRcdHRoaXMubGFzdCA9IGl0ZW07XHJcblx0XHRcdFx0XHRpdGVtLnByZXZpb3VzLm5leHQgPSBpdGVtO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIGlmIChpdGVtLm5leHQgPT09IG51bGwpIHtcclxuXHRcdFx0XHQvLyBoYW5kbGUgdG91Y2ggb24gbGFzdCBlbGVtZW50XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8gaGFuZGxlIHRvdWNoIG9uIGFueSBvdGhlciBlbGVtZW50XHJcblx0XHRcdFx0aXRlbS5wcmV2aW91cy5uZXh0ID0gaXRlbS5uZXh0O1xyXG5cdFx0XHRcdGl0ZW0ubmV4dC5wcmV2aW91cyA9IGl0ZW0ucHJldmlvdXM7XHJcblx0XHRcdFx0aXRlbS5wcmV2aW91cyA9IHRoaXMubGFzdDtcclxuXHRcdFx0XHRpdGVtLm5leHQgPSBudWxsO1xyXG5cdFx0XHRcdHRoaXMubGFzdCA9IGl0ZW07XHJcblx0XHRcdFx0aXRlbS5wcmV2aW91cy5uZXh0ID0gaXRlbTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmVtb3ZlKG5vZGUpe1xyXG5cdFx0bGV0IGxydUl0ZW0gPSB0aGlzLml0ZW1zW25vZGUuaWRdO1xyXG5cdFx0aWYgKGxydUl0ZW0pIHtcclxuXHRcdFx0aWYgKHRoaXMuZWxlbWVudHMgPT09IDEpIHtcclxuXHRcdFx0XHR0aGlzLmZpcnN0ID0gbnVsbDtcclxuXHRcdFx0XHR0aGlzLmxhc3QgPSBudWxsO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGlmICghbHJ1SXRlbS5wcmV2aW91cykge1xyXG5cdFx0XHRcdFx0dGhpcy5maXJzdCA9IGxydUl0ZW0ubmV4dDtcclxuXHRcdFx0XHRcdHRoaXMuZmlyc3QucHJldmlvdXMgPSBudWxsO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoIWxydUl0ZW0ubmV4dCkge1xyXG5cdFx0XHRcdFx0dGhpcy5sYXN0ID0gbHJ1SXRlbS5wcmV2aW91cztcclxuXHRcdFx0XHRcdHRoaXMubGFzdC5uZXh0ID0gbnVsbDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKGxydUl0ZW0ucHJldmlvdXMgJiYgbHJ1SXRlbS5uZXh0KSB7XHJcblx0XHRcdFx0XHRscnVJdGVtLnByZXZpb3VzLm5leHQgPSBscnVJdGVtLm5leHQ7XHJcblx0XHRcdFx0XHRscnVJdGVtLm5leHQucHJldmlvdXMgPSBscnVJdGVtLnByZXZpb3VzO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZGVsZXRlIHRoaXMuaXRlbXNbbm9kZS5pZF07XHJcblx0XHRcdHRoaXMuZWxlbWVudHMtLTtcclxuXHRcdFx0dGhpcy5udW1Qb2ludHMgLT0gbm9kZS5udW1Qb2ludHM7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRnZXRMUlVJdGVtKCl7XHJcblx0XHRpZiAodGhpcy5maXJzdCA9PT0gbnVsbCkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHRcdGxldCBscnUgPSB0aGlzLmZpcnN0O1xyXG5cclxuXHRcdHJldHVybiBscnUubm9kZTtcclxuXHR9XHJcblxyXG5cdHRvU3RyaW5nKCl7XHJcblx0XHRsZXQgc3RyaW5nID0gJ3sgJztcclxuXHRcdGxldCBjdXJyID0gdGhpcy5maXJzdDtcclxuXHRcdHdoaWxlIChjdXJyICE9PSBudWxsKSB7XHJcblx0XHRcdHN0cmluZyArPSBjdXJyLm5vZGUuaWQ7XHJcblx0XHRcdGlmIChjdXJyLm5leHQgIT09IG51bGwpIHtcclxuXHRcdFx0XHRzdHJpbmcgKz0gJywgJztcclxuXHRcdFx0fVxyXG5cdFx0XHRjdXJyID0gY3Vyci5uZXh0O1xyXG5cdFx0fVxyXG5cdFx0c3RyaW5nICs9ICd9JztcclxuXHRcdHN0cmluZyArPSAnKCcgKyB0aGlzLnNpemUoKSArICcpJztcclxuXHRcdHJldHVybiBzdHJpbmc7XHJcblx0fVxyXG5cclxuXHRmcmVlTWVtb3J5KCl7XHJcblx0XHRpZiAodGhpcy5lbGVtZW50cyA8PSAxKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHR3aGlsZSAodGhpcy5udW1Qb2ludHMgPiB0aGlzLnBvaW50TG9hZExpbWl0KSB7XHJcblx0XHRcdGxldCBlbGVtZW50ID0gdGhpcy5maXJzdDtcclxuXHRcdFx0bGV0IG5vZGUgPSBlbGVtZW50Lm5vZGU7XHJcblx0XHRcdHRoaXMuZGlzcG9zZURlc2NlbmRhbnRzKG5vZGUpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0ZGlzcG9zZURlc2NlbmRhbnRzKG5vZGUpe1xyXG5cdFx0bGV0IHN0YWNrID0gW107XHJcblx0XHRzdGFjay5wdXNoKG5vZGUpO1xyXG5cdFx0d2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0bGV0IGN1cnJlbnQgPSBzdGFjay5wb3AoKTtcclxuXHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKGN1cnJlbnQpO1xyXG5cclxuXHRcdFx0Y3VycmVudC5kaXNwb3NlKCk7XHJcblx0XHRcdHRoaXMucmVtb3ZlKGN1cnJlbnQpO1xyXG5cclxuXHRcdFx0Zm9yIChsZXQga2V5IGluIGN1cnJlbnQuY2hpbGRyZW4pIHtcclxuXHRcdFx0XHRpZiAoY3VycmVudC5jaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0XHRsZXQgY2hpbGQgPSBjdXJyZW50LmNoaWxkcmVuW2tleV07XHJcblx0XHRcdFx0XHRpZiAoY2hpbGQubG9hZGVkKSB7XHJcblx0XHRcdFx0XHRcdHN0YWNrLnB1c2goY3VycmVudC5jaGlsZHJlbltrZXldKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG59XHJcblxyXG5leHBvcnQge0xSVSwgTFJVSXRlbX07Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/LRU.js\n");

/***/ }),

/***/ "./src/PointCloudOctreeGeometry.js":
/*!*****************************************!*\
  !*** ./src/PointCloudOctreeGeometry.js ***!
  \*****************************************/
/*! exports provided: PointCloudOctreeGeometry, PointCloudOctreeGeometryNode */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PointCloudOctreeGeometry\", function() { return PointCloudOctreeGeometry; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PointCloudOctreeGeometryNode\", function() { return PointCloudOctreeGeometryNode; });\n/* harmony import */ var _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./loader/PointAttributes.js */ \"./src/loader/PointAttributes.js\");\n/* harmony import */ var _PointCloudTree_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PointCloudTree.js */ \"./src/PointCloudTree.js\");\n/* harmony import */ var _XHRFactory_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./XHRFactory.js */ \"./src/XHRFactory.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils.js */ \"./src/utils.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n// A global count of the number of nodes loading.\r\nlet numNodesLoading = 0;\r\n\r\nclass PointCloudOctreeGeometry{\r\n\r\n\tconstructor(){\r\n\t\tthis.url = null;\r\n\t\tthis.octreeDir = null;\r\n\t\tthis.spacing = 0;\r\n\t\tthis.boundingBox = null;\r\n\t\tthis.root = null;\r\n\t\tthis.nodes = null;\r\n\t\tthis.pointAttributes = null;\r\n\t\tthis.hierarchyStepSize = -1;\r\n\t\tthis.loader = null;\r\n\t}\r\n\t\r\n}\r\n\r\nclass PointCloudOctreeGeometryNode extends _PointCloudTree_js__WEBPACK_IMPORTED_MODULE_1__[\"PointCloudTreeNode\"]{\r\n\r\n\tconstructor(name, pcoGeometry, boundingBox){\r\n\t\tsuper();\r\n\r\n\t\tthis.id = PointCloudOctreeGeometryNode.IDCount++;\r\n\t\tthis.name = name;\r\n\t\tthis.index = parseInt(name.charAt(name.length - 1));\r\n\t\tthis.pcoGeometry = pcoGeometry;\r\n\t\tthis.geometry = null;\r\n\t\tthis.boundingBox = boundingBox;\r\n\t\tthis.boundingSphere = boundingBox.getBoundingSphere();\r\n\t\tthis.children = {};\r\n\t\tthis.numPoints = 0;\r\n\t\tthis.level = null;\r\n\t\tthis.loaded = false;\r\n\t\tthis.oneTimeDisposeHandlers = [];\r\n\r\n\t\tthis.offset = this.boundingBox.min.clone();\r\n\t\t// console.log(\"PointCloudOctreeGeometryNode:\", this.name, this.offset);\r\n\t}\r\n\r\n\t// isGeometryNode(){\r\n\t// \treturn true;\r\n\t// }\r\n\r\n\tgetLevel(){\r\n\t\treturn this.level;\r\n\t}\r\n\r\n\t// isTreeNode(){\r\n\t// \treturn false;\r\n\t// }\r\n\r\n\tisLoaded(){\r\n\t\treturn this.loaded;\r\n\t}\r\n\r\n\tgetBoundingSphere(){\r\n\t\treturn this.boundingSphere;\r\n\t}\r\n\r\n\tgetBoundingBox(){\r\n\t\treturn this.boundingBox;\r\n\t}\r\n\r\n\tgetChildren(){\r\n\t\tlet children = [];\r\n\r\n\t\tfor (let i = 0; i < 8; i++) {\r\n\t\t\tif (this.children[i]) {\r\n\t\t\t\tchildren.push(this.children[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn children;\r\n\t}\r\n\r\n\tgetURL(){\r\n\t\tlet url = '';\r\n\r\n\t\tlet version = this.pcoGeometry.loader.version;\r\n\r\n\t\tif (version.equalOrHigher('1.5')) {\r\n\t\t\turl = this.pcoGeometry.octreeDir + '/' + this.getHierarchyPath() + '/' + this.name;\r\n\t\t} else if (version.equalOrHigher('1.4')) {\r\n\t\t\turl = this.pcoGeometry.octreeDir + '/' + this.name;\r\n\t\t} else if (version.upTo('1.3')) {\r\n\t\t\turl = this.pcoGeometry.octreeDir + '/' + this.name;\r\n\t\t}\r\n\r\n\t\treturn url;\r\n\t}\r\n\r\n\tgetHierarchyPath(){\r\n\t\tlet path = 'r/';\r\n\r\n\t\tlet hierarchyStepSize = this.pcoGeometry.hierarchyStepSize;\r\n\t\tlet indices = this.name.substr(1);\r\n\r\n\t\tlet numParts = Math.floor(indices.length / hierarchyStepSize);\r\n\t\tfor (let i = 0; i < numParts; i++) {\r\n\t\t\tpath += indices.substr(i * hierarchyStepSize, hierarchyStepSize) + '/';\r\n\t\t}\r\n\r\n\t\tpath = path.slice(0, -1);\r\n\r\n\t\treturn path;\r\n\t}\r\n\r\n\taddChild(child) {\r\n\t\t// console.log(\"PointCloudOctreeGeometryNode\", this.name, \".addChild:\", child.name);\r\n\t\tthis.children[child.index] = child;\r\n\t\tchild.parent = this;\r\n\t}\r\n\r\n\tshouldLoad() {\r\n\t\treturn this.loading !== true && this.loaded !== true;\r\n\t}\r\n\r\n\tload(){\r\n\t\tthis.loading = true;\r\n\t\tif(this.loadPromise)\r\n\t\t\treturn this.loadPromise\r\n\t\tthis.loadPromise = new Promise((resolve, reject)=>{\r\n\t\t// if (this.loading === true || this.loaded === true || Potree.numNodesLoading >= Potree.maxNodesLoading) {\r\n\t\t// \treturn;\r\n\t\t// }\r\n\r\n\r\n\t\t\tnumNodesLoading++;\r\n\r\n\t\t\tif (this.pcoGeometry.loader.version.equalOrHigher('1.5')) {\r\n\t\t\t\tif ((this.level % this.pcoGeometry.hierarchyStepSize) === 0 && this.hasChildren) {\r\n\t\t\t\t\tthis.loadHierachyThenPoints().then(resolve);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.loadPoints().then(resolve);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.loadPoints().then(resolve);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn this.loadPromise;\r\n\t}\r\n\r\n\tloadPoints(){\r\n\t\treturn this.pcoGeometry.loader.load(this);\r\n\t}\r\n\r\n\tparse(data, version) {\r\n\r\n\t\tconst buffers = data.attributeBuffers;\r\n\r\n\t\tconst points = new ZeaEngine.Points();\r\n\t\tfor(let property in buffers){\r\n\t\t\tconst buffer = buffers[property].buffer;\r\n\t\t\tconst propertyId = parseInt(property);\r\n\t\t\tif (propertyId === _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_0__[\"PointAttributeNames\"].POSITION_CARTESIAN) {\r\n\t\t\t\tconst attr = points.getVertexAttribute('positions');\r\n\t\t\t\tattr.data = new Float32Array(buffer);\r\n\t\t\t} else if (propertyId === _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_0__[\"PointAttributeNames\"].COLOR_PACKED) {\r\n    \t\t\tpoints.addVertexAttribute('colors', ZeaEngine.RGBA, new Uint8Array(buffer))\r\n\t\t\t}else if (propertyId === _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_0__[\"PointAttributeNames\"].INDICES) {\r\n    \t\t\t// points.addVertexAttribute('indices', ZeaEngine.RGBA, new Uint8Array(buffer))\r\n\t\t\t}\r\n\t\t\t/* else if (propertyId === PointAttributeNames.INTENSITY) {\r\n\t\t\t\tgeometry.addAttribute('intensity', new THREE.BufferAttribute(new Float32Array(buffer), 1));\r\n\t\t\t} else if (propertyId === PointAttributeNames.CLASSIFICATION) {\r\n\t\t\t\tgeometry.addAttribute('classification', new THREE.BufferAttribute(new Uint8Array(buffer), 1));\r\n\t\t\t} else if (propertyId === PointAttributeNames.RETURN_NUMBER) {\r\n\t\t\t\tgeometry.addAttribute('returnNumber', new THREE.BufferAttribute(new Uint8Array(buffer), 1));\r\n\t\t\t} else if (propertyId === PointAttributeNames.NUMBER_OF_RETURNS) {\r\n\t\t\t\tgeometry.addAttribute('numberOfReturns', new THREE.BufferAttribute(new Uint8Array(buffer), 1));\r\n\t\t\t} else if (propertyId === PointAttributeNames.SOURCE_ID) {\r\n\t\t\t\tgeometry.addAttribute('pointSourceID', new THREE.BufferAttribute(new Uint16Array(buffer), 1));\r\n\t\t\t} else if (propertyId === PointAttributeNames.NORMAL_SPHEREMAPPED) {\r\n\t\t\t\tgeometry.addAttribute('normal', new THREE.BufferAttribute(new Float32Array(buffer), 3));\r\n\t\t\t} else if (propertyId === PointAttributeNames.NORMAL_OCT16) {\r\n\t\t\t\tgeometry.addAttribute('normal', new THREE.BufferAttribute(new Float32Array(buffer), 3));\r\n\t\t\t} else if (propertyId === PointAttributeNames.NORMAL) {\r\n\t\t\t\tgeometry.addAttribute('normal', new THREE.BufferAttribute(new Float32Array(buffer), 3));\r\n\t\t\t} else if (propertyId === PointAttributeNames.SPACING) {\r\n\t\t\t\tconst bufferAttribute = new THREE.BufferAttribute(new Float32Array(buffer), 1);\r\n\t\t\t\tgeometry.addAttribute('spacing', bufferAttribute);\r\n\t\t\t} else if (propertyId === PointAttributeNames.GPS_TIME) {\r\n\t\t\t\tconst bufferAttribute = new THREE.BufferAttribute(new Float32Array(buffer), 1);\r\n\t\t\t\tgeometry.addAttribute('gpsTime', bufferAttribute);\r\n\r\n\t\t\t\tthis.gpsTime = {\r\n\t\t\t\t\toffset: buffers[property].offset,\r\n\t\t\t\t\trange: buffers[property].range,\r\n\t\t\t\t};\r\n\t\t\t}*/\r\n\t\t\telse {\r\n\t\t\t\tlet name;\r\n\t\t\t\tfor (let key in _loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_0__[\"PointAttributeNames\"]) {\r\n\t\t\t\t\tif (_loader_PointAttributes_js__WEBPACK_IMPORTED_MODULE_0__[\"PointAttributeNames\"][key] == propertyId) {\r\n\t\t\t\t\t\tname = key;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconsole.warn(\"Unandled Point Attribute:\", name); \r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.points = points;\r\n\t\t// const min = data.tightBoundingBox.min\r\n\t\t// this.offset = new ZeaEngine.Vec3(min[0], min[1], min[2]);\r\n\t\t// console.log(data.tightBoundingBox.min);\r\n\r\n\t\tconst tightBoundingBox = new ZeaEngine.Box3(\r\n\t\t\tnew ZeaEngine.Vec3(...data.tightBoundingBox.min),\r\n\t\t\tnew ZeaEngine.Vec3(...data.tightBoundingBox.max)\r\n\t\t);\r\n\t\ttightBoundingBox.max.subtract(tightBoundingBox.min);\r\n\t\ttightBoundingBox.min.set(0, 0, 0);\r\n\r\n\t\t\r\n\t\tlet pointAttributes = this.pcoGeometry.pointAttributes;\r\n\t\tconst numPoints = data.buffer.byteLength / pointAttributes.byteSize;\r\n\t\t\r\n\t\tthis.numPoints = numPoints;\r\n\t\tthis.mean = new ZeaEngine.Vec3(...data.mean);\r\n\t\tthis.tightBoundingBox = tightBoundingBox;\r\n\t\tthis.loaded = true;\r\n\t\tthis.loading = false;\r\n\t\tthis.estimatedSpacing = data.estimatedSpacing;\r\n\t\tnumNodesLoading--;\r\n\r\n\t\tthis.dispatchEvent('loaded', {\r\n\t\t\tnumPoints\r\n\t\t});\r\n\t}\r\n\r\n\tloadHierachyThenPoints(){\r\n\t\treturn new Promise((resolve, reject)=>{\r\n\t\tlet node = this;\r\n\r\n\t\t// load hierarchy\r\n\t\tlet callback = function (node, hbuffer) {\r\n\t\t\tlet view = new DataView(hbuffer);\r\n\r\n\t\t\tlet stack = [];\r\n\t\t\tlet children = view.getUint8(0);\r\n\t\t\tlet numPoints = view.getUint32(1, true);\r\n\t\t\tnode.numPoints = numPoints;\r\n\t\t\tstack.push({children: children, numPoints: numPoints, name: node.name});\r\n\r\n\t\t\tlet decoded = [];\r\n\r\n\t\t\tlet offset = 5;\r\n\t\t\twhile (stack.length > 0) {\r\n\t\t\t\tlet snode = stack.shift();\r\n\t\t\t\tlet mask = 1;\r\n\t\t\t\tfor (let i = 0; i < 8; i++) {\r\n\t\t\t\t\tif ((snode.children & mask) !== 0) {\r\n\t\t\t\t\t\tlet childName = snode.name + i;\r\n\r\n\t\t\t\t\t\tlet childChildren = view.getUint8(offset);\r\n\t\t\t\t\t\tlet childNumPoints = view.getUint32(offset + 1, true);\r\n\r\n\t\t\t\t\t\tstack.push({children: childChildren, numPoints: childNumPoints, name: childName});\r\n\r\n\t\t\t\t\t\tdecoded.push({children: childChildren, numPoints: childNumPoints, name: childName});\r\n\r\n\t\t\t\t\t\toffset += 5;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmask = mask * 2;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (offset === hbuffer.byteLength) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// console.log(decoded);\r\n\r\n\t\t\tlet nodes = {};\r\n\t\t\tnodes[node.name] = node;\r\n\t\t\tlet pco = node.pcoGeometry;\r\n\r\n\t\t\tfor (let i = 0; i < decoded.length; i++) {\r\n\t\t\t\tlet name = decoded[i].name;\r\n\t\t\t\tlet decodedNumPoints = decoded[i].numPoints;\r\n\t\t\t\tlet index = parseInt(name.charAt(name.length - 1));\r\n\t\t\t\tlet parentName = name.substring(0, name.length - 1);\r\n\t\t\t\tlet parentNode = nodes[parentName];\r\n\t\t\t\tlet level = name.length - 1;\r\n\t\t\t\tlet boundingBox = _utils_js__WEBPACK_IMPORTED_MODULE_3__[\"Utils\"].createChildAABB(parentNode.boundingBox, index);\r\n\r\n\t\t\t\tlet currentNode = new PointCloudOctreeGeometryNode(name, pco, boundingBox);\r\n\t\t\t\tcurrentNode.level = level;\r\n\t\t\t\tcurrentNode.numPoints = decodedNumPoints;\r\n\t\t\t\tcurrentNode.hasChildren = decoded[i].children > 0;\r\n\t\t\t\tcurrentNode.spacing = pco.spacing / Math.pow(2, level);\r\n\t\t\t\tparentNode.addChild(currentNode);\r\n\t\t\t\tnodes[name] = currentNode;\r\n\t\t\t}\r\n\r\n\t\t\tnode.loadPoints().then(()=>{\r\n\t\t\t\tresolve();\r\n\t\t\t});\r\n\t\t};\r\n\t\tif ((node.level % node.pcoGeometry.hierarchyStepSize) === 0) {\r\n\t\t\t// let hurl = node.pcoGeometry.octreeDir + \"/../hierarchy/\" + node.name + \".hrc\";\r\n\t\t\tlet hurl = node.pcoGeometry.octreeDir + '/' + node.getHierarchyPath() + '/' + node.name + '.hrc';\r\n\r\n\t\t\tlet xhr = _XHRFactory_js__WEBPACK_IMPORTED_MODULE_2__[\"XHRFactory\"].createXMLHttpRequest();\r\n\t\t\txhr.open('GET', hurl, true);\r\n\t\t\txhr.responseType = 'arraybuffer';\r\n\t\t\txhr.overrideMimeType('text/plain; charset=x-user-defined');\r\n\t\t\txhr.onreadystatechange = () => {\r\n\t\t\t\tif (xhr.readyState === 4) {\r\n\t\t\t\t\tif (xhr.status === 200 || xhr.status === 0) {\r\n\t\t\t\t\t\tlet hbuffer = xhr.response;\r\n\t\t\t\t\t\tcallback(node, hbuffer);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst msg = 'Failed to load file! HTTP status: ' + xhr.status + ', file: ' + hurl;\r\n\t\t\t\t\t\tconsole.log(msg);\r\n\t\t\t\t\t\tPotree.numNodesLoading--;\r\n\t\t\t\t\t\treject(msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\ttry {\r\n\t\t\t\txhr.send(null);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log('fehler beim laden der punktwolke: ' + e);\r\n\t\t\t\treject('fehler beim laden der punktwolke: ' + e);\r\n\t\t\t}\r\n\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tgetNumPoints(){\r\n\t\treturn this.numPoints;\r\n\t}\r\n\r\n\tdispose(){\r\n\t\tif (this.geometry && this.parent != null) {\r\n\t\t\tthis.geometry.dispose();\r\n\t\t\tthis.geometry = null;\r\n\t\t\tthis.loaded = false;\r\n\t\t\tthis.loadPromise = null;\r\n\r\n\t\t\t// this.dispatchEvent( { type: 'dispose' } );\r\n\t\t\tfor (let i = 0; i < this.oneTimeDisposeHandlers.length; i++) {\r\n\t\t\t\tlet handler = this.oneTimeDisposeHandlers[i];\r\n\t\t\t\thandler();\r\n\t\t\t}\r\n\t\t\tthis.oneTimeDisposeHandlers = [];\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n\r\nPointCloudOctreeGeometryNode.IDCount = 0;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9zcmMvUG9pbnRDbG91ZE9jdHJlZUdlb21ldHJ5LmpzPzE5YzUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBZ0U7QUFDVDtBQUNaO0FBQ1Y7OztBQUdqQztBQUNBOztBQUVPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRU8sMkNBQTJDLHFFQUFrQjs7QUFFcEU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQixjQUFjO0FBQy9CO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDhFQUFtQjtBQUN6QztBQUNBO0FBQ0EsSUFBSSx5QkFBeUIsOEVBQW1CO0FBQ2hEO0FBQ0EsSUFBSSx3QkFBd0IsOEVBQW1CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0Esb0JBQW9CLDhFQUFtQjtBQUN2QyxTQUFTLDhFQUFtQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDBEQUEwRDs7QUFFekU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsT0FBTztBQUMxQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsa0JBQWtCLG9FQUFvRTs7QUFFdEYsb0JBQW9CLG9FQUFvRTs7QUFFeEY7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0Isb0JBQW9CO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwrQ0FBSzs7QUFFM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGFBQWEseURBQVU7QUFDdkI7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDJCQUEyQixrQkFBa0I7QUFDN0Msa0JBQWtCLHdDQUF3QztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEiLCJmaWxlIjoiLi9zcmMvUG9pbnRDbG91ZE9jdHJlZUdlb21ldHJ5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtQb2ludEF0dHJpYnV0ZU5hbWVzfSBmcm9tIFwiLi9sb2FkZXIvUG9pbnRBdHRyaWJ1dGVzLmpzXCI7XHJcbmltcG9ydCB7UG9pbnRDbG91ZFRyZWVOb2RlfSBmcm9tIFwiLi9Qb2ludENsb3VkVHJlZS5qc1wiO1xyXG5pbXBvcnQge1hIUkZhY3Rvcnl9IGZyb20gXCIuL1hIUkZhY3RvcnkuanNcIjtcclxuaW1wb3J0IHtVdGlsc30gZnJvbSBcIi4vdXRpbHMuanNcIjtcclxuXHJcblxyXG4vLyBBIGdsb2JhbCBjb3VudCBvZiB0aGUgbnVtYmVyIG9mIG5vZGVzIGxvYWRpbmcuXHJcbmxldCBudW1Ob2Rlc0xvYWRpbmcgPSAwO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvaW50Q2xvdWRPY3RyZWVHZW9tZXRyeXtcclxuXHJcblx0Y29uc3RydWN0b3IoKXtcclxuXHRcdHRoaXMudXJsID0gbnVsbDtcclxuXHRcdHRoaXMub2N0cmVlRGlyID0gbnVsbDtcclxuXHRcdHRoaXMuc3BhY2luZyA9IDA7XHJcblx0XHR0aGlzLmJvdW5kaW5nQm94ID0gbnVsbDtcclxuXHRcdHRoaXMucm9vdCA9IG51bGw7XHJcblx0XHR0aGlzLm5vZGVzID0gbnVsbDtcclxuXHRcdHRoaXMucG9pbnRBdHRyaWJ1dGVzID0gbnVsbDtcclxuXHRcdHRoaXMuaGllcmFyY2h5U3RlcFNpemUgPSAtMTtcclxuXHRcdHRoaXMubG9hZGVyID0gbnVsbDtcclxuXHR9XHJcblx0XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQb2ludENsb3VkT2N0cmVlR2VvbWV0cnlOb2RlIGV4dGVuZHMgUG9pbnRDbG91ZFRyZWVOb2Rle1xyXG5cclxuXHRjb25zdHJ1Y3RvcihuYW1lLCBwY29HZW9tZXRyeSwgYm91bmRpbmdCb3gpe1xyXG5cdFx0c3VwZXIoKTtcclxuXHJcblx0XHR0aGlzLmlkID0gUG9pbnRDbG91ZE9jdHJlZUdlb21ldHJ5Tm9kZS5JRENvdW50Kys7XHJcblx0XHR0aGlzLm5hbWUgPSBuYW1lO1xyXG5cdFx0dGhpcy5pbmRleCA9IHBhcnNlSW50KG5hbWUuY2hhckF0KG5hbWUubGVuZ3RoIC0gMSkpO1xyXG5cdFx0dGhpcy5wY29HZW9tZXRyeSA9IHBjb0dlb21ldHJ5O1xyXG5cdFx0dGhpcy5nZW9tZXRyeSA9IG51bGw7XHJcblx0XHR0aGlzLmJvdW5kaW5nQm94ID0gYm91bmRpbmdCb3g7XHJcblx0XHR0aGlzLmJvdW5kaW5nU3BoZXJlID0gYm91bmRpbmdCb3guZ2V0Qm91bmRpbmdTcGhlcmUoKTtcclxuXHRcdHRoaXMuY2hpbGRyZW4gPSB7fTtcclxuXHRcdHRoaXMubnVtUG9pbnRzID0gMDtcclxuXHRcdHRoaXMubGV2ZWwgPSBudWxsO1xyXG5cdFx0dGhpcy5sb2FkZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMub25lVGltZURpc3Bvc2VIYW5kbGVycyA9IFtdO1xyXG5cclxuXHRcdHRoaXMub2Zmc2V0ID0gdGhpcy5ib3VuZGluZ0JveC5taW4uY2xvbmUoKTtcclxuXHRcdC8vIGNvbnNvbGUubG9nKFwiUG9pbnRDbG91ZE9jdHJlZUdlb21ldHJ5Tm9kZTpcIiwgdGhpcy5uYW1lLCB0aGlzLm9mZnNldCk7XHJcblx0fVxyXG5cclxuXHQvLyBpc0dlb21ldHJ5Tm9kZSgpe1xyXG5cdC8vIFx0cmV0dXJuIHRydWU7XHJcblx0Ly8gfVxyXG5cclxuXHRnZXRMZXZlbCgpe1xyXG5cdFx0cmV0dXJuIHRoaXMubGV2ZWw7XHJcblx0fVxyXG5cclxuXHQvLyBpc1RyZWVOb2RlKCl7XHJcblx0Ly8gXHRyZXR1cm4gZmFsc2U7XHJcblx0Ly8gfVxyXG5cclxuXHRpc0xvYWRlZCgpe1xyXG5cdFx0cmV0dXJuIHRoaXMubG9hZGVkO1xyXG5cdH1cclxuXHJcblx0Z2V0Qm91bmRpbmdTcGhlcmUoKXtcclxuXHRcdHJldHVybiB0aGlzLmJvdW5kaW5nU3BoZXJlO1xyXG5cdH1cclxuXHJcblx0Z2V0Qm91bmRpbmdCb3goKXtcclxuXHRcdHJldHVybiB0aGlzLmJvdW5kaW5nQm94O1xyXG5cdH1cclxuXHJcblx0Z2V0Q2hpbGRyZW4oKXtcclxuXHRcdGxldCBjaGlsZHJlbiA9IFtdO1xyXG5cclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSsrKSB7XHJcblx0XHRcdGlmICh0aGlzLmNoaWxkcmVuW2ldKSB7XHJcblx0XHRcdFx0Y2hpbGRyZW4ucHVzaCh0aGlzLmNoaWxkcmVuW2ldKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBjaGlsZHJlbjtcclxuXHR9XHJcblxyXG5cdGdldFVSTCgpe1xyXG5cdFx0bGV0IHVybCA9ICcnO1xyXG5cclxuXHRcdGxldCB2ZXJzaW9uID0gdGhpcy5wY29HZW9tZXRyeS5sb2FkZXIudmVyc2lvbjtcclxuXHJcblx0XHRpZiAodmVyc2lvbi5lcXVhbE9ySGlnaGVyKCcxLjUnKSkge1xyXG5cdFx0XHR1cmwgPSB0aGlzLnBjb0dlb21ldHJ5Lm9jdHJlZURpciArICcvJyArIHRoaXMuZ2V0SGllcmFyY2h5UGF0aCgpICsgJy8nICsgdGhpcy5uYW1lO1xyXG5cdFx0fSBlbHNlIGlmICh2ZXJzaW9uLmVxdWFsT3JIaWdoZXIoJzEuNCcpKSB7XHJcblx0XHRcdHVybCA9IHRoaXMucGNvR2VvbWV0cnkub2N0cmVlRGlyICsgJy8nICsgdGhpcy5uYW1lO1xyXG5cdFx0fSBlbHNlIGlmICh2ZXJzaW9uLnVwVG8oJzEuMycpKSB7XHJcblx0XHRcdHVybCA9IHRoaXMucGNvR2VvbWV0cnkub2N0cmVlRGlyICsgJy8nICsgdGhpcy5uYW1lO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB1cmw7XHJcblx0fVxyXG5cclxuXHRnZXRIaWVyYXJjaHlQYXRoKCl7XHJcblx0XHRsZXQgcGF0aCA9ICdyLyc7XHJcblxyXG5cdFx0bGV0IGhpZXJhcmNoeVN0ZXBTaXplID0gdGhpcy5wY29HZW9tZXRyeS5oaWVyYXJjaHlTdGVwU2l6ZTtcclxuXHRcdGxldCBpbmRpY2VzID0gdGhpcy5uYW1lLnN1YnN0cigxKTtcclxuXHJcblx0XHRsZXQgbnVtUGFydHMgPSBNYXRoLmZsb29yKGluZGljZXMubGVuZ3RoIC8gaGllcmFyY2h5U3RlcFNpemUpO1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBudW1QYXJ0czsgaSsrKSB7XHJcblx0XHRcdHBhdGggKz0gaW5kaWNlcy5zdWJzdHIoaSAqIGhpZXJhcmNoeVN0ZXBTaXplLCBoaWVyYXJjaHlTdGVwU2l6ZSkgKyAnLyc7XHJcblx0XHR9XHJcblxyXG5cdFx0cGF0aCA9IHBhdGguc2xpY2UoMCwgLTEpO1xyXG5cclxuXHRcdHJldHVybiBwYXRoO1xyXG5cdH1cclxuXHJcblx0YWRkQ2hpbGQoY2hpbGQpIHtcclxuXHRcdC8vIGNvbnNvbGUubG9nKFwiUG9pbnRDbG91ZE9jdHJlZUdlb21ldHJ5Tm9kZVwiLCB0aGlzLm5hbWUsIFwiLmFkZENoaWxkOlwiLCBjaGlsZC5uYW1lKTtcclxuXHRcdHRoaXMuY2hpbGRyZW5bY2hpbGQuaW5kZXhdID0gY2hpbGQ7XHJcblx0XHRjaGlsZC5wYXJlbnQgPSB0aGlzO1xyXG5cdH1cclxuXHJcblx0c2hvdWxkTG9hZCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmxvYWRpbmcgIT09IHRydWUgJiYgdGhpcy5sb2FkZWQgIT09IHRydWU7XHJcblx0fVxyXG5cclxuXHRsb2FkKCl7XHJcblx0XHR0aGlzLmxvYWRpbmcgPSB0cnVlO1xyXG5cdFx0aWYodGhpcy5sb2FkUHJvbWlzZSlcclxuXHRcdFx0cmV0dXJuIHRoaXMubG9hZFByb21pc2VcclxuXHRcdHRoaXMubG9hZFByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KT0+e1xyXG5cdFx0Ly8gaWYgKHRoaXMubG9hZGluZyA9PT0gdHJ1ZSB8fCB0aGlzLmxvYWRlZCA9PT0gdHJ1ZSB8fCBQb3RyZWUubnVtTm9kZXNMb2FkaW5nID49IFBvdHJlZS5tYXhOb2Rlc0xvYWRpbmcpIHtcclxuXHRcdC8vIFx0cmV0dXJuO1xyXG5cdFx0Ly8gfVxyXG5cclxuXHJcblx0XHRcdG51bU5vZGVzTG9hZGluZysrO1xyXG5cclxuXHRcdFx0aWYgKHRoaXMucGNvR2VvbWV0cnkubG9hZGVyLnZlcnNpb24uZXF1YWxPckhpZ2hlcignMS41JykpIHtcclxuXHRcdFx0XHRpZiAoKHRoaXMubGV2ZWwgJSB0aGlzLnBjb0dlb21ldHJ5LmhpZXJhcmNoeVN0ZXBTaXplKSA9PT0gMCAmJiB0aGlzLmhhc0NoaWxkcmVuKSB7XHJcblx0XHRcdFx0XHR0aGlzLmxvYWRIaWVyYWNoeVRoZW5Qb2ludHMoKS50aGVuKHJlc29sdmUpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR0aGlzLmxvYWRQb2ludHMoKS50aGVuKHJlc29sdmUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLmxvYWRQb2ludHMoKS50aGVuKHJlc29sdmUpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdHJldHVybiB0aGlzLmxvYWRQcm9taXNlO1xyXG5cdH1cclxuXHJcblx0bG9hZFBvaW50cygpe1xyXG5cdFx0cmV0dXJuIHRoaXMucGNvR2VvbWV0cnkubG9hZGVyLmxvYWQodGhpcyk7XHJcblx0fVxyXG5cclxuXHRwYXJzZShkYXRhLCB2ZXJzaW9uKSB7XHJcblxyXG5cdFx0Y29uc3QgYnVmZmVycyA9IGRhdGEuYXR0cmlidXRlQnVmZmVycztcclxuXHJcblx0XHRjb25zdCBwb2ludHMgPSBuZXcgWmVhRW5naW5lLlBvaW50cygpO1xyXG5cdFx0Zm9yKGxldCBwcm9wZXJ0eSBpbiBidWZmZXJzKXtcclxuXHRcdFx0Y29uc3QgYnVmZmVyID0gYnVmZmVyc1twcm9wZXJ0eV0uYnVmZmVyO1xyXG5cdFx0XHRjb25zdCBwcm9wZXJ0eUlkID0gcGFyc2VJbnQocHJvcGVydHkpO1xyXG5cdFx0XHRpZiAocHJvcGVydHlJZCA9PT0gUG9pbnRBdHRyaWJ1dGVOYW1lcy5QT1NJVElPTl9DQVJURVNJQU4pIHtcclxuXHRcdFx0XHRjb25zdCBhdHRyID0gcG9pbnRzLmdldFZlcnRleEF0dHJpYnV0ZSgncG9zaXRpb25zJyk7XHJcblx0XHRcdFx0YXR0ci5kYXRhID0gbmV3IEZsb2F0MzJBcnJheShidWZmZXIpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHByb3BlcnR5SWQgPT09IFBvaW50QXR0cmlidXRlTmFtZXMuQ09MT1JfUEFDS0VEKSB7XHJcbiAgICBcdFx0XHRwb2ludHMuYWRkVmVydGV4QXR0cmlidXRlKCdjb2xvcnMnLCBaZWFFbmdpbmUuUkdCQSwgbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKSlcclxuXHRcdFx0fWVsc2UgaWYgKHByb3BlcnR5SWQgPT09IFBvaW50QXR0cmlidXRlTmFtZXMuSU5ESUNFUykge1xyXG4gICAgXHRcdFx0Ly8gcG9pbnRzLmFkZFZlcnRleEF0dHJpYnV0ZSgnaW5kaWNlcycsIFplYUVuZ2luZS5SR0JBLCBuZXcgVWludDhBcnJheShidWZmZXIpKVxyXG5cdFx0XHR9XHJcblx0XHRcdC8qIGVsc2UgaWYgKHByb3BlcnR5SWQgPT09IFBvaW50QXR0cmlidXRlTmFtZXMuSU5URU5TSVRZKSB7XHJcblx0XHRcdFx0Z2VvbWV0cnkuYWRkQXR0cmlidXRlKCdpbnRlbnNpdHknLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKSwgMSkpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHByb3BlcnR5SWQgPT09IFBvaW50QXR0cmlidXRlTmFtZXMuQ0xBU1NJRklDQVRJT04pIHtcclxuXHRcdFx0XHRnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ2NsYXNzaWZpY2F0aW9uJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShuZXcgVWludDhBcnJheShidWZmZXIpLCAxKSk7XHJcblx0XHRcdH0gZWxzZSBpZiAocHJvcGVydHlJZCA9PT0gUG9pbnRBdHRyaWJ1dGVOYW1lcy5SRVRVUk5fTlVNQkVSKSB7XHJcblx0XHRcdFx0Z2VvbWV0cnkuYWRkQXR0cmlidXRlKCdyZXR1cm5OdW1iZXInLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKG5ldyBVaW50OEFycmF5KGJ1ZmZlciksIDEpKTtcclxuXHRcdFx0fSBlbHNlIGlmIChwcm9wZXJ0eUlkID09PSBQb2ludEF0dHJpYnV0ZU5hbWVzLk5VTUJFUl9PRl9SRVRVUk5TKSB7XHJcblx0XHRcdFx0Z2VvbWV0cnkuYWRkQXR0cmlidXRlKCdudW1iZXJPZlJldHVybnMnLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKG5ldyBVaW50OEFycmF5KGJ1ZmZlciksIDEpKTtcclxuXHRcdFx0fSBlbHNlIGlmIChwcm9wZXJ0eUlkID09PSBQb2ludEF0dHJpYnV0ZU5hbWVzLlNPVVJDRV9JRCkge1xyXG5cdFx0XHRcdGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgncG9pbnRTb3VyY2VJRCcsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUobmV3IFVpbnQxNkFycmF5KGJ1ZmZlciksIDEpKTtcclxuXHRcdFx0fSBlbHNlIGlmIChwcm9wZXJ0eUlkID09PSBQb2ludEF0dHJpYnV0ZU5hbWVzLk5PUk1BTF9TUEhFUkVNQVBQRUQpIHtcclxuXHRcdFx0XHRnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ25vcm1hbCcsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUobmV3IEZsb2F0MzJBcnJheShidWZmZXIpLCAzKSk7XHJcblx0XHRcdH0gZWxzZSBpZiAocHJvcGVydHlJZCA9PT0gUG9pbnRBdHRyaWJ1dGVOYW1lcy5OT1JNQUxfT0NUMTYpIHtcclxuXHRcdFx0XHRnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ25vcm1hbCcsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUobmV3IEZsb2F0MzJBcnJheShidWZmZXIpLCAzKSk7XHJcblx0XHRcdH0gZWxzZSBpZiAocHJvcGVydHlJZCA9PT0gUG9pbnRBdHRyaWJ1dGVOYW1lcy5OT1JNQUwpIHtcclxuXHRcdFx0XHRnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ25vcm1hbCcsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUobmV3IEZsb2F0MzJBcnJheShidWZmZXIpLCAzKSk7XHJcblx0XHRcdH0gZWxzZSBpZiAocHJvcGVydHlJZCA9PT0gUG9pbnRBdHRyaWJ1dGVOYW1lcy5TUEFDSU5HKSB7XHJcblx0XHRcdFx0Y29uc3QgYnVmZmVyQXR0cmlidXRlID0gbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlciksIDEpO1xyXG5cdFx0XHRcdGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgnc3BhY2luZycsIGJ1ZmZlckF0dHJpYnV0ZSk7XHJcblx0XHRcdH0gZWxzZSBpZiAocHJvcGVydHlJZCA9PT0gUG9pbnRBdHRyaWJ1dGVOYW1lcy5HUFNfVElNRSkge1xyXG5cdFx0XHRcdGNvbnN0IGJ1ZmZlckF0dHJpYnV0ZSA9IG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUobmV3IEZsb2F0MzJBcnJheShidWZmZXIpLCAxKTtcclxuXHRcdFx0XHRnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ2dwc1RpbWUnLCBidWZmZXJBdHRyaWJ1dGUpO1xyXG5cclxuXHRcdFx0XHR0aGlzLmdwc1RpbWUgPSB7XHJcblx0XHRcdFx0XHRvZmZzZXQ6IGJ1ZmZlcnNbcHJvcGVydHldLm9mZnNldCxcclxuXHRcdFx0XHRcdHJhbmdlOiBidWZmZXJzW3Byb3BlcnR5XS5yYW5nZSxcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9Ki9cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0bGV0IG5hbWU7XHJcblx0XHRcdFx0Zm9yIChsZXQga2V5IGluIFBvaW50QXR0cmlidXRlTmFtZXMpIHtcclxuXHRcdFx0XHRcdGlmIChQb2ludEF0dHJpYnV0ZU5hbWVzW2tleV0gPT0gcHJvcGVydHlJZCkge1xyXG5cdFx0XHRcdFx0XHRuYW1lID0ga2V5O1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Y29uc29sZS53YXJuKFwiVW5hbmRsZWQgUG9pbnQgQXR0cmlidXRlOlwiLCBuYW1lKTsgXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHRoaXMucG9pbnRzID0gcG9pbnRzO1xyXG5cdFx0Ly8gY29uc3QgbWluID0gZGF0YS50aWdodEJvdW5kaW5nQm94Lm1pblxyXG5cdFx0Ly8gdGhpcy5vZmZzZXQgPSBuZXcgWmVhRW5naW5lLlZlYzMobWluWzBdLCBtaW5bMV0sIG1pblsyXSk7XHJcblx0XHQvLyBjb25zb2xlLmxvZyhkYXRhLnRpZ2h0Qm91bmRpbmdCb3gubWluKTtcclxuXHJcblx0XHRjb25zdCB0aWdodEJvdW5kaW5nQm94ID0gbmV3IFplYUVuZ2luZS5Cb3gzKFxyXG5cdFx0XHRuZXcgWmVhRW5naW5lLlZlYzMoLi4uZGF0YS50aWdodEJvdW5kaW5nQm94Lm1pbiksXHJcblx0XHRcdG5ldyBaZWFFbmdpbmUuVmVjMyguLi5kYXRhLnRpZ2h0Qm91bmRpbmdCb3gubWF4KVxyXG5cdFx0KTtcclxuXHRcdHRpZ2h0Qm91bmRpbmdCb3gubWF4LnN1YnRyYWN0KHRpZ2h0Qm91bmRpbmdCb3gubWluKTtcclxuXHRcdHRpZ2h0Qm91bmRpbmdCb3gubWluLnNldCgwLCAwLCAwKTtcclxuXHJcblx0XHRcclxuXHRcdGxldCBwb2ludEF0dHJpYnV0ZXMgPSB0aGlzLnBjb0dlb21ldHJ5LnBvaW50QXR0cmlidXRlcztcclxuXHRcdGNvbnN0IG51bVBvaW50cyA9IGRhdGEuYnVmZmVyLmJ5dGVMZW5ndGggLyBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemU7XHJcblx0XHRcclxuXHRcdHRoaXMubnVtUG9pbnRzID0gbnVtUG9pbnRzO1xyXG5cdFx0dGhpcy5tZWFuID0gbmV3IFplYUVuZ2luZS5WZWMzKC4uLmRhdGEubWVhbik7XHJcblx0XHR0aGlzLnRpZ2h0Qm91bmRpbmdCb3ggPSB0aWdodEJvdW5kaW5nQm94O1xyXG5cdFx0dGhpcy5sb2FkZWQgPSB0cnVlO1xyXG5cdFx0dGhpcy5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHR0aGlzLmVzdGltYXRlZFNwYWNpbmcgPSBkYXRhLmVzdGltYXRlZFNwYWNpbmc7XHJcblx0XHRudW1Ob2Rlc0xvYWRpbmctLTtcclxuXHJcblx0XHR0aGlzLmRpc3BhdGNoRXZlbnQoJ2xvYWRlZCcsIHtcclxuXHRcdFx0bnVtUG9pbnRzXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGxvYWRIaWVyYWNoeVRoZW5Qb2ludHMoKXtcclxuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KT0+e1xyXG5cdFx0bGV0IG5vZGUgPSB0aGlzO1xyXG5cclxuXHRcdC8vIGxvYWQgaGllcmFyY2h5XHJcblx0XHRsZXQgY2FsbGJhY2sgPSBmdW5jdGlvbiAobm9kZSwgaGJ1ZmZlcikge1xyXG5cdFx0XHRsZXQgdmlldyA9IG5ldyBEYXRhVmlldyhoYnVmZmVyKTtcclxuXHJcblx0XHRcdGxldCBzdGFjayA9IFtdO1xyXG5cdFx0XHRsZXQgY2hpbGRyZW4gPSB2aWV3LmdldFVpbnQ4KDApO1xyXG5cdFx0XHRsZXQgbnVtUG9pbnRzID0gdmlldy5nZXRVaW50MzIoMSwgdHJ1ZSk7XHJcblx0XHRcdG5vZGUubnVtUG9pbnRzID0gbnVtUG9pbnRzO1xyXG5cdFx0XHRzdGFjay5wdXNoKHtjaGlsZHJlbjogY2hpbGRyZW4sIG51bVBvaW50czogbnVtUG9pbnRzLCBuYW1lOiBub2RlLm5hbWV9KTtcclxuXHJcblx0XHRcdGxldCBkZWNvZGVkID0gW107XHJcblxyXG5cdFx0XHRsZXQgb2Zmc2V0ID0gNTtcclxuXHRcdFx0d2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRsZXQgc25vZGUgPSBzdGFjay5zaGlmdCgpO1xyXG5cdFx0XHRcdGxldCBtYXNrID0gMTtcclxuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkrKykge1xyXG5cdFx0XHRcdFx0aWYgKChzbm9kZS5jaGlsZHJlbiAmIG1hc2spICE9PSAwKSB7XHJcblx0XHRcdFx0XHRcdGxldCBjaGlsZE5hbWUgPSBzbm9kZS5uYW1lICsgaTtcclxuXHJcblx0XHRcdFx0XHRcdGxldCBjaGlsZENoaWxkcmVuID0gdmlldy5nZXRVaW50OChvZmZzZXQpO1xyXG5cdFx0XHRcdFx0XHRsZXQgY2hpbGROdW1Qb2ludHMgPSB2aWV3LmdldFVpbnQzMihvZmZzZXQgKyAxLCB0cnVlKTtcclxuXHJcblx0XHRcdFx0XHRcdHN0YWNrLnB1c2goe2NoaWxkcmVuOiBjaGlsZENoaWxkcmVuLCBudW1Qb2ludHM6IGNoaWxkTnVtUG9pbnRzLCBuYW1lOiBjaGlsZE5hbWV9KTtcclxuXHJcblx0XHRcdFx0XHRcdGRlY29kZWQucHVzaCh7Y2hpbGRyZW46IGNoaWxkQ2hpbGRyZW4sIG51bVBvaW50czogY2hpbGROdW1Qb2ludHMsIG5hbWU6IGNoaWxkTmFtZX0pO1xyXG5cclxuXHRcdFx0XHRcdFx0b2Zmc2V0ICs9IDU7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0bWFzayA9IG1hc2sgKiAyO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKG9mZnNldCA9PT0gaGJ1ZmZlci5ieXRlTGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKGRlY29kZWQpO1xyXG5cclxuXHRcdFx0bGV0IG5vZGVzID0ge307XHJcblx0XHRcdG5vZGVzW25vZGUubmFtZV0gPSBub2RlO1xyXG5cdFx0XHRsZXQgcGNvID0gbm9kZS5wY29HZW9tZXRyeTtcclxuXHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZGVjb2RlZC5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGxldCBuYW1lID0gZGVjb2RlZFtpXS5uYW1lO1xyXG5cdFx0XHRcdGxldCBkZWNvZGVkTnVtUG9pbnRzID0gZGVjb2RlZFtpXS5udW1Qb2ludHM7XHJcblx0XHRcdFx0bGV0IGluZGV4ID0gcGFyc2VJbnQobmFtZS5jaGFyQXQobmFtZS5sZW5ndGggLSAxKSk7XHJcblx0XHRcdFx0bGV0IHBhcmVudE5hbWUgPSBuYW1lLnN1YnN0cmluZygwLCBuYW1lLmxlbmd0aCAtIDEpO1xyXG5cdFx0XHRcdGxldCBwYXJlbnROb2RlID0gbm9kZXNbcGFyZW50TmFtZV07XHJcblx0XHRcdFx0bGV0IGxldmVsID0gbmFtZS5sZW5ndGggLSAxO1xyXG5cdFx0XHRcdGxldCBib3VuZGluZ0JveCA9IFV0aWxzLmNyZWF0ZUNoaWxkQUFCQihwYXJlbnROb2RlLmJvdW5kaW5nQm94LCBpbmRleCk7XHJcblxyXG5cdFx0XHRcdGxldCBjdXJyZW50Tm9kZSA9IG5ldyBQb2ludENsb3VkT2N0cmVlR2VvbWV0cnlOb2RlKG5hbWUsIHBjbywgYm91bmRpbmdCb3gpO1xyXG5cdFx0XHRcdGN1cnJlbnROb2RlLmxldmVsID0gbGV2ZWw7XHJcblx0XHRcdFx0Y3VycmVudE5vZGUubnVtUG9pbnRzID0gZGVjb2RlZE51bVBvaW50cztcclxuXHRcdFx0XHRjdXJyZW50Tm9kZS5oYXNDaGlsZHJlbiA9IGRlY29kZWRbaV0uY2hpbGRyZW4gPiAwO1xyXG5cdFx0XHRcdGN1cnJlbnROb2RlLnNwYWNpbmcgPSBwY28uc3BhY2luZyAvIE1hdGgucG93KDIsIGxldmVsKTtcclxuXHRcdFx0XHRwYXJlbnROb2RlLmFkZENoaWxkKGN1cnJlbnROb2RlKTtcclxuXHRcdFx0XHRub2Rlc1tuYW1lXSA9IGN1cnJlbnROb2RlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRub2RlLmxvYWRQb2ludHMoKS50aGVuKCgpPT57XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0XHRpZiAoKG5vZGUubGV2ZWwgJSBub2RlLnBjb0dlb21ldHJ5LmhpZXJhcmNoeVN0ZXBTaXplKSA9PT0gMCkge1xyXG5cdFx0XHQvLyBsZXQgaHVybCA9IG5vZGUucGNvR2VvbWV0cnkub2N0cmVlRGlyICsgXCIvLi4vaGllcmFyY2h5L1wiICsgbm9kZS5uYW1lICsgXCIuaHJjXCI7XHJcblx0XHRcdGxldCBodXJsID0gbm9kZS5wY29HZW9tZXRyeS5vY3RyZWVEaXIgKyAnLycgKyBub2RlLmdldEhpZXJhcmNoeVBhdGgoKSArICcvJyArIG5vZGUubmFtZSArICcuaHJjJztcclxuXHJcblx0XHRcdGxldCB4aHIgPSBYSFJGYWN0b3J5LmNyZWF0ZVhNTEh0dHBSZXF1ZXN0KCk7XHJcblx0XHRcdHhoci5vcGVuKCdHRVQnLCBodXJsLCB0cnVlKTtcclxuXHRcdFx0eGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XHJcblx0XHRcdHhoci5vdmVycmlkZU1pbWVUeXBlKCd0ZXh0L3BsYWluOyBjaGFyc2V0PXgtdXNlci1kZWZpbmVkJyk7XHJcblx0XHRcdHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XHJcblx0XHRcdFx0XHRpZiAoeGhyLnN0YXR1cyA9PT0gMjAwIHx8IHhoci5zdGF0dXMgPT09IDApIHtcclxuXHRcdFx0XHRcdFx0bGV0IGhidWZmZXIgPSB4aHIucmVzcG9uc2U7XHJcblx0XHRcdFx0XHRcdGNhbGxiYWNrKG5vZGUsIGhidWZmZXIpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgbXNnID0gJ0ZhaWxlZCB0byBsb2FkIGZpbGUhIEhUVFAgc3RhdHVzOiAnICsgeGhyLnN0YXR1cyArICcsIGZpbGU6ICcgKyBodXJsO1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhtc2cpO1xyXG5cdFx0XHRcdFx0XHRQb3RyZWUubnVtTm9kZXNMb2FkaW5nLS07XHJcblx0XHRcdFx0XHRcdHJlamVjdChtc2cpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHR4aHIuc2VuZChudWxsKTtcclxuXHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdmZWhsZXIgYmVpbSBsYWRlbiBkZXIgcHVua3R3b2xrZTogJyArIGUpO1xyXG5cdFx0XHRcdHJlamVjdCgnZmVobGVyIGJlaW0gbGFkZW4gZGVyIHB1bmt0d29sa2U6ICcgKyBlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRnZXROdW1Qb2ludHMoKXtcclxuXHRcdHJldHVybiB0aGlzLm51bVBvaW50cztcclxuXHR9XHJcblxyXG5cdGRpc3Bvc2UoKXtcclxuXHRcdGlmICh0aGlzLmdlb21ldHJ5ICYmIHRoaXMucGFyZW50ICE9IG51bGwpIHtcclxuXHRcdFx0dGhpcy5nZW9tZXRyeS5kaXNwb3NlKCk7XHJcblx0XHRcdHRoaXMuZ2VvbWV0cnkgPSBudWxsO1xyXG5cdFx0XHR0aGlzLmxvYWRlZCA9IGZhbHNlO1xyXG5cdFx0XHR0aGlzLmxvYWRQcm9taXNlID0gbnVsbDtcclxuXHJcblx0XHRcdC8vIHRoaXMuZGlzcGF0Y2hFdmVudCggeyB0eXBlOiAnZGlzcG9zZScgfSApO1xyXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub25lVGltZURpc3Bvc2VIYW5kbGVycy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGxldCBoYW5kbGVyID0gdGhpcy5vbmVUaW1lRGlzcG9zZUhhbmRsZXJzW2ldO1xyXG5cdFx0XHRcdGhhbmRsZXIoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLm9uZVRpbWVEaXNwb3NlSGFuZGxlcnMgPSBbXTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcbn1cclxuXHJcblBvaW50Q2xvdWRPY3RyZWVHZW9tZXRyeU5vZGUuSURDb3VudCA9IDA7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/PointCloudOctreeGeometry.js\n");

/***/ }),

/***/ "./src/PointCloudTree.js":
/*!*******************************!*\
  !*** ./src/PointCloudTree.js ***!
  \*******************************/
/*! exports provided: PointCloudTreeNode */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PointCloudTreeNode\", function() { return PointCloudTreeNode; });\n/* harmony import */ var _EventDispatcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EventDispatcher */ \"./src/EventDispatcher.js\");\n\r\n\r\n\r\n\r\n\r\nclass PointCloudTreeNode extends _EventDispatcher__WEBPACK_IMPORTED_MODULE_0__[\"EventDispatcher\"]{\r\n\r\n\tconstructor(){\r\n\t\tsuper();\r\n\t\t// this.needsTransformUpdate = true;// Never used.\r\n\t}\r\n\r\n\tgetChildren () {\r\n\t\tthrow new Error('override function');\r\n\t}\r\n\r\n\tgetBoundingBox () {\r\n\t\tthrow new Error('override function');\r\n\t}\r\n\r\n\tisLoaded () {\r\n\t\tthrow new Error('override function');\r\n\t}\r\n\r\n\tisGeometryNode () {\r\n\t\tthrow new Error('override function');\r\n\t}\r\n\r\n\tisTreeNode () {\r\n\t\tthrow new Error('override function');\r\n\t}\r\n\r\n\tgetLevel () {\r\n\t\tthrow new Error('override function');\r\n\t}\r\n\r\n\tgetBoundingSphere () {\r\n\t\tthrow new Error('override function');\r\n\t}\r\n};\r\n\r\n/*\r\nexport class PointCloudTree extends THREE.Object3D {\r\n\tconstructor () {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tinitialized () {\r\n\t\treturn this.root !== null;\r\n\t}\r\n};\r\n*///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9zcmMvUG9pbnRDbG91ZFRyZWUuanM/YjRlMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUVvRDs7O0FBRzdDLGlDQUFpQyxnRUFBZTs7QUFFdkQ7QUFDQTtBQUNBLHNDQUFzQztBQUN0Qzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9zcmMvUG9pbnRDbG91ZFRyZWUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuXHJcbmltcG9ydCB7IEV2ZW50RGlzcGF0Y2hlciB9IGZyb20gXCIuL0V2ZW50RGlzcGF0Y2hlclwiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBQb2ludENsb3VkVHJlZU5vZGUgZXh0ZW5kcyBFdmVudERpc3BhdGNoZXJ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCl7XHJcblx0XHRzdXBlcigpO1xyXG5cdFx0Ly8gdGhpcy5uZWVkc1RyYW5zZm9ybVVwZGF0ZSA9IHRydWU7Ly8gTmV2ZXIgdXNlZC5cclxuXHR9XHJcblxyXG5cdGdldENoaWxkcmVuICgpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcignb3ZlcnJpZGUgZnVuY3Rpb24nKTtcclxuXHR9XHJcblxyXG5cdGdldEJvdW5kaW5nQm94ICgpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcignb3ZlcnJpZGUgZnVuY3Rpb24nKTtcclxuXHR9XHJcblxyXG5cdGlzTG9hZGVkICgpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcignb3ZlcnJpZGUgZnVuY3Rpb24nKTtcclxuXHR9XHJcblxyXG5cdGlzR2VvbWV0cnlOb2RlICgpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcignb3ZlcnJpZGUgZnVuY3Rpb24nKTtcclxuXHR9XHJcblxyXG5cdGlzVHJlZU5vZGUgKCkge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKCdvdmVycmlkZSBmdW5jdGlvbicpO1xyXG5cdH1cclxuXHJcblx0Z2V0TGV2ZWwgKCkge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKCdvdmVycmlkZSBmdW5jdGlvbicpO1xyXG5cdH1cclxuXHJcblx0Z2V0Qm91bmRpbmdTcGhlcmUgKCkge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKCdvdmVycmlkZSBmdW5jdGlvbicpO1xyXG5cdH1cclxufTtcclxuXHJcbi8qXHJcbmV4cG9ydCBjbGFzcyBQb2ludENsb3VkVHJlZSBleHRlbmRzIFRIUkVFLk9iamVjdDNEIHtcclxuXHRjb25zdHJ1Y3RvciAoKSB7XHJcblx0XHRzdXBlcigpO1xyXG5cdH1cclxuXHJcblx0aW5pdGlhbGl6ZWQgKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMucm9vdCAhPT0gbnVsbDtcclxuXHR9XHJcbn07XHJcbiovIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/PointCloudTree.js\n");

/***/ }),

/***/ "./src/Version.js":
/*!************************!*\
  !*** ./src/Version.js ***!
  \************************/
/*! exports provided: Version */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Version\", function() { return Version; });\n\r\nclass Version{\r\n\r\n\tconstructor(version){\r\n\t\tthis.version = version;\r\n\t\tlet vmLength = (version.indexOf('.') === -1) ? version.length : version.indexOf('.');\r\n\t\tthis.versionMajor = parseInt(version.substr(0, vmLength));\r\n\t\tthis.versionMinor = parseInt(version.substr(vmLength + 1));\r\n\t\tif (this.versionMinor.length === 0) {\r\n\t\t\tthis.versionMinor = 0;\r\n\t\t}\r\n\t}\r\n\r\n\tnewerThan(version){\r\n\t\tlet v = new Version(version);\r\n\r\n\t\tif (this.versionMajor > v.versionMajor) {\r\n\t\t\treturn true;\r\n\t\t} else if (this.versionMajor === v.versionMajor && this.versionMinor > v.versionMinor) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tequalOrHigher(version){\r\n\t\tlet v = new Version(version);\r\n\r\n\t\tif (this.versionMajor > v.versionMajor) {\r\n\t\t\treturn true;\r\n\t\t} else if (this.versionMajor === v.versionMajor && this.versionMinor >= v.versionMinor) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tupTo(version){\r\n\t\treturn !this.newerThan(version);\r\n\t}\r\n\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9zcmMvVmVyc2lvbi5qcz9kMzY3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vc3JjL1ZlcnNpb24uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuZXhwb3J0IGNsYXNzIFZlcnNpb257XHJcblxyXG5cdGNvbnN0cnVjdG9yKHZlcnNpb24pe1xyXG5cdFx0dGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcclxuXHRcdGxldCB2bUxlbmd0aCA9ICh2ZXJzaW9uLmluZGV4T2YoJy4nKSA9PT0gLTEpID8gdmVyc2lvbi5sZW5ndGggOiB2ZXJzaW9uLmluZGV4T2YoJy4nKTtcclxuXHRcdHRoaXMudmVyc2lvbk1ham9yID0gcGFyc2VJbnQodmVyc2lvbi5zdWJzdHIoMCwgdm1MZW5ndGgpKTtcclxuXHRcdHRoaXMudmVyc2lvbk1pbm9yID0gcGFyc2VJbnQodmVyc2lvbi5zdWJzdHIodm1MZW5ndGggKyAxKSk7XHJcblx0XHRpZiAodGhpcy52ZXJzaW9uTWlub3IubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdHRoaXMudmVyc2lvbk1pbm9yID0gMDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdG5ld2VyVGhhbih2ZXJzaW9uKXtcclxuXHRcdGxldCB2ID0gbmV3IFZlcnNpb24odmVyc2lvbik7XHJcblxyXG5cdFx0aWYgKHRoaXMudmVyc2lvbk1ham9yID4gdi52ZXJzaW9uTWFqb3IpIHtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9IGVsc2UgaWYgKHRoaXMudmVyc2lvbk1ham9yID09PSB2LnZlcnNpb25NYWpvciAmJiB0aGlzLnZlcnNpb25NaW5vciA+IHYudmVyc2lvbk1pbm9yKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0ZXF1YWxPckhpZ2hlcih2ZXJzaW9uKXtcclxuXHRcdGxldCB2ID0gbmV3IFZlcnNpb24odmVyc2lvbik7XHJcblxyXG5cdFx0aWYgKHRoaXMudmVyc2lvbk1ham9yID4gdi52ZXJzaW9uTWFqb3IpIHtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9IGVsc2UgaWYgKHRoaXMudmVyc2lvbk1ham9yID09PSB2LnZlcnNpb25NYWpvciAmJiB0aGlzLnZlcnNpb25NaW5vciA+PSB2LnZlcnNpb25NaW5vcikge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHVwVG8odmVyc2lvbil7XHJcblx0XHRyZXR1cm4gIXRoaXMubmV3ZXJUaGFuKHZlcnNpb24pO1xyXG5cdH1cclxuXHJcbn1cclxuXHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Version.js\n");

/***/ }),

/***/ "./src/WorkerPool.js":
/*!***************************!*\
  !*** ./src/WorkerPool.js ***!
  \***************************/
/*! exports provided: workerPool */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"workerPool\", function() { return workerPool; });\n\r\n\r\nclass WorkerPool{\r\n\tconstructor(){\r\n\t\tthis.workers = {};\r\n\t}\r\n\r\n\tgetWorker(workerCls){\r\n\t\t\r\n\t\tif (!this.workers[workerCls]){\r\n\t\t\tthis.workers[workerCls] = [];\r\n\t\t}\r\n\r\n\t\tif (this.workers[workerCls].length === 0){\r\n\t\t\tlet worker = new workerCls();\r\n\t\t\tthis.workers[workerCls].push(worker);\r\n\t\t}\r\n\r\n\t\tlet worker = this.workers[workerCls].pop();\r\n\r\n\t\treturn worker;\r\n\t}\r\n\r\n\treturnWorker(workerCls, worker){\r\n\t\tthis.workers[workerCls].push(worker);\r\n\t}\r\n};\r\n\r\nconst workerPool = new WorkerPool();\r\n\r\n//Potree.workerPool = new Potree.WorkerPool();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9zcmMvV29ya2VyUG9vbC5qcz8wOTJkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNxQjtBQUNyQiIsImZpbGUiOiIuL3NyYy9Xb3JrZXJQb29sLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG5jbGFzcyBXb3JrZXJQb29se1xyXG5cdGNvbnN0cnVjdG9yKCl7XHJcblx0XHR0aGlzLndvcmtlcnMgPSB7fTtcclxuXHR9XHJcblxyXG5cdGdldFdvcmtlcih3b3JrZXJDbHMpe1xyXG5cdFx0XHJcblx0XHRpZiAoIXRoaXMud29ya2Vyc1t3b3JrZXJDbHNdKXtcclxuXHRcdFx0dGhpcy53b3JrZXJzW3dvcmtlckNsc10gPSBbXTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy53b3JrZXJzW3dvcmtlckNsc10ubGVuZ3RoID09PSAwKXtcclxuXHRcdFx0bGV0IHdvcmtlciA9IG5ldyB3b3JrZXJDbHMoKTtcclxuXHRcdFx0dGhpcy53b3JrZXJzW3dvcmtlckNsc10ucHVzaCh3b3JrZXIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCB3b3JrZXIgPSB0aGlzLndvcmtlcnNbd29ya2VyQ2xzXS5wb3AoKTtcclxuXHJcblx0XHRyZXR1cm4gd29ya2VyO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuV29ya2VyKHdvcmtlckNscywgd29ya2VyKXtcclxuXHRcdHRoaXMud29ya2Vyc1t3b3JrZXJDbHNdLnB1c2god29ya2VyKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCB3b3JrZXJQb29sID0gbmV3IFdvcmtlclBvb2woKTtcclxuZXhwb3J0IHsgd29ya2VyUG9vbCB9XHJcbi8vUG90cmVlLndvcmtlclBvb2wgPSBuZXcgUG90cmVlLldvcmtlclBvb2woKTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/WorkerPool.js\n");

/***/ }),

/***/ "./src/XHRFactory.js":
/*!***************************!*\
  !*** ./src/XHRFactory.js ***!
  \***************************/
/*! exports provided: XHRFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"XHRFactory\", function() { return XHRFactory; });\n\r\nconst XHRFactory = {\r\n\tconfig: {\r\n\t\twithCredentials: false,\r\n\t\tcustomHeaders: [\r\n\t\t\t{ header: null, value: null }\r\n\t\t]\r\n\t},\r\n\r\n\tcreateXMLHttpRequest: function () {\r\n\t\tlet xhr = new XMLHttpRequest();\r\n\r\n\t\tif (this.config.customHeaders &&\r\n\t\t\tArray.isArray(this.config.customHeaders) &&\r\n\t\t\tthis.config.customHeaders.length > 0) {\r\n\t\t\tlet baseOpen = xhr.open;\r\n\t\t\tlet customHeaders = this.config.customHeaders;\r\n\t\t\txhr.open = function () {\r\n\t\t\t\tbaseOpen.apply(this, [].slice.call(arguments));\r\n\t\t\t\tcustomHeaders.forEach(function (customHeader) {\r\n\t\t\t\t\tif (!!customHeader.header && !!customHeader.value) {\r\n\t\t\t\t\t\txhr.setRequestHeader(customHeader.header, customHeader.value);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn xhr;\r\n\t}\r\n};\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9zcmMvWEhSRmFjdG9yeS5qcz80YmFmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9zcmMvWEhSRmFjdG9yeS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5jb25zdCBYSFJGYWN0b3J5ID0ge1xyXG5cdGNvbmZpZzoge1xyXG5cdFx0d2l0aENyZWRlbnRpYWxzOiBmYWxzZSxcclxuXHRcdGN1c3RvbUhlYWRlcnM6IFtcclxuXHRcdFx0eyBoZWFkZXI6IG51bGwsIHZhbHVlOiBudWxsIH1cclxuXHRcdF1cclxuXHR9LFxyXG5cclxuXHRjcmVhdGVYTUxIdHRwUmVxdWVzdDogZnVuY3Rpb24gKCkge1xyXG5cdFx0bGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cclxuXHRcdGlmICh0aGlzLmNvbmZpZy5jdXN0b21IZWFkZXJzICYmXHJcblx0XHRcdEFycmF5LmlzQXJyYXkodGhpcy5jb25maWcuY3VzdG9tSGVhZGVycykgJiZcclxuXHRcdFx0dGhpcy5jb25maWcuY3VzdG9tSGVhZGVycy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdGxldCBiYXNlT3BlbiA9IHhoci5vcGVuO1xyXG5cdFx0XHRsZXQgY3VzdG9tSGVhZGVycyA9IHRoaXMuY29uZmlnLmN1c3RvbUhlYWRlcnM7XHJcblx0XHRcdHhoci5vcGVuID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdGJhc2VPcGVuLmFwcGx5KHRoaXMsIFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XHJcblx0XHRcdFx0Y3VzdG9tSGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uIChjdXN0b21IZWFkZXIpIHtcclxuXHRcdFx0XHRcdGlmICghIWN1c3RvbUhlYWRlci5oZWFkZXIgJiYgISFjdXN0b21IZWFkZXIudmFsdWUpIHtcclxuXHRcdFx0XHRcdFx0eGhyLnNldFJlcXVlc3RIZWFkZXIoY3VzdG9tSGVhZGVyLmhlYWRlciwgY3VzdG9tSGVhZGVyLnZhbHVlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4geGhyO1xyXG5cdH1cclxufTtcclxuXHJcbmV4cG9ydCB7WEhSRmFjdG9yeX07Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/XHRFactory.js\n");

/***/ }),

/***/ "./src/defines.js":
/*!************************!*\
  !*** ./src/defines.js ***!
  \************************/
/*! exports provided: CameraMode, ClipTask, ClipMethod, MOUSE, PointSizeType, PointShape, PointColorType, TreeType, LengthUnits */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CameraMode\", function() { return CameraMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ClipTask\", function() { return ClipTask; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ClipMethod\", function() { return ClipMethod; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MOUSE\", function() { return MOUSE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PointSizeType\", function() { return PointSizeType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PointShape\", function() { return PointShape; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PointColorType\", function() { return PointColorType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TreeType\", function() { return TreeType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LengthUnits\", function() { return LengthUnits; });\n/* harmony import */ var _Enum_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Enum.js */ \"./src/Enum.js\");\n\r\n\r\n\r\n\r\nconst CameraMode = {\r\n\tORTHOGRAPHIC: 0,\r\n\tPERSPECTIVE: 1,\r\n\tVR: 2,\r\n};\r\n\r\nconst ClipTask = {\r\n\tNONE: 0,\r\n\tHIGHLIGHT: 1,\r\n\tSHOW_INSIDE: 2,\r\n\tSHOW_OUTSIDE: 3\r\n};\r\n\r\nconst ClipMethod = {\r\n\tINSIDE_ANY: 0,\r\n\tINSIDE_ALL: 1\r\n};\r\n\r\nconst MOUSE = {\r\n\tLEFT: 0b0001,\r\n\tRIGHT: 0b0010,\r\n\tMIDDLE: 0b0100\r\n};\r\n\r\nconst PointSizeType = {\r\n\tFIXED: 0,\r\n\tATTENUATED: 1,\r\n\tADAPTIVE: 2\r\n};\r\n\r\nconst PointShape = {\r\n\tSQUARE: 0,\r\n\tCIRCLE: 1,\r\n\tPARABOLOID: 2\r\n};\r\n\r\nconst PointColorType = {\r\n\tRGB: 0,\r\n\tCOLOR: 1,\r\n\tDEPTH: 2,\r\n\tHEIGHT: 3,\r\n\tELEVATION: 3,\r\n\tINTENSITY: 4,\r\n\tINTENSITY_GRADIENT:\t5,\r\n\tLOD: 6,\r\n\tLEVEL_OF_DETAIL: 6,\r\n\tPOINT_INDEX: 7,\r\n\tCLASSIFICATION: 8,\r\n\tRETURN_NUMBER: 9,\r\n\tSOURCE: 10,\r\n\tNORMAL: 11,\r\n\tPHONG: 12,\r\n\tRGB_HEIGHT: 13,\r\n\tGPS_TIME: 14,\r\n\tMATCAP: 15,\r\n\tCOMPOSITE: 50\r\n};\r\n\r\nconst TreeType = {\r\n\tOCTREE:\t0,\r\n\tKDTREE:\t1\r\n};\r\n\r\nconst LengthUnits = {\r\n\tMETER: {code: 'm', unitspermeter: 1.0},\r\n\tFEET: {code: 'ft', unitspermeter: 3.28084},\r\n\tINCH: {code: '\\u2033', unitspermeter: 39.3701}\r\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9zcmMvZGVmaW5lcy5qcz83YWU0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUMrQjs7O0FBR3hCO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTs7QUFFTztBQUNQLFNBQVMsOEJBQThCO0FBQ3ZDLFFBQVEsbUNBQW1DO0FBQzNDLFFBQVE7QUFDUiIsImZpbGUiOiIuL3NyYy9kZWZpbmVzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCB7RW51bX0gZnJvbSBcIi4vRW51bS5qc1wiO1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBDYW1lcmFNb2RlID0ge1xyXG5cdE9SVEhPR1JBUEhJQzogMCxcclxuXHRQRVJTUEVDVElWRTogMSxcclxuXHRWUjogMixcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBDbGlwVGFzayA9IHtcclxuXHROT05FOiAwLFxyXG5cdEhJR0hMSUdIVDogMSxcclxuXHRTSE9XX0lOU0lERTogMixcclxuXHRTSE9XX09VVFNJREU6IDNcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBDbGlwTWV0aG9kID0ge1xyXG5cdElOU0lERV9BTlk6IDAsXHJcblx0SU5TSURFX0FMTDogMVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IE1PVVNFID0ge1xyXG5cdExFRlQ6IDBiMDAwMSxcclxuXHRSSUdIVDogMGIwMDEwLFxyXG5cdE1JRERMRTogMGIwMTAwXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgUG9pbnRTaXplVHlwZSA9IHtcclxuXHRGSVhFRDogMCxcclxuXHRBVFRFTlVBVEVEOiAxLFxyXG5cdEFEQVBUSVZFOiAyXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgUG9pbnRTaGFwZSA9IHtcclxuXHRTUVVBUkU6IDAsXHJcblx0Q0lSQ0xFOiAxLFxyXG5cdFBBUkFCT0xPSUQ6IDJcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBQb2ludENvbG9yVHlwZSA9IHtcclxuXHRSR0I6IDAsXHJcblx0Q09MT1I6IDEsXHJcblx0REVQVEg6IDIsXHJcblx0SEVJR0hUOiAzLFxyXG5cdEVMRVZBVElPTjogMyxcclxuXHRJTlRFTlNJVFk6IDQsXHJcblx0SU5URU5TSVRZX0dSQURJRU5UOlx0NSxcclxuXHRMT0Q6IDYsXHJcblx0TEVWRUxfT0ZfREVUQUlMOiA2LFxyXG5cdFBPSU5UX0lOREVYOiA3LFxyXG5cdENMQVNTSUZJQ0FUSU9OOiA4LFxyXG5cdFJFVFVSTl9OVU1CRVI6IDksXHJcblx0U09VUkNFOiAxMCxcclxuXHROT1JNQUw6IDExLFxyXG5cdFBIT05HOiAxMixcclxuXHRSR0JfSEVJR0hUOiAxMyxcclxuXHRHUFNfVElNRTogMTQsXHJcblx0TUFUQ0FQOiAxNSxcclxuXHRDT01QT1NJVEU6IDUwXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgVHJlZVR5cGUgPSB7XHJcblx0T0NUUkVFOlx0MCxcclxuXHRLRFRSRUU6XHQxXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgTGVuZ3RoVW5pdHMgPSB7XHJcblx0TUVURVI6IHtjb2RlOiAnbScsIHVuaXRzcGVybWV0ZXI6IDEuMH0sXHJcblx0RkVFVDoge2NvZGU6ICdmdCcsIHVuaXRzcGVybWV0ZXI6IDMuMjgwODR9LFxyXG5cdElOQ0g6IHtjb2RlOiAnXFx1MjAzMycsIHVuaXRzcGVybWV0ZXI6IDM5LjM3MDF9XHJcbn07Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/defines.js\n");

/***/ }),

/***/ "./src/loader/BinaryLoader.js":
/*!************************************!*\
  !*** ./src/loader/BinaryLoader.js ***!
  \************************************/
/*! exports provided: BinaryLoader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BinaryLoader\", function() { return BinaryLoader; });\n/* harmony import */ var _Version_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Version.js */ \"./src/Version.js\");\n/* harmony import */ var _XHRFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../XHRFactory.js */ \"./src/XHRFactory.js\");\n/* harmony import */ var _WorkerPool_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../WorkerPool.js */ \"./src/WorkerPool.js\");\n\r\n\r\n\r\n\r\n\r\nconst BinaryDecoderWorker = __webpack_require__(/*! worker-loader?inline!../workers/BinaryDecoderWorker.js */ \"./node_modules/worker-loader/dist/cjs.js?inline!./src/workers/BinaryDecoderWorker.js\")\r\n\r\nclass BinaryLoader{\r\n\r\n\tconstructor(version, boundingBox, scale){\r\n\t\tif (typeof (version) === 'string') {\r\n\t\t\tthis.version = new _Version_js__WEBPACK_IMPORTED_MODULE_0__[\"Version\"](version);\r\n\t\t} else {\r\n\t\t\tthis.version = version;\r\n\t\t}\r\n\r\n\t\tthis.boundingBox = boundingBox;\r\n\t\tthis.scale = scale;\r\n\t}\r\n\r\n\tload(node){\r\n\t\treturn new Promise((resolve, reject)=>{\r\n\t\tif (node.loaded) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet url = node.getURL();\r\n\r\n\t\tif (this.version.equalOrHigher('1.4')) {\r\n\t\t\turl += '.bin';\r\n\t\t}\r\n\r\n\t\tlet xhr = _XHRFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"XHRFactory\"].createXMLHttpRequest();\r\n\t\txhr.open('GET', url, true);\r\n\t\txhr.responseType = 'arraybuffer';\r\n\t\txhr.overrideMimeType('text/plain; charset=x-user-defined');\r\n\t\txhr.onreadystatechange = () => {\r\n\t\t\tif (xhr.readyState === 4) {\r\n\t\t\t\tif((xhr.status === 200 || xhr.status === 0) &&  xhr.response !== null){\r\n\t\t\t\t\tlet buffer = xhr.response;\r\n\t\t\t\t\tthis.parse(node, buffer).then(()=>{\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(`Failed to load file! HTTP status: ${xhr.status}, file: ${url}`);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\ttry {\r\n\t\t\txhr.send(null);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log('fehler beim laden der punktwolke: ' + e);\r\n\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tparse(node, buffer){\r\n\t\treturn new Promise((resolve, reject)=>{\r\n\t\tlet pointAttributes = node.pcoGeometry.pointAttributes;\r\n\r\n\t\t// if (this.version.upTo('1.5')) {\r\n\t\t// \tlet numPoints = buffer.byteLength / pointAttributes.byteSize;\r\n\t\t// \tnode.numPoints = numPoints;\r\n\t\t// }\r\n\r\n\t\tlet workerCls = BinaryDecoderWorker;\r\n\t\tlet worker = _WorkerPool_js__WEBPACK_IMPORTED_MODULE_2__[\"workerPool\"].getWorker(workerCls);\r\n\t\tconst version  = this.version;\r\n\t\tworker.onmessage = function (e) {\r\n\t\t\t_WorkerPool_js__WEBPACK_IMPORTED_MODULE_2__[\"workerPool\"].returnWorker(workerCls, worker);\r\n\r\n\t\t\tlet data = e.data;\r\n\t\t\tnode.parse(data, version)\r\n\t\t\tresolve();\r\n\t\t\t/*\r\n\r\n\t\t\tlet buffers = data.attributeBuffers;\r\n\t\t\tlet tightBoundingBox = new THREE.Box3(\r\n\t\t\t\tnew THREE.Vector3().fromArray(data.tightBoundingBox.min),\r\n\t\t\t\tnew THREE.Vector3().fromArray(data.tightBoundingBox.max)\r\n\t\t\t);\r\n\r\n\t\t\tlet geometry = new THREE.BufferGeometry();\r\n\r\n\t\t\tfor(let property in buffers){\r\n\t\t\t\tlet buffer = buffers[property].buffer;\r\n\r\n\t\t\t\tif (parseInt(property) === PointAttributeNames.POSITION_CARTESIAN) {\r\n\t\t\t\t\tgeometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array(buffer), 3));\r\n\t\t\t\t} else if (parseInt(property) === PointAttributeNames.COLOR_PACKED) {\r\n\t\t\t\t\tgeometry.addAttribute('color', new THREE.BufferAttribute(new Uint8Array(buffer), 4, true));\r\n\t\t\t\t} else if (parseInt(property) === PointAttributeNames.INTENSITY) {\r\n\t\t\t\t\tgeometry.addAttribute('intensity', new THREE.BufferAttribute(new Float32Array(buffer), 1));\r\n\t\t\t\t} else if (parseInt(property) === PointAttributeNames.CLASSIFICATION) {\r\n\t\t\t\t\tgeometry.addAttribute('classification', new THREE.BufferAttribute(new Uint8Array(buffer), 1));\r\n\t\t\t\t} else if (parseInt(property) === PointAttributeNames.RETURN_NUMBER) {\r\n\t\t\t\t\tgeometry.addAttribute('returnNumber', new THREE.BufferAttribute(new Uint8Array(buffer), 1));\r\n\t\t\t\t} else if (parseInt(property) === PointAttributeNames.NUMBER_OF_RETURNS) {\r\n\t\t\t\t\tgeometry.addAttribute('numberOfReturns', new THREE.BufferAttribute(new Uint8Array(buffer), 1));\r\n\t\t\t\t} else if (parseInt(property) === PointAttributeNames.SOURCE_ID) {\r\n\t\t\t\t\tgeometry.addAttribute('pointSourceID', new THREE.BufferAttribute(new Uint16Array(buffer), 1));\r\n\t\t\t\t} else if (parseInt(property) === PointAttributeNames.NORMAL_SPHEREMAPPED) {\r\n\t\t\t\t\tgeometry.addAttribute('normal', new THREE.BufferAttribute(new Float32Array(buffer), 3));\r\n\t\t\t\t} else if (parseInt(property) === PointAttributeNames.NORMAL_OCT16) {\r\n\t\t\t\t\tgeometry.addAttribute('normal', new THREE.BufferAttribute(new Float32Array(buffer), 3));\r\n\t\t\t\t} else if (parseInt(property) === PointAttributeNames.NORMAL) {\r\n\t\t\t\t\tgeometry.addAttribute('normal', new THREE.BufferAttribute(new Float32Array(buffer), 3));\r\n\t\t\t\t} else if (parseInt(property) === PointAttributeNames.INDICES) {\r\n\t\t\t\t\tlet bufferAttribute = new THREE.BufferAttribute(new Uint8Array(buffer), 4);\r\n\t\t\t\t\tbufferAttribute.normalized = true;\r\n\t\t\t\t\tgeometry.addAttribute('indices', bufferAttribute);\r\n\t\t\t\t} else if (parseInt(property) === PointAttributeNames.SPACING) {\r\n\t\t\t\t\tlet bufferAttribute = new THREE.BufferAttribute(new Float32Array(buffer), 1);\r\n\t\t\t\t\tgeometry.addAttribute('spacing', bufferAttribute);\r\n\t\t\t\t} else if (parseInt(property) === PointAttributeNames.GPS_TIME) {\r\n\t\t\t\t\tlet bufferAttribute = new THREE.BufferAttribute(new Float32Array(buffer), 1);\r\n\t\t\t\t\tgeometry.addAttribute('gpsTime', bufferAttribute);\r\n\r\n\t\t\t\t\tnode.gpsTime = {\r\n\t\t\t\t\t\toffset: buffers[property].offset,\r\n\t\t\t\t\t\trange: buffers[property].range,\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t\ttightBoundingBox.max.sub(tightBoundingBox.min);\r\n\t\t\ttightBoundingBox.min.set(0, 0, 0);\r\n\r\n\t\t\tlet numPoints = e.data.buffer.byteLength / pointAttributes.byteSize;\r\n\t\t\t\r\n\t\t\tnode.numPoints = numPoints;\r\n\t\t\tnode.geometry = geometry;\r\n\t\t\tnode.mean = new THREE.Vector3(...data.mean);\r\n\t\t\tnode.tightBoundingBox = tightBoundingBox;\r\n\t\t\tnode.loaded = true;\r\n\t\t\tnode.loading = false;\r\n\t\t\tnode.estimatedSpacing = data.estimatedSpacing;\r\n\t\t\tPotree.numNodesLoading--;\r\n\t\t\t*/\r\n\t\t};\r\n\r\n\t\tlet message = {\r\n\t\t\tbuffer: buffer,\r\n\t\t\tpointAttributes: pointAttributes,\r\n\t\t\tversion: this.version.version,\r\n\t\t\tmin: [ node.boundingBox.min.x, node.boundingBox.min.y, node.boundingBox.min.z ],\r\n\t\t\toffset: [node.pcoGeometry.offset.x, node.pcoGeometry.offset.y, node.pcoGeometry.offset.z],\r\n\t\t\tscale: this.scale,\r\n\t\t\tspacing: node.spacing,\r\n\t\t\thasChildren: node.hasChildren,\r\n\t\t\tname: node.name\r\n\t\t};\r\n\t\tworker.postMessage(message, [message.buffer]);\r\n\t\t});\r\n\t};\r\n\r\n\t\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9zcmMvbG9hZGVyL0JpbmFyeUxvYWRlci5qcz9kYTc0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNzQztBQUNNO0FBQ0Q7O0FBRTNDLDRCQUE0QixtQkFBTyxDQUFDLG9KQUF3RDs7QUFFckY7O0FBRVA7QUFDQTtBQUNBLHNCQUFzQixtREFBTztBQUM3QixHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWSx5REFBVTtBQUN0QjtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixLQUFLO0FBQ0wsMERBQTBELFdBQVcsVUFBVSxJQUFJO0FBQ25GO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSx5REFBVTtBQUN6QjtBQUNBO0FBQ0EsR0FBRyx5REFBVTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7OztBQUdBIiwiZmlsZSI6Ii4vc3JjL2xvYWRlci9CaW5hcnlMb2FkZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IHtWZXJzaW9ufSBmcm9tIFwiLi4vVmVyc2lvbi5qc1wiO1xyXG5pbXBvcnQge1hIUkZhY3Rvcnl9IGZyb20gXCIuLi9YSFJGYWN0b3J5LmpzXCI7XHJcbmltcG9ydCB7d29ya2VyUG9vbH0gZnJvbSBcIi4uL1dvcmtlclBvb2wuanNcIlxyXG5cclxuY29uc3QgQmluYXJ5RGVjb2RlcldvcmtlciA9IHJlcXVpcmUoJ3dvcmtlci1sb2FkZXI/aW5saW5lIS4uL3dvcmtlcnMvQmluYXJ5RGVjb2Rlcldvcmtlci5qcycpXHJcblxyXG5leHBvcnQgY2xhc3MgQmluYXJ5TG9hZGVye1xyXG5cclxuXHRjb25zdHJ1Y3Rvcih2ZXJzaW9uLCBib3VuZGluZ0JveCwgc2NhbGUpe1xyXG5cdFx0aWYgKHR5cGVvZiAodmVyc2lvbikgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdHRoaXMudmVyc2lvbiA9IG5ldyBWZXJzaW9uKHZlcnNpb24pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmJvdW5kaW5nQm94ID0gYm91bmRpbmdCb3g7XHJcblx0XHR0aGlzLnNjYWxlID0gc2NhbGU7XHJcblx0fVxyXG5cclxuXHRsb2FkKG5vZGUpe1xyXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpPT57XHJcblx0XHRpZiAobm9kZS5sb2FkZWQpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCB1cmwgPSBub2RlLmdldFVSTCgpO1xyXG5cclxuXHRcdGlmICh0aGlzLnZlcnNpb24uZXF1YWxPckhpZ2hlcignMS40JykpIHtcclxuXHRcdFx0dXJsICs9ICcuYmluJztcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgeGhyID0gWEhSRmFjdG9yeS5jcmVhdGVYTUxIdHRwUmVxdWVzdCgpO1xyXG5cdFx0eGhyLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XHJcblx0XHR4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcclxuXHRcdHhoci5vdmVycmlkZU1pbWVUeXBlKCd0ZXh0L3BsYWluOyBjaGFyc2V0PXgtdXNlci1kZWZpbmVkJyk7XHJcblx0XHR4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xyXG5cdFx0XHRpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcclxuXHRcdFx0XHRpZigoeGhyLnN0YXR1cyA9PT0gMjAwIHx8IHhoci5zdGF0dXMgPT09IDApICYmICB4aHIucmVzcG9uc2UgIT09IG51bGwpe1xyXG5cdFx0XHRcdFx0bGV0IGJ1ZmZlciA9IHhoci5yZXNwb25zZTtcclxuXHRcdFx0XHRcdHRoaXMucGFyc2Uobm9kZSwgYnVmZmVyKS50aGVuKCgpPT57XHJcblx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBsb2FkIGZpbGUhIEhUVFAgc3RhdHVzOiAke3hoci5zdGF0dXN9LCBmaWxlOiAke3VybH1gKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0XHRcclxuXHRcdHRyeSB7XHJcblx0XHRcdHhoci5zZW5kKG51bGwpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRjb25zb2xlLmxvZygnZmVobGVyIGJlaW0gbGFkZW4gZGVyIHB1bmt0d29sa2U6ICcgKyBlKTtcclxuXHRcdH1cclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdHBhcnNlKG5vZGUsIGJ1ZmZlcil7XHJcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk9PntcclxuXHRcdGxldCBwb2ludEF0dHJpYnV0ZXMgPSBub2RlLnBjb0dlb21ldHJ5LnBvaW50QXR0cmlidXRlcztcclxuXHJcblx0XHQvLyBpZiAodGhpcy52ZXJzaW9uLnVwVG8oJzEuNScpKSB7XHJcblx0XHQvLyBcdGxldCBudW1Qb2ludHMgPSBidWZmZXIuYnl0ZUxlbmd0aCAvIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZTtcclxuXHRcdC8vIFx0bm9kZS5udW1Qb2ludHMgPSBudW1Qb2ludHM7XHJcblx0XHQvLyB9XHJcblxyXG5cdFx0bGV0IHdvcmtlckNscyA9IEJpbmFyeURlY29kZXJXb3JrZXI7XHJcblx0XHRsZXQgd29ya2VyID0gd29ya2VyUG9vbC5nZXRXb3JrZXIod29ya2VyQ2xzKTtcclxuXHRcdGNvbnN0IHZlcnNpb24gID0gdGhpcy52ZXJzaW9uO1xyXG5cdFx0d29ya2VyLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdHdvcmtlclBvb2wucmV0dXJuV29ya2VyKHdvcmtlckNscywgd29ya2VyKTtcclxuXHJcblx0XHRcdGxldCBkYXRhID0gZS5kYXRhO1xyXG5cdFx0XHRub2RlLnBhcnNlKGRhdGEsIHZlcnNpb24pXHJcblx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0LypcclxuXHJcblx0XHRcdGxldCBidWZmZXJzID0gZGF0YS5hdHRyaWJ1dGVCdWZmZXJzO1xyXG5cdFx0XHRsZXQgdGlnaHRCb3VuZGluZ0JveCA9IG5ldyBUSFJFRS5Cb3gzKFxyXG5cdFx0XHRcdG5ldyBUSFJFRS5WZWN0b3IzKCkuZnJvbUFycmF5KGRhdGEudGlnaHRCb3VuZGluZ0JveC5taW4pLFxyXG5cdFx0XHRcdG5ldyBUSFJFRS5WZWN0b3IzKCkuZnJvbUFycmF5KGRhdGEudGlnaHRCb3VuZGluZ0JveC5tYXgpXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHRsZXQgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTtcclxuXHJcblx0XHRcdGZvcihsZXQgcHJvcGVydHkgaW4gYnVmZmVycyl7XHJcblx0XHRcdFx0bGV0IGJ1ZmZlciA9IGJ1ZmZlcnNbcHJvcGVydHldLmJ1ZmZlcjtcclxuXHJcblx0XHRcdFx0aWYgKHBhcnNlSW50KHByb3BlcnR5KSA9PT0gUG9pbnRBdHRyaWJ1dGVOYW1lcy5QT1NJVElPTl9DQVJURVNJQU4pIHtcclxuXHRcdFx0XHRcdGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgncG9zaXRpb24nLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKSwgMykpO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAocGFyc2VJbnQocHJvcGVydHkpID09PSBQb2ludEF0dHJpYnV0ZU5hbWVzLkNPTE9SX1BBQ0tFRCkge1xyXG5cdFx0XHRcdFx0Z2VvbWV0cnkuYWRkQXR0cmlidXRlKCdjb2xvcicsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUobmV3IFVpbnQ4QXJyYXkoYnVmZmVyKSwgNCwgdHJ1ZSkpO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAocGFyc2VJbnQocHJvcGVydHkpID09PSBQb2ludEF0dHJpYnV0ZU5hbWVzLklOVEVOU0lUWSkge1xyXG5cdFx0XHRcdFx0Z2VvbWV0cnkuYWRkQXR0cmlidXRlKCdpbnRlbnNpdHknLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKSwgMSkpO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAocGFyc2VJbnQocHJvcGVydHkpID09PSBQb2ludEF0dHJpYnV0ZU5hbWVzLkNMQVNTSUZJQ0FUSU9OKSB7XHJcblx0XHRcdFx0XHRnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ2NsYXNzaWZpY2F0aW9uJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShuZXcgVWludDhBcnJheShidWZmZXIpLCAxKSk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChwYXJzZUludChwcm9wZXJ0eSkgPT09IFBvaW50QXR0cmlidXRlTmFtZXMuUkVUVVJOX05VTUJFUikge1xyXG5cdFx0XHRcdFx0Z2VvbWV0cnkuYWRkQXR0cmlidXRlKCdyZXR1cm5OdW1iZXInLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKG5ldyBVaW50OEFycmF5KGJ1ZmZlciksIDEpKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKHBhcnNlSW50KHByb3BlcnR5KSA9PT0gUG9pbnRBdHRyaWJ1dGVOYW1lcy5OVU1CRVJfT0ZfUkVUVVJOUykge1xyXG5cdFx0XHRcdFx0Z2VvbWV0cnkuYWRkQXR0cmlidXRlKCdudW1iZXJPZlJldHVybnMnLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKG5ldyBVaW50OEFycmF5KGJ1ZmZlciksIDEpKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKHBhcnNlSW50KHByb3BlcnR5KSA9PT0gUG9pbnRBdHRyaWJ1dGVOYW1lcy5TT1VSQ0VfSUQpIHtcclxuXHRcdFx0XHRcdGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgncG9pbnRTb3VyY2VJRCcsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUobmV3IFVpbnQxNkFycmF5KGJ1ZmZlciksIDEpKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKHBhcnNlSW50KHByb3BlcnR5KSA9PT0gUG9pbnRBdHRyaWJ1dGVOYW1lcy5OT1JNQUxfU1BIRVJFTUFQUEVEKSB7XHJcblx0XHRcdFx0XHRnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ25vcm1hbCcsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUobmV3IEZsb2F0MzJBcnJheShidWZmZXIpLCAzKSk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChwYXJzZUludChwcm9wZXJ0eSkgPT09IFBvaW50QXR0cmlidXRlTmFtZXMuTk9STUFMX09DVDE2KSB7XHJcblx0XHRcdFx0XHRnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ25vcm1hbCcsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUobmV3IEZsb2F0MzJBcnJheShidWZmZXIpLCAzKSk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChwYXJzZUludChwcm9wZXJ0eSkgPT09IFBvaW50QXR0cmlidXRlTmFtZXMuTk9STUFMKSB7XHJcblx0XHRcdFx0XHRnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ25vcm1hbCcsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUobmV3IEZsb2F0MzJBcnJheShidWZmZXIpLCAzKSk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChwYXJzZUludChwcm9wZXJ0eSkgPT09IFBvaW50QXR0cmlidXRlTmFtZXMuSU5ESUNFUykge1xyXG5cdFx0XHRcdFx0bGV0IGJ1ZmZlckF0dHJpYnV0ZSA9IG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUobmV3IFVpbnQ4QXJyYXkoYnVmZmVyKSwgNCk7XHJcblx0XHRcdFx0XHRidWZmZXJBdHRyaWJ1dGUubm9ybWFsaXplZCA9IHRydWU7XHJcblx0XHRcdFx0XHRnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ2luZGljZXMnLCBidWZmZXJBdHRyaWJ1dGUpO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAocGFyc2VJbnQocHJvcGVydHkpID09PSBQb2ludEF0dHJpYnV0ZU5hbWVzLlNQQUNJTkcpIHtcclxuXHRcdFx0XHRcdGxldCBidWZmZXJBdHRyaWJ1dGUgPSBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKSwgMSk7XHJcblx0XHRcdFx0XHRnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3NwYWNpbmcnLCBidWZmZXJBdHRyaWJ1dGUpO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAocGFyc2VJbnQocHJvcGVydHkpID09PSBQb2ludEF0dHJpYnV0ZU5hbWVzLkdQU19USU1FKSB7XHJcblx0XHRcdFx0XHRsZXQgYnVmZmVyQXR0cmlidXRlID0gbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlciksIDEpO1xyXG5cdFx0XHRcdFx0Z2VvbWV0cnkuYWRkQXR0cmlidXRlKCdncHNUaW1lJywgYnVmZmVyQXR0cmlidXRlKTtcclxuXHJcblx0XHRcdFx0XHRub2RlLmdwc1RpbWUgPSB7XHJcblx0XHRcdFx0XHRcdG9mZnNldDogYnVmZmVyc1twcm9wZXJ0eV0ub2Zmc2V0LFxyXG5cdFx0XHRcdFx0XHRyYW5nZTogYnVmZmVyc1twcm9wZXJ0eV0ucmFuZ2UsXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdHRpZ2h0Qm91bmRpbmdCb3gubWF4LnN1Yih0aWdodEJvdW5kaW5nQm94Lm1pbik7XHJcblx0XHRcdHRpZ2h0Qm91bmRpbmdCb3gubWluLnNldCgwLCAwLCAwKTtcclxuXHJcblx0XHRcdGxldCBudW1Qb2ludHMgPSBlLmRhdGEuYnVmZmVyLmJ5dGVMZW5ndGggLyBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemU7XHJcblx0XHRcdFxyXG5cdFx0XHRub2RlLm51bVBvaW50cyA9IG51bVBvaW50cztcclxuXHRcdFx0bm9kZS5nZW9tZXRyeSA9IGdlb21ldHJ5O1xyXG5cdFx0XHRub2RlLm1lYW4gPSBuZXcgVEhSRUUuVmVjdG9yMyguLi5kYXRhLm1lYW4pO1xyXG5cdFx0XHRub2RlLnRpZ2h0Qm91bmRpbmdCb3ggPSB0aWdodEJvdW5kaW5nQm94O1xyXG5cdFx0XHRub2RlLmxvYWRlZCA9IHRydWU7XHJcblx0XHRcdG5vZGUubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRub2RlLmVzdGltYXRlZFNwYWNpbmcgPSBkYXRhLmVzdGltYXRlZFNwYWNpbmc7XHJcblx0XHRcdFBvdHJlZS5udW1Ob2Rlc0xvYWRpbmctLTtcclxuXHRcdFx0Ki9cclxuXHRcdH07XHJcblxyXG5cdFx0bGV0IG1lc3NhZ2UgPSB7XHJcblx0XHRcdGJ1ZmZlcjogYnVmZmVyLFxyXG5cdFx0XHRwb2ludEF0dHJpYnV0ZXM6IHBvaW50QXR0cmlidXRlcyxcclxuXHRcdFx0dmVyc2lvbjogdGhpcy52ZXJzaW9uLnZlcnNpb24sXHJcblx0XHRcdG1pbjogWyBub2RlLmJvdW5kaW5nQm94Lm1pbi54LCBub2RlLmJvdW5kaW5nQm94Lm1pbi55LCBub2RlLmJvdW5kaW5nQm94Lm1pbi56IF0sXHJcblx0XHRcdG9mZnNldDogW25vZGUucGNvR2VvbWV0cnkub2Zmc2V0LngsIG5vZGUucGNvR2VvbWV0cnkub2Zmc2V0LnksIG5vZGUucGNvR2VvbWV0cnkub2Zmc2V0LnpdLFxyXG5cdFx0XHRzY2FsZTogdGhpcy5zY2FsZSxcclxuXHRcdFx0c3BhY2luZzogbm9kZS5zcGFjaW5nLFxyXG5cdFx0XHRoYXNDaGlsZHJlbjogbm9kZS5oYXNDaGlsZHJlbixcclxuXHRcdFx0bmFtZTogbm9kZS5uYW1lXHJcblx0XHR9O1xyXG5cdFx0d29ya2VyLnBvc3RNZXNzYWdlKG1lc3NhZ2UsIFttZXNzYWdlLmJ1ZmZlcl0pO1xyXG5cdFx0fSk7XHJcblx0fTtcclxuXHJcblx0XHJcbn1cclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/loader/BinaryLoader.js\n");

/***/ }),

/***/ "./src/loader/LasLazLoader.js":
/*!************************************!*\
  !*** ./src/loader/LasLazLoader.js ***!
  \************************************/
/*! exports provided: LasLazLoader, LasLazBatcher */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LasLazLoader\", function() { return LasLazLoader; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LasLazBatcher\", function() { return LasLazBatcher; });\n/* harmony import */ var _Version_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Version.js */ \"./src/Version.js\");\n/* harmony import */ var _XHRFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../XHRFactory.js */ \"./src/XHRFactory.js\");\n\r\n\r\n\r\n\r\n\r\n/**\r\n * laslaz code taken and adapted from plas.io js-laslaz\r\n *\thttp://plas.io/\r\n *  https://github.com/verma/plasio\r\n *\r\n * Thanks to Uday Verma and Howard Butler\r\n *\r\n */\r\n\r\nclass LasLazLoader {\r\n\r\n\tconstructor (version) {\r\n\t\tif (typeof (version) === 'string') {\r\n\t\t\tthis.version = new _Version_js__WEBPACK_IMPORTED_MODULE_0__[\"Version\"](version);\r\n\t\t} else {\r\n\t\t\tthis.version = version;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic progressCB () {\r\n\r\n\t}\r\n\r\n\tload (node) {\r\n\t\tif (node.loaded) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet pointAttributes = node.pcoGeometry.pointAttributes;\r\n\r\n\t\tlet url = node.getURL();\r\n\r\n\t\tif (this.version.equalOrHigher('1.4')) {\r\n\t\t\turl += '.' + pointAttributes.toLowerCase();\r\n\t\t}\r\n\r\n\t\tlet xhr = _XHRFactory_js__WEBPACK_IMPORTED_MODULE_1__[\"XHRFactory\"].createXMLHttpRequest();\r\n\t\txhr.open('GET', url, true);\r\n\t\txhr.responseType = 'arraybuffer';\r\n\t\txhr.overrideMimeType('text/plain; charset=x-user-defined');\r\n\t\txhr.onreadystatechange = () => {\r\n\t\t\tif (xhr.readyState === 4) {\r\n\t\t\t\tif (xhr.status === 200 || xhr.status === 0) {\r\n\t\t\t\t\tlet buffer = xhr.response;\r\n\t\t\t\t\tthis.parse(node, buffer);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log('Failed to load file! HTTP status: ' + xhr.status + ', file: ' + url);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\txhr.send(null);\r\n\t}\r\n\r\n\tparse(node, buffer){\r\n\t\tlet lf = new LASFile(buffer);\r\n\t\tlet handler = new LasLazBatcher(node);\r\n\r\n\r\n\t\t//\r\n\t\t// DEBUG\r\n\t\t//\r\n\t\t// invoke the laz decompress worker thousands of times to check for memory leaks\r\n\t\t// until 2018/03/05, it tended to run out of memory at ~6230 invocations\r\n\t\t// \r\n\t\t//\r\n\t\t//lf.open()\r\n\t\t//.then( msg => {\r\n\t\t//\tlf.isOpen = true;\r\n\t\t//\treturn lf;\r\n\t\t//}).catch( msg => {\r\n\t\t//\tconsole.log(\"failed to open file. :(\");\t\r\n\t\t//}).then( lf => {\r\n\t\t//\treturn lf.getHeader().then(function (h) {\r\n\t\t//\t\treturn [lf, h];\r\n\t\t//\t});\r\n\t\t//}).then( v => {\r\n\t\t//\tlet lf = v[0];\r\n\t\t//\tlet header = v[1];\r\n\r\n\t\t//\tlf.readData(1000000, 0, 1)\r\n\t\t//\t.then( v => {\r\n\t\t//\t\tconsole.log(\"read\");\r\n\r\n\t\t//\t\tthis.parse(node, buffer);\r\n\t\t//\t}).then (v => {\r\n\t\t//\t\tlf.close();\t\r\n\t\t//\t});\r\n\r\n\t\t//})\r\n\r\n\r\n\r\n\t\tlf.open()\r\n\t\t.then( msg => {\r\n\t\t\tlf.isOpen = true;\r\n\t\t\treturn lf;\r\n\t\t}).catch( msg => {\r\n\t\t\tconsole.log(\"failed to open file. :(\");\t\r\n\t\t}).then( lf => {\r\n\t\t\treturn lf.getHeader().then(function (h) {\r\n\t\t\t\treturn [lf, h];\r\n\t\t\t});\r\n\t\t}).then( v => {\r\n\t\t\tlet lf = v[0];\r\n\t\t\tlet header = v[1];\r\n\r\n\t\t\tlet skip = 1;\r\n\t\t\tlet totalRead = 0;\r\n\t\t\tlet totalToRead = (skip <= 1 ? header.pointsCount : header.pointsCount / skip);\r\n\t\t\tlet reader = function () {\r\n\t\t\t\tlet p = lf.readData(1000000, 0, skip);\r\n\t\t\t\treturn p.then(function (data) {\r\n\t\t\t\t\thandler.push(new LASDecoder(data.buffer,\r\n\t\t\t\t\t\theader.pointsFormatId,\r\n\t\t\t\t\t\theader.pointsStructSize,\r\n\t\t\t\t\t\tdata.count,\r\n\t\t\t\t\t\theader.scale,\r\n\t\t\t\t\t\theader.offset,\r\n\t\t\t\t\t\theader.mins, header.maxs));\r\n\r\n\t\t\t\t\ttotalRead += data.count;\r\n\t\t\t\t\tLasLazLoader.progressCB(totalRead / totalToRead);\r\n\r\n\t\t\t\t\tif (data.hasMoreData) {\r\n\t\t\t\t\t\treturn reader();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\theader.totalRead = totalRead;\r\n\t\t\t\t\t\theader.versionAsString = lf.versionAsString;\r\n\t\t\t\t\t\theader.isCompressed = lf.isCompressed;\r\n\t\t\t\t\t\treturn [lf, header, handler];\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\treturn reader();\r\n\t\t}).then( v => {\r\n\t\t\tlet lf = v[0];\r\n\t\t\t// we're done loading this file\r\n\t\t\t//\r\n\t\t\tLasLazLoader.progressCB(1);\r\n\r\n\t\t\t// Close it\r\n\t\t\treturn lf.close().then(function () {\r\n\t\t\t\tlf.isOpen = false;\r\n\r\n\t\t\t\treturn v.slice(1);\r\n\t\t\t}).catch(e => {\r\n\t\t\t\t// If there was a cancellation, make sure the file is closed, if the file is open\r\n\t\t\t\t// close and then fail\r\n\t\t\t\tif (lf.isOpen) {\r\n\t\t\t\t\treturn lf.close().then(function () {\r\n\t\t\t\t\t\tlf.isOpen = false;\r\n\t\t\t\t\t\tthrow e;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tthrow e;\t\r\n\t\t\t});\t\r\n\t\t});\r\n\t}\r\n\r\n\thandle (node, url) {\r\n\r\n\t}\r\n};\r\n\r\nclass LasLazBatcher{\r\n\r\n\tconstructor (node) {\r\n\t\tthis.node = node;\r\n\t}\r\n\r\n\tpush (lasBuffer) {\r\n\t\tlet workerPath = Potree.scriptPath + '/workers/LASDecoderWorker.js';\r\n\t\tlet worker = Potree.workerPool.getWorker(workerPath);\r\n\t\tlet node = this.node;\r\n\r\n\t\tworker.onmessage = (e) => {\r\n\t\t\tlet geometry = new THREE.BufferGeometry();\r\n\t\t\tlet numPoints = lasBuffer.pointsCount;\r\n\r\n\t\t\tlet positions = new Float32Array(e.data.position);\r\n\t\t\tlet colors = new Uint8Array(e.data.color);\r\n\t\t\tlet intensities = new Float32Array(e.data.intensity);\r\n\t\t\tlet classifications = new Uint8Array(e.data.classification);\r\n\t\t\tlet returnNumbers = new Uint8Array(e.data.returnNumber);\r\n\t\t\tlet numberOfReturns = new Uint8Array(e.data.numberOfReturns);\r\n\t\t\tlet pointSourceIDs = new Uint16Array(e.data.pointSourceID);\r\n\t\t\tlet indices = new Uint8Array(e.data.indices);\r\n\r\n\t\t\tgeometry.addAttribute('position', new THREE.BufferAttribute(positions, 3));\r\n\t\t\tgeometry.addAttribute('color', new THREE.BufferAttribute(colors, 4, true));\r\n\t\t\tgeometry.addAttribute('intensity', new THREE.BufferAttribute(intensities, 1));\r\n\t\t\tgeometry.addAttribute('classification', new THREE.BufferAttribute(classifications, 1));\r\n\t\t\tgeometry.addAttribute('returnNumber', new THREE.BufferAttribute(returnNumbers, 1));\r\n\t\t\tgeometry.addAttribute('numberOfReturns', new THREE.BufferAttribute(numberOfReturns, 1));\r\n\t\t\tgeometry.addAttribute('pointSourceID', new THREE.BufferAttribute(pointSourceIDs, 1));\r\n\t\t\t//geometry.addAttribute('normal', new THREE.BufferAttribute(new Float32Array(numPoints * 3), 3));\r\n\t\t\tgeometry.addAttribute('indices', new THREE.BufferAttribute(indices, 4));\r\n\t\t\tgeometry.attributes.indices.normalized = true;\r\n\r\n\t\t\tlet tightBoundingBox = new THREE.Box3(\r\n\t\t\t\tnew THREE.Vector3().fromArray(e.data.tightBoundingBox.min),\r\n\t\t\t\tnew THREE.Vector3().fromArray(e.data.tightBoundingBox.max)\r\n\t\t\t);\r\n\r\n\t\t\tgeometry.boundingBox = this.node.boundingBox;\r\n\t\t\tthis.node.tightBoundingBox = tightBoundingBox;\r\n\r\n\t\t\tthis.node.geometry = geometry;\r\n\t\t\tthis.node.numPoints = numPoints;\r\n\t\t\tthis.node.loaded = true;\r\n\t\t\tthis.node.loading = false;\r\n\t\t\tPotree.numNodesLoading--;\r\n\t\t\tthis.node.mean = new THREE.Vector3(...e.data.mean);\r\n\r\n\t\t\t//debugger;\r\n\r\n\t\t\tPotree.workerPool.returnWorker(workerPath, worker);\r\n\t\t};\r\n\r\n\t\tlet message = {\r\n\t\t\tbuffer: lasBuffer.arrayb,\r\n\t\t\tnumPoints: lasBuffer.pointsCount,\r\n\t\t\tpointSize: lasBuffer.pointSize,\r\n\t\t\tpointFormatID: 2,\r\n\t\t\tscale: lasBuffer.scale,\r\n\t\t\toffset: lasBuffer.offset,\r\n\t\t\tmins: lasBuffer.mins,\r\n\t\t\tmaxs: lasBuffer.maxs\r\n\t\t};\r\n\t\tworker.postMessage(message, [message.buffer]);\r\n\t};\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9zcmMvbG9hZGVyL0xhc0xhekxvYWRlci5qcz84NjkyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFc0M7QUFDTTs7QUFFNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTzs7QUFFUDtBQUNBO0FBQ0Esc0JBQXNCLG1EQUFPO0FBQzdCLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBLFlBQVkseURBQVU7QUFDdEI7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDRDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxNQUFNO0FBQ04sS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOLGlCO0FBQ0EsTUFBTTs7QUFFTixLQUFLOzs7O0FBSUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsMEM7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsWTtBQUNBLElBQUksRTtBQUNKLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBOztBQUVPOztBQUVQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vc3JjL2xvYWRlci9MYXNMYXpMb2FkZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuXHJcbmltcG9ydCB7VmVyc2lvbn0gZnJvbSBcIi4uL1ZlcnNpb24uanNcIjtcclxuaW1wb3J0IHtYSFJGYWN0b3J5fSBmcm9tIFwiLi4vWEhSRmFjdG9yeS5qc1wiO1xyXG5cclxuLyoqXHJcbiAqIGxhc2xheiBjb2RlIHRha2VuIGFuZCBhZGFwdGVkIGZyb20gcGxhcy5pbyBqcy1sYXNsYXpcclxuICpcdGh0dHA6Ly9wbGFzLmlvL1xyXG4gKiAgaHR0cHM6Ly9naXRodWIuY29tL3Zlcm1hL3BsYXNpb1xyXG4gKlxyXG4gKiBUaGFua3MgdG8gVWRheSBWZXJtYSBhbmQgSG93YXJkIEJ1dGxlclxyXG4gKlxyXG4gKi9cclxuXHJcbmV4cG9ydCBjbGFzcyBMYXNMYXpMb2FkZXIge1xyXG5cclxuXHRjb25zdHJ1Y3RvciAodmVyc2lvbikge1xyXG5cdFx0aWYgKHR5cGVvZiAodmVyc2lvbikgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdHRoaXMudmVyc2lvbiA9IG5ldyBWZXJzaW9uKHZlcnNpb24pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHN0YXRpYyBwcm9ncmVzc0NCICgpIHtcclxuXHJcblx0fVxyXG5cclxuXHRsb2FkIChub2RlKSB7XHJcblx0XHRpZiAobm9kZS5sb2FkZWQpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBwb2ludEF0dHJpYnV0ZXMgPSBub2RlLnBjb0dlb21ldHJ5LnBvaW50QXR0cmlidXRlcztcclxuXHJcblx0XHRsZXQgdXJsID0gbm9kZS5nZXRVUkwoKTtcclxuXHJcblx0XHRpZiAodGhpcy52ZXJzaW9uLmVxdWFsT3JIaWdoZXIoJzEuNCcpKSB7XHJcblx0XHRcdHVybCArPSAnLicgKyBwb2ludEF0dHJpYnV0ZXMudG9Mb3dlckNhc2UoKTtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgeGhyID0gWEhSRmFjdG9yeS5jcmVhdGVYTUxIdHRwUmVxdWVzdCgpO1xyXG5cdFx0eGhyLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XHJcblx0XHR4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcclxuXHRcdHhoci5vdmVycmlkZU1pbWVUeXBlKCd0ZXh0L3BsYWluOyBjaGFyc2V0PXgtdXNlci1kZWZpbmVkJyk7XHJcblx0XHR4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xyXG5cdFx0XHRpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcclxuXHRcdFx0XHRpZiAoeGhyLnN0YXR1cyA9PT0gMjAwIHx8IHhoci5zdGF0dXMgPT09IDApIHtcclxuXHRcdFx0XHRcdGxldCBidWZmZXIgPSB4aHIucmVzcG9uc2U7XHJcblx0XHRcdFx0XHR0aGlzLnBhcnNlKG5vZGUsIGJ1ZmZlcik7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdGYWlsZWQgdG8gbG9hZCBmaWxlISBIVFRQIHN0YXR1czogJyArIHhoci5zdGF0dXMgKyAnLCBmaWxlOiAnICsgdXJsKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0eGhyLnNlbmQobnVsbCk7XHJcblx0fVxyXG5cclxuXHRwYXJzZShub2RlLCBidWZmZXIpe1xyXG5cdFx0bGV0IGxmID0gbmV3IExBU0ZpbGUoYnVmZmVyKTtcclxuXHRcdGxldCBoYW5kbGVyID0gbmV3IExhc0xhekJhdGNoZXIobm9kZSk7XHJcblxyXG5cclxuXHRcdC8vXHJcblx0XHQvLyBERUJVR1xyXG5cdFx0Ly9cclxuXHRcdC8vIGludm9rZSB0aGUgbGF6IGRlY29tcHJlc3Mgd29ya2VyIHRob3VzYW5kcyBvZiB0aW1lcyB0byBjaGVjayBmb3IgbWVtb3J5IGxlYWtzXHJcblx0XHQvLyB1bnRpbCAyMDE4LzAzLzA1LCBpdCB0ZW5kZWQgdG8gcnVuIG91dCBvZiBtZW1vcnkgYXQgfjYyMzAgaW52b2NhdGlvbnNcclxuXHRcdC8vIFxyXG5cdFx0Ly9cclxuXHRcdC8vbGYub3BlbigpXHJcblx0XHQvLy50aGVuKCBtc2cgPT4ge1xyXG5cdFx0Ly9cdGxmLmlzT3BlbiA9IHRydWU7XHJcblx0XHQvL1x0cmV0dXJuIGxmO1xyXG5cdFx0Ly99KS5jYXRjaCggbXNnID0+IHtcclxuXHRcdC8vXHRjb25zb2xlLmxvZyhcImZhaWxlZCB0byBvcGVuIGZpbGUuIDooXCIpO1x0XHJcblx0XHQvL30pLnRoZW4oIGxmID0+IHtcclxuXHRcdC8vXHRyZXR1cm4gbGYuZ2V0SGVhZGVyKCkudGhlbihmdW5jdGlvbiAoaCkge1xyXG5cdFx0Ly9cdFx0cmV0dXJuIFtsZiwgaF07XHJcblx0XHQvL1x0fSk7XHJcblx0XHQvL30pLnRoZW4oIHYgPT4ge1xyXG5cdFx0Ly9cdGxldCBsZiA9IHZbMF07XHJcblx0XHQvL1x0bGV0IGhlYWRlciA9IHZbMV07XHJcblxyXG5cdFx0Ly9cdGxmLnJlYWREYXRhKDEwMDAwMDAsIDAsIDEpXHJcblx0XHQvL1x0LnRoZW4oIHYgPT4ge1xyXG5cdFx0Ly9cdFx0Y29uc29sZS5sb2coXCJyZWFkXCIpO1xyXG5cclxuXHRcdC8vXHRcdHRoaXMucGFyc2Uobm9kZSwgYnVmZmVyKTtcclxuXHRcdC8vXHR9KS50aGVuICh2ID0+IHtcclxuXHRcdC8vXHRcdGxmLmNsb3NlKCk7XHRcclxuXHRcdC8vXHR9KTtcclxuXHJcblx0XHQvL30pXHJcblxyXG5cclxuXHJcblx0XHRsZi5vcGVuKClcclxuXHRcdC50aGVuKCBtc2cgPT4ge1xyXG5cdFx0XHRsZi5pc09wZW4gPSB0cnVlO1xyXG5cdFx0XHRyZXR1cm4gbGY7XHJcblx0XHR9KS5jYXRjaCggbXNnID0+IHtcclxuXHRcdFx0Y29uc29sZS5sb2coXCJmYWlsZWQgdG8gb3BlbiBmaWxlLiA6KFwiKTtcdFxyXG5cdFx0fSkudGhlbiggbGYgPT4ge1xyXG5cdFx0XHRyZXR1cm4gbGYuZ2V0SGVhZGVyKCkudGhlbihmdW5jdGlvbiAoaCkge1xyXG5cdFx0XHRcdHJldHVybiBbbGYsIGhdO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pLnRoZW4oIHYgPT4ge1xyXG5cdFx0XHRsZXQgbGYgPSB2WzBdO1xyXG5cdFx0XHRsZXQgaGVhZGVyID0gdlsxXTtcclxuXHJcblx0XHRcdGxldCBza2lwID0gMTtcclxuXHRcdFx0bGV0IHRvdGFsUmVhZCA9IDA7XHJcblx0XHRcdGxldCB0b3RhbFRvUmVhZCA9IChza2lwIDw9IDEgPyBoZWFkZXIucG9pbnRzQ291bnQgOiBoZWFkZXIucG9pbnRzQ291bnQgLyBza2lwKTtcclxuXHRcdFx0bGV0IHJlYWRlciA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRsZXQgcCA9IGxmLnJlYWREYXRhKDEwMDAwMDAsIDAsIHNraXApO1xyXG5cdFx0XHRcdHJldHVybiBwLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuXHRcdFx0XHRcdGhhbmRsZXIucHVzaChuZXcgTEFTRGVjb2RlcihkYXRhLmJ1ZmZlcixcclxuXHRcdFx0XHRcdFx0aGVhZGVyLnBvaW50c0Zvcm1hdElkLFxyXG5cdFx0XHRcdFx0XHRoZWFkZXIucG9pbnRzU3RydWN0U2l6ZSxcclxuXHRcdFx0XHRcdFx0ZGF0YS5jb3VudCxcclxuXHRcdFx0XHRcdFx0aGVhZGVyLnNjYWxlLFxyXG5cdFx0XHRcdFx0XHRoZWFkZXIub2Zmc2V0LFxyXG5cdFx0XHRcdFx0XHRoZWFkZXIubWlucywgaGVhZGVyLm1heHMpKTtcclxuXHJcblx0XHRcdFx0XHR0b3RhbFJlYWQgKz0gZGF0YS5jb3VudDtcclxuXHRcdFx0XHRcdExhc0xhekxvYWRlci5wcm9ncmVzc0NCKHRvdGFsUmVhZCAvIHRvdGFsVG9SZWFkKTtcclxuXHJcblx0XHRcdFx0XHRpZiAoZGF0YS5oYXNNb3JlRGF0YSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVhZGVyKCk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRoZWFkZXIudG90YWxSZWFkID0gdG90YWxSZWFkO1xyXG5cdFx0XHRcdFx0XHRoZWFkZXIudmVyc2lvbkFzU3RyaW5nID0gbGYudmVyc2lvbkFzU3RyaW5nO1xyXG5cdFx0XHRcdFx0XHRoZWFkZXIuaXNDb21wcmVzc2VkID0gbGYuaXNDb21wcmVzc2VkO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gW2xmLCBoZWFkZXIsIGhhbmRsZXJdO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0cmV0dXJuIHJlYWRlcigpO1xyXG5cdFx0fSkudGhlbiggdiA9PiB7XHJcblx0XHRcdGxldCBsZiA9IHZbMF07XHJcblx0XHRcdC8vIHdlJ3JlIGRvbmUgbG9hZGluZyB0aGlzIGZpbGVcclxuXHRcdFx0Ly9cclxuXHRcdFx0TGFzTGF6TG9hZGVyLnByb2dyZXNzQ0IoMSk7XHJcblxyXG5cdFx0XHQvLyBDbG9zZSBpdFxyXG5cdFx0XHRyZXR1cm4gbGYuY2xvc2UoKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRsZi5pc09wZW4gPSBmYWxzZTtcclxuXHJcblx0XHRcdFx0cmV0dXJuIHYuc2xpY2UoMSk7XHJcblx0XHRcdH0pLmNhdGNoKGUgPT4ge1xyXG5cdFx0XHRcdC8vIElmIHRoZXJlIHdhcyBhIGNhbmNlbGxhdGlvbiwgbWFrZSBzdXJlIHRoZSBmaWxlIGlzIGNsb3NlZCwgaWYgdGhlIGZpbGUgaXMgb3BlblxyXG5cdFx0XHRcdC8vIGNsb3NlIGFuZCB0aGVuIGZhaWxcclxuXHRcdFx0XHRpZiAobGYuaXNPcGVuKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gbGYuY2xvc2UoKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0bGYuaXNPcGVuID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdHRocm93IGU7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dGhyb3cgZTtcdFxyXG5cdFx0XHR9KTtcdFxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRoYW5kbGUgKG5vZGUsIHVybCkge1xyXG5cclxuXHR9XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgTGFzTGF6QmF0Y2hlcntcclxuXHJcblx0Y29uc3RydWN0b3IgKG5vZGUpIHtcclxuXHRcdHRoaXMubm9kZSA9IG5vZGU7XHJcblx0fVxyXG5cclxuXHRwdXNoIChsYXNCdWZmZXIpIHtcclxuXHRcdGxldCB3b3JrZXJQYXRoID0gUG90cmVlLnNjcmlwdFBhdGggKyAnL3dvcmtlcnMvTEFTRGVjb2Rlcldvcmtlci5qcyc7XHJcblx0XHRsZXQgd29ya2VyID0gUG90cmVlLndvcmtlclBvb2wuZ2V0V29ya2VyKHdvcmtlclBhdGgpO1xyXG5cdFx0bGV0IG5vZGUgPSB0aGlzLm5vZGU7XHJcblxyXG5cdFx0d29ya2VyLm9ubWVzc2FnZSA9IChlKSA9PiB7XHJcblx0XHRcdGxldCBnZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpO1xyXG5cdFx0XHRsZXQgbnVtUG9pbnRzID0gbGFzQnVmZmVyLnBvaW50c0NvdW50O1xyXG5cclxuXHRcdFx0bGV0IHBvc2l0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkoZS5kYXRhLnBvc2l0aW9uKTtcclxuXHRcdFx0bGV0IGNvbG9ycyA9IG5ldyBVaW50OEFycmF5KGUuZGF0YS5jb2xvcik7XHJcblx0XHRcdGxldCBpbnRlbnNpdGllcyA9IG5ldyBGbG9hdDMyQXJyYXkoZS5kYXRhLmludGVuc2l0eSk7XHJcblx0XHRcdGxldCBjbGFzc2lmaWNhdGlvbnMgPSBuZXcgVWludDhBcnJheShlLmRhdGEuY2xhc3NpZmljYXRpb24pO1xyXG5cdFx0XHRsZXQgcmV0dXJuTnVtYmVycyA9IG5ldyBVaW50OEFycmF5KGUuZGF0YS5yZXR1cm5OdW1iZXIpO1xyXG5cdFx0XHRsZXQgbnVtYmVyT2ZSZXR1cm5zID0gbmV3IFVpbnQ4QXJyYXkoZS5kYXRhLm51bWJlck9mUmV0dXJucyk7XHJcblx0XHRcdGxldCBwb2ludFNvdXJjZUlEcyA9IG5ldyBVaW50MTZBcnJheShlLmRhdGEucG9pbnRTb3VyY2VJRCk7XHJcblx0XHRcdGxldCBpbmRpY2VzID0gbmV3IFVpbnQ4QXJyYXkoZS5kYXRhLmluZGljZXMpO1xyXG5cclxuXHRcdFx0Z2VvbWV0cnkuYWRkQXR0cmlidXRlKCdwb3NpdGlvbicsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUocG9zaXRpb25zLCAzKSk7XHJcblx0XHRcdGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgnY29sb3InLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKGNvbG9ycywgNCwgdHJ1ZSkpO1xyXG5cdFx0XHRnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ2ludGVuc2l0eScsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoaW50ZW5zaXRpZXMsIDEpKTtcclxuXHRcdFx0Z2VvbWV0cnkuYWRkQXR0cmlidXRlKCdjbGFzc2lmaWNhdGlvbicsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoY2xhc3NpZmljYXRpb25zLCAxKSk7XHJcblx0XHRcdGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgncmV0dXJuTnVtYmVyJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShyZXR1cm5OdW1iZXJzLCAxKSk7XHJcblx0XHRcdGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgnbnVtYmVyT2ZSZXR1cm5zJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShudW1iZXJPZlJldHVybnMsIDEpKTtcclxuXHRcdFx0Z2VvbWV0cnkuYWRkQXR0cmlidXRlKCdwb2ludFNvdXJjZUlEJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShwb2ludFNvdXJjZUlEcywgMSkpO1xyXG5cdFx0XHQvL2dlb21ldHJ5LmFkZEF0dHJpYnV0ZSgnbm9ybWFsJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KG51bVBvaW50cyAqIDMpLCAzKSk7XHJcblx0XHRcdGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgnaW5kaWNlcycsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoaW5kaWNlcywgNCkpO1xyXG5cdFx0XHRnZW9tZXRyeS5hdHRyaWJ1dGVzLmluZGljZXMubm9ybWFsaXplZCA9IHRydWU7XHJcblxyXG5cdFx0XHRsZXQgdGlnaHRCb3VuZGluZ0JveCA9IG5ldyBUSFJFRS5Cb3gzKFxyXG5cdFx0XHRcdG5ldyBUSFJFRS5WZWN0b3IzKCkuZnJvbUFycmF5KGUuZGF0YS50aWdodEJvdW5kaW5nQm94Lm1pbiksXHJcblx0XHRcdFx0bmV3IFRIUkVFLlZlY3RvcjMoKS5mcm9tQXJyYXkoZS5kYXRhLnRpZ2h0Qm91bmRpbmdCb3gubWF4KVxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0Z2VvbWV0cnkuYm91bmRpbmdCb3ggPSB0aGlzLm5vZGUuYm91bmRpbmdCb3g7XHJcblx0XHRcdHRoaXMubm9kZS50aWdodEJvdW5kaW5nQm94ID0gdGlnaHRCb3VuZGluZ0JveDtcclxuXHJcblx0XHRcdHRoaXMubm9kZS5nZW9tZXRyeSA9IGdlb21ldHJ5O1xyXG5cdFx0XHR0aGlzLm5vZGUubnVtUG9pbnRzID0gbnVtUG9pbnRzO1xyXG5cdFx0XHR0aGlzLm5vZGUubG9hZGVkID0gdHJ1ZTtcclxuXHRcdFx0dGhpcy5ub2RlLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0UG90cmVlLm51bU5vZGVzTG9hZGluZy0tO1xyXG5cdFx0XHR0aGlzLm5vZGUubWVhbiA9IG5ldyBUSFJFRS5WZWN0b3IzKC4uLmUuZGF0YS5tZWFuKTtcclxuXHJcblx0XHRcdC8vZGVidWdnZXI7XHJcblxyXG5cdFx0XHRQb3RyZWUud29ya2VyUG9vbC5yZXR1cm5Xb3JrZXIod29ya2VyUGF0aCwgd29ya2VyKTtcclxuXHRcdH07XHJcblxyXG5cdFx0bGV0IG1lc3NhZ2UgPSB7XHJcblx0XHRcdGJ1ZmZlcjogbGFzQnVmZmVyLmFycmF5YixcclxuXHRcdFx0bnVtUG9pbnRzOiBsYXNCdWZmZXIucG9pbnRzQ291bnQsXHJcblx0XHRcdHBvaW50U2l6ZTogbGFzQnVmZmVyLnBvaW50U2l6ZSxcclxuXHRcdFx0cG9pbnRGb3JtYXRJRDogMixcclxuXHRcdFx0c2NhbGU6IGxhc0J1ZmZlci5zY2FsZSxcclxuXHRcdFx0b2Zmc2V0OiBsYXNCdWZmZXIub2Zmc2V0LFxyXG5cdFx0XHRtaW5zOiBsYXNCdWZmZXIubWlucyxcclxuXHRcdFx0bWF4czogbGFzQnVmZmVyLm1heHNcclxuXHRcdH07XHJcblx0XHR3b3JrZXIucG9zdE1lc3NhZ2UobWVzc2FnZSwgW21lc3NhZ2UuYnVmZmVyXSk7XHJcblx0fTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/loader/LasLazLoader.js\n");

/***/ }),

/***/ "./src/loader/POCLoader.js":
/*!*********************************!*\
  !*** ./src/loader/POCLoader.js ***!
  \*********************************/
/*! exports provided: POCLoader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"POCLoader\", function() { return POCLoader; });\n/* harmony import */ var _PointCloudOctreeGeometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PointCloudOctreeGeometry.js */ \"./src/PointCloudOctreeGeometry.js\");\n/* harmony import */ var _Version_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Version.js */ \"./src/Version.js\");\n/* harmony import */ var _XHRFactory_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../XHRFactory.js */ \"./src/XHRFactory.js\");\n/* harmony import */ var _LasLazLoader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LasLazLoader.js */ \"./src/loader/LasLazLoader.js\");\n/* harmony import */ var _BinaryLoader_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./BinaryLoader.js */ \"./src/loader/BinaryLoader.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils.js */ \"./src/utils.js\");\n/* harmony import */ var _PointAttributes_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./PointAttributes.js */ \"./src/loader/PointAttributes.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass POCLoader {\r\n\r\n\tstatic load(url, callback){\r\n\t\ttry {\r\n\t\t\tlet pco = new _PointCloudOctreeGeometry_js__WEBPACK_IMPORTED_MODULE_0__[\"PointCloudOctreeGeometry\"]();\r\n\t\t\tpco.url = url;\r\n\t\t\tlet xhr = _XHRFactory_js__WEBPACK_IMPORTED_MODULE_2__[\"XHRFactory\"].createXMLHttpRequest();\r\n\t\t\txhr.open('GET', url, true);\r\n\r\n\t\t\txhr.onreadystatechange = function () {\r\n\t\t\t\tif (xhr.readyState === 4 && (xhr.status === 200 || xhr.status === 0)) {\r\n\t\t\t\t\tlet fMno = JSON.parse(xhr.responseText);\r\n\r\n\t\t\t\t\tlet version = new _Version_js__WEBPACK_IMPORTED_MODULE_1__[\"Version\"](fMno.version);\r\n\r\n\t\t\t\t\t// assume octreeDir is absolute if it starts with http\r\n\t\t\t\t\tif (fMno.octreeDir.indexOf('http') === 0) {\r\n\t\t\t\t\t\tpco.octreeDir = fMno.octreeDir;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tpco.octreeDir = url + '/../' + fMno.octreeDir;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpco.numPoints = fMno.points;\r\n\t\t\t\t\tpco.spacing = fMno.spacing;\r\n\t\t\t\t\tpco.hierarchyStepSize = fMno.hierarchyStepSize;\r\n\r\n\t\t\t\t\tpco.pointAttributes = fMno.pointAttributes;\r\n\r\n\t\t\t\t\tlet min = new ZeaEngine.Vec3(fMno.boundingBox.lx, fMno.boundingBox.ly, fMno.boundingBox.lz);\r\n\t\t\t\t\tlet max = new ZeaEngine.Vec3(fMno.boundingBox.ux, fMno.boundingBox.uy, fMno.boundingBox.uz);\r\n\t\t\t\t\tlet boundingBox = new ZeaEngine.Box3(min, max);\r\n\t\t\t\t\tlet tightBoundingBox = boundingBox.clone();\r\n\r\n\t\t\t\t\tif (fMno.tightBoundingBox) {\r\n\t\t\t\t\t\ttightBoundingBox.min.set(fMno.tightBoundingBox.lx, fMno.tightBoundingBox.ly, fMno.tightBoundingBox.lz);\r\n\t\t\t\t\t\ttightBoundingBox.max.set(fMno.tightBoundingBox.ux, fMno.tightBoundingBox.uy, fMno.tightBoundingBox.uz);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlet offset = min.clone();\r\n\r\n\t\t\t\t\tboundingBox.min.subtractInPlace(offset);\r\n\t\t\t\t\tboundingBox.max.subtractInPlace(offset);\r\n\r\n\t\t\t\t\ttightBoundingBox.min.subtractInPlace(offset);\r\n\t\t\t\t\ttightBoundingBox.max.subtractInPlace(offset);\r\n\r\n\t\t\t\t\tpco.projection = fMno.projection;\r\n\t\t\t\t\tpco.boundingBox = boundingBox;\r\n\t\t\t\t\tpco.tightBoundingBox = tightBoundingBox;\r\n\t\t\t\t\tpco.boundingSphere = boundingBox.getBoundingSphere();\r\n\t\t\t\t\tpco.tightBoundingSphere = tightBoundingBox.getBoundingSphere();\r\n\t\t\t\t\tpco.offset = offset;\r\n\t\t\t\t\tif (fMno.pointAttributes === 'LAS') {\r\n\t\t\t\t\t\tpco.loader = new _LasLazLoader_js__WEBPACK_IMPORTED_MODULE_3__[\"LasLazLoader\"](fMno.version);\r\n\t\t\t\t\t} else if (fMno.pointAttributes === 'LAZ') {\r\n\t\t\t\t\t\tpco.loader = new _LasLazLoader_js__WEBPACK_IMPORTED_MODULE_3__[\"LasLazLoader\"](fMno.version);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tpco.loader = new _BinaryLoader_js__WEBPACK_IMPORTED_MODULE_4__[\"BinaryLoader\"](fMno.version, boundingBox, fMno.scale);\r\n\t\t\t\t\t\tpco.pointAttributes = new _PointAttributes_js__WEBPACK_IMPORTED_MODULE_6__[\"PointAttributes\"](pco.pointAttributes);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlet nodes = {};\r\n\r\n\t\t\t\t\t{ // load root\r\n\t\t\t\t\t\tlet name = 'r';\r\n\r\n\t\t\t\t\t\tlet root = new _PointCloudOctreeGeometry_js__WEBPACK_IMPORTED_MODULE_0__[\"PointCloudOctreeGeometryNode\"](name, pco, boundingBox);\r\n\t\t\t\t\t\troot.level = 0;\r\n\t\t\t\t\t\troot.hasChildren = true;\r\n\t\t\t\t\t\troot.spacing = pco.spacing;\r\n\t\t\t\t\t\tif (version.upTo('1.5')) {\r\n\t\t\t\t\t\t\troot.numPoints = fMno.hierarchy[0][1];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\troot.numPoints = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tpco.root = root;\r\n\t\t\t\t\t\tpco.root.load();\r\n\t\t\t\t\t\tnodes[name] = root;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// load remaining hierarchy\r\n\t\t\t\t\tif (version.upTo('1.4')) {\r\n\t\t\t\t\t\tfor (let i = 1; i < fMno.hierarchy.length; i++) {\r\n\t\t\t\t\t\t\tlet name = fMno.hierarchy[i][0];\r\n\t\t\t\t\t\t\tlet numPoints = fMno.hierarchy[i][1];\r\n\t\t\t\t\t\t\tlet index = parseInt(name.charAt(name.length - 1));\r\n\t\t\t\t\t\t\tlet parentName = name.substring(0, name.length - 1);\r\n\t\t\t\t\t\t\tlet parentNode = nodes[parentName];\r\n\t\t\t\t\t\t\tlet level = name.length - 1;\r\n\t\t\t\t\t\t\t//let boundingBox = POCLoader.createChildAABB(parentNode.boundingBox, index);\r\n\t\t\t\t\t\t\tlet boundingBox = _utils_js__WEBPACK_IMPORTED_MODULE_5__[\"Utils\"].createChildAABB(parentNode.boundingBox, index);\r\n\r\n\t\t\t\t\t\t\tlet node = new _PointCloudOctreeGeometry_js__WEBPACK_IMPORTED_MODULE_0__[\"PointCloudOctreeGeometryNode\"](name, pco, boundingBox);\r\n\t\t\t\t\t\t\tnode.level = level;\r\n\t\t\t\t\t\t\tnode.numPoints = numPoints;\r\n\t\t\t\t\t\t\tnode.spacing = pco.spacing / Math.pow(2, level);\r\n\t\t\t\t\t\t\tparentNode.addChild(node);\r\n\t\t\t\t\t\t\tnodes[name] = node;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpco.nodes = nodes;\r\n\r\n\t\t\t\t\tcallback(pco);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\txhr.send(null);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(\"loading failed: '\" + url + \"'\");\r\n\t\t\tconsole.log(e);\r\n\r\n\t\t\tcallback();\r\n\t\t}\r\n\t}\r\n\r\n\tloadPointAttributes(mno){\r\n\t\tlet fpa = mno.pointAttributes;\r\n\t\tlet pa = new _PointAttributes_js__WEBPACK_IMPORTED_MODULE_6__[\"PointAttributes\"]();\r\n\r\n\t\tfor (let i = 0; i < fpa.length; i++) {\r\n\t\t\tlet pointAttribute = _PointAttributes_js__WEBPACK_IMPORTED_MODULE_6__[\"PointAttribute\"][fpa[i]];\r\n\t\t\tpa.add(pointAttribute);\r\n\t\t}\r\n\r\n\t\treturn pa;\r\n\t}\r\n\r\n\tcreateChildAABB(aabb, index){\r\n\t\tlet min = aabb.min.clone();\r\n\t\tlet max = aabb.max.clone();\r\n\t\t// let size = new ZeaEngine.Vec3().subVectors(max, min);\r\n\t\tlet size = max.subtract(min);\r\n\r\n\t\tif ((index & 0b0001) > 0) {\r\n\t\t\tmin.z += size.z / 2;\r\n\t\t} else {\r\n\t\t\tmax.z -= size.z / 2;\r\n\t\t}\r\n\r\n\t\tif ((index & 0b0010) > 0) {\r\n\t\t\tmin.y += size.y / 2;\r\n\t\t} else {\r\n\t\t\tmax.y -= size.y / 2;\r\n\t\t}\r\n\r\n\t\tif ((index & 0b0100) > 0) {\r\n\t\t\tmin.x += size.x / 2;\r\n\t\t} else {\r\n\t\t\tmax.x -= size.x / 2;\r\n\t\t}\r\n\r\n\t\treturn new ZeaEngine.Box3(min, max);\r\n\t}\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9zcmMvbG9hZGVyL1BPQ0xvYWRlci5qcz9hOWMxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBRXNHO0FBQ2hFO0FBQ007QUFDRztBQUNBO0FBQ2I7QUFDbUM7O0FBRTlEOztBQUVQO0FBQ0E7QUFDQSxpQkFBaUIscUZBQXdCO0FBQ3pDO0FBQ0EsYUFBYSx5REFBVTtBQUN2Qjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCLG1EQUFPOztBQUU5QjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDZEQUFZO0FBQ25DLE1BQU07QUFDTix1QkFBdUIsNkRBQVk7QUFDbkMsTUFBTTtBQUNOLHVCQUF1Qiw2REFBWTtBQUNuQyxnQ0FBZ0MsbUVBQWU7QUFDL0M7O0FBRUE7O0FBRUEsTUFBTTtBQUNOOztBQUVBLHFCQUFxQix5RkFBNEI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFCQUFxQiwyQkFBMkI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsK0NBQUs7O0FBRTlCLHNCQUFzQix5RkFBNEI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLG1FQUFlOztBQUU5QixpQkFBaUIsZ0JBQWdCO0FBQ2pDLHdCQUF3QixrRUFBYztBQUN0QztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9zcmMvbG9hZGVyL1BPQ0xvYWRlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5cclxuaW1wb3J0IHtQb2ludENsb3VkT2N0cmVlR2VvbWV0cnksIFBvaW50Q2xvdWRPY3RyZWVHZW9tZXRyeU5vZGV9IGZyb20gXCIuLi9Qb2ludENsb3VkT2N0cmVlR2VvbWV0cnkuanNcIjtcclxuaW1wb3J0IHtWZXJzaW9ufSBmcm9tIFwiLi4vVmVyc2lvbi5qc1wiO1xyXG5pbXBvcnQge1hIUkZhY3Rvcnl9IGZyb20gXCIuLi9YSFJGYWN0b3J5LmpzXCI7XHJcbmltcG9ydCB7TGFzTGF6TG9hZGVyfSBmcm9tIFwiLi9MYXNMYXpMb2FkZXIuanNcIjtcclxuaW1wb3J0IHtCaW5hcnlMb2FkZXJ9IGZyb20gXCIuL0JpbmFyeUxvYWRlci5qc1wiO1xyXG5pbXBvcnQge1V0aWxzfSBmcm9tIFwiLi4vdXRpbHMuanNcIjtcclxuaW1wb3J0IHtQb2ludEF0dHJpYnV0ZSwgUG9pbnRBdHRyaWJ1dGVzfSBmcm9tIFwiLi9Qb2ludEF0dHJpYnV0ZXMuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQT0NMb2FkZXIge1xyXG5cclxuXHRzdGF0aWMgbG9hZCh1cmwsIGNhbGxiYWNrKXtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGxldCBwY28gPSBuZXcgUG9pbnRDbG91ZE9jdHJlZUdlb21ldHJ5KCk7XHJcblx0XHRcdHBjby51cmwgPSB1cmw7XHJcblx0XHRcdGxldCB4aHIgPSBYSFJGYWN0b3J5LmNyZWF0ZVhNTEh0dHBSZXF1ZXN0KCk7XHJcblx0XHRcdHhoci5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xyXG5cclxuXHRcdFx0eGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQgJiYgKHhoci5zdGF0dXMgPT09IDIwMCB8fCB4aHIuc3RhdHVzID09PSAwKSkge1xyXG5cdFx0XHRcdFx0bGV0IGZNbm8gPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xyXG5cclxuXHRcdFx0XHRcdGxldCB2ZXJzaW9uID0gbmV3IFZlcnNpb24oZk1uby52ZXJzaW9uKTtcclxuXHJcblx0XHRcdFx0XHQvLyBhc3N1bWUgb2N0cmVlRGlyIGlzIGFic29sdXRlIGlmIGl0IHN0YXJ0cyB3aXRoIGh0dHBcclxuXHRcdFx0XHRcdGlmIChmTW5vLm9jdHJlZURpci5pbmRleE9mKCdodHRwJykgPT09IDApIHtcclxuXHRcdFx0XHRcdFx0cGNvLm9jdHJlZURpciA9IGZNbm8ub2N0cmVlRGlyO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0cGNvLm9jdHJlZURpciA9IHVybCArICcvLi4vJyArIGZNbm8ub2N0cmVlRGlyO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHBjby5udW1Qb2ludHMgPSBmTW5vLnBvaW50cztcclxuXHRcdFx0XHRcdHBjby5zcGFjaW5nID0gZk1uby5zcGFjaW5nO1xyXG5cdFx0XHRcdFx0cGNvLmhpZXJhcmNoeVN0ZXBTaXplID0gZk1uby5oaWVyYXJjaHlTdGVwU2l6ZTtcclxuXHJcblx0XHRcdFx0XHRwY28ucG9pbnRBdHRyaWJ1dGVzID0gZk1uby5wb2ludEF0dHJpYnV0ZXM7XHJcblxyXG5cdFx0XHRcdFx0bGV0IG1pbiA9IG5ldyBaZWFFbmdpbmUuVmVjMyhmTW5vLmJvdW5kaW5nQm94Lmx4LCBmTW5vLmJvdW5kaW5nQm94Lmx5LCBmTW5vLmJvdW5kaW5nQm94Lmx6KTtcclxuXHRcdFx0XHRcdGxldCBtYXggPSBuZXcgWmVhRW5naW5lLlZlYzMoZk1uby5ib3VuZGluZ0JveC51eCwgZk1uby5ib3VuZGluZ0JveC51eSwgZk1uby5ib3VuZGluZ0JveC51eik7XHJcblx0XHRcdFx0XHRsZXQgYm91bmRpbmdCb3ggPSBuZXcgWmVhRW5naW5lLkJveDMobWluLCBtYXgpO1xyXG5cdFx0XHRcdFx0bGV0IHRpZ2h0Qm91bmRpbmdCb3ggPSBib3VuZGluZ0JveC5jbG9uZSgpO1xyXG5cclxuXHRcdFx0XHRcdGlmIChmTW5vLnRpZ2h0Qm91bmRpbmdCb3gpIHtcclxuXHRcdFx0XHRcdFx0dGlnaHRCb3VuZGluZ0JveC5taW4uc2V0KGZNbm8udGlnaHRCb3VuZGluZ0JveC5seCwgZk1uby50aWdodEJvdW5kaW5nQm94Lmx5LCBmTW5vLnRpZ2h0Qm91bmRpbmdCb3gubHopO1xyXG5cdFx0XHRcdFx0XHR0aWdodEJvdW5kaW5nQm94Lm1heC5zZXQoZk1uby50aWdodEJvdW5kaW5nQm94LnV4LCBmTW5vLnRpZ2h0Qm91bmRpbmdCb3gudXksIGZNbm8udGlnaHRCb3VuZGluZ0JveC51eik7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0bGV0IG9mZnNldCA9IG1pbi5jbG9uZSgpO1xyXG5cclxuXHRcdFx0XHRcdGJvdW5kaW5nQm94Lm1pbi5zdWJ0cmFjdEluUGxhY2Uob2Zmc2V0KTtcclxuXHRcdFx0XHRcdGJvdW5kaW5nQm94Lm1heC5zdWJ0cmFjdEluUGxhY2Uob2Zmc2V0KTtcclxuXHJcblx0XHRcdFx0XHR0aWdodEJvdW5kaW5nQm94Lm1pbi5zdWJ0cmFjdEluUGxhY2Uob2Zmc2V0KTtcclxuXHRcdFx0XHRcdHRpZ2h0Qm91bmRpbmdCb3gubWF4LnN1YnRyYWN0SW5QbGFjZShvZmZzZXQpO1xyXG5cclxuXHRcdFx0XHRcdHBjby5wcm9qZWN0aW9uID0gZk1uby5wcm9qZWN0aW9uO1xyXG5cdFx0XHRcdFx0cGNvLmJvdW5kaW5nQm94ID0gYm91bmRpbmdCb3g7XHJcblx0XHRcdFx0XHRwY28udGlnaHRCb3VuZGluZ0JveCA9IHRpZ2h0Qm91bmRpbmdCb3g7XHJcblx0XHRcdFx0XHRwY28uYm91bmRpbmdTcGhlcmUgPSBib3VuZGluZ0JveC5nZXRCb3VuZGluZ1NwaGVyZSgpO1xyXG5cdFx0XHRcdFx0cGNvLnRpZ2h0Qm91bmRpbmdTcGhlcmUgPSB0aWdodEJvdW5kaW5nQm94LmdldEJvdW5kaW5nU3BoZXJlKCk7XHJcblx0XHRcdFx0XHRwY28ub2Zmc2V0ID0gb2Zmc2V0O1xyXG5cdFx0XHRcdFx0aWYgKGZNbm8ucG9pbnRBdHRyaWJ1dGVzID09PSAnTEFTJykge1xyXG5cdFx0XHRcdFx0XHRwY28ubG9hZGVyID0gbmV3IExhc0xhekxvYWRlcihmTW5vLnZlcnNpb24pO1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmIChmTW5vLnBvaW50QXR0cmlidXRlcyA9PT0gJ0xBWicpIHtcclxuXHRcdFx0XHRcdFx0cGNvLmxvYWRlciA9IG5ldyBMYXNMYXpMb2FkZXIoZk1uby52ZXJzaW9uKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHBjby5sb2FkZXIgPSBuZXcgQmluYXJ5TG9hZGVyKGZNbm8udmVyc2lvbiwgYm91bmRpbmdCb3gsIGZNbm8uc2NhbGUpO1xyXG5cdFx0XHRcdFx0XHRwY28ucG9pbnRBdHRyaWJ1dGVzID0gbmV3IFBvaW50QXR0cmlidXRlcyhwY28ucG9pbnRBdHRyaWJ1dGVzKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRsZXQgbm9kZXMgPSB7fTtcclxuXHJcblx0XHRcdFx0XHR7IC8vIGxvYWQgcm9vdFxyXG5cdFx0XHRcdFx0XHRsZXQgbmFtZSA9ICdyJztcclxuXHJcblx0XHRcdFx0XHRcdGxldCByb290ID0gbmV3IFBvaW50Q2xvdWRPY3RyZWVHZW9tZXRyeU5vZGUobmFtZSwgcGNvLCBib3VuZGluZ0JveCk7XHJcblx0XHRcdFx0XHRcdHJvb3QubGV2ZWwgPSAwO1xyXG5cdFx0XHRcdFx0XHRyb290Lmhhc0NoaWxkcmVuID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0cm9vdC5zcGFjaW5nID0gcGNvLnNwYWNpbmc7XHJcblx0XHRcdFx0XHRcdGlmICh2ZXJzaW9uLnVwVG8oJzEuNScpKSB7XHJcblx0XHRcdFx0XHRcdFx0cm9vdC5udW1Qb2ludHMgPSBmTW5vLmhpZXJhcmNoeVswXVsxXTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRyb290Lm51bVBvaW50cyA9IDA7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0cGNvLnJvb3QgPSByb290O1xyXG5cdFx0XHRcdFx0XHRwY28ucm9vdC5sb2FkKCk7XHJcblx0XHRcdFx0XHRcdG5vZGVzW25hbWVdID0gcm9vdDtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBsb2FkIHJlbWFpbmluZyBoaWVyYXJjaHlcclxuXHRcdFx0XHRcdGlmICh2ZXJzaW9uLnVwVG8oJzEuNCcpKSB7XHJcblx0XHRcdFx0XHRcdGZvciAobGV0IGkgPSAxOyBpIDwgZk1uby5oaWVyYXJjaHkubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0XHRsZXQgbmFtZSA9IGZNbm8uaGllcmFyY2h5W2ldWzBdO1xyXG5cdFx0XHRcdFx0XHRcdGxldCBudW1Qb2ludHMgPSBmTW5vLmhpZXJhcmNoeVtpXVsxXTtcclxuXHRcdFx0XHRcdFx0XHRsZXQgaW5kZXggPSBwYXJzZUludChuYW1lLmNoYXJBdChuYW1lLmxlbmd0aCAtIDEpKTtcclxuXHRcdFx0XHRcdFx0XHRsZXQgcGFyZW50TmFtZSA9IG5hbWUuc3Vic3RyaW5nKDAsIG5hbWUubGVuZ3RoIC0gMSk7XHJcblx0XHRcdFx0XHRcdFx0bGV0IHBhcmVudE5vZGUgPSBub2Rlc1twYXJlbnROYW1lXTtcclxuXHRcdFx0XHRcdFx0XHRsZXQgbGV2ZWwgPSBuYW1lLmxlbmd0aCAtIDE7XHJcblx0XHRcdFx0XHRcdFx0Ly9sZXQgYm91bmRpbmdCb3ggPSBQT0NMb2FkZXIuY3JlYXRlQ2hpbGRBQUJCKHBhcmVudE5vZGUuYm91bmRpbmdCb3gsIGluZGV4KTtcclxuXHRcdFx0XHRcdFx0XHRsZXQgYm91bmRpbmdCb3ggPSBVdGlscy5jcmVhdGVDaGlsZEFBQkIocGFyZW50Tm9kZS5ib3VuZGluZ0JveCwgaW5kZXgpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRsZXQgbm9kZSA9IG5ldyBQb2ludENsb3VkT2N0cmVlR2VvbWV0cnlOb2RlKG5hbWUsIHBjbywgYm91bmRpbmdCb3gpO1xyXG5cdFx0XHRcdFx0XHRcdG5vZGUubGV2ZWwgPSBsZXZlbDtcclxuXHRcdFx0XHRcdFx0XHRub2RlLm51bVBvaW50cyA9IG51bVBvaW50cztcclxuXHRcdFx0XHRcdFx0XHRub2RlLnNwYWNpbmcgPSBwY28uc3BhY2luZyAvIE1hdGgucG93KDIsIGxldmVsKTtcclxuXHRcdFx0XHRcdFx0XHRwYXJlbnROb2RlLmFkZENoaWxkKG5vZGUpO1xyXG5cdFx0XHRcdFx0XHRcdG5vZGVzW25hbWVdID0gbm9kZTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHBjby5ub2RlcyA9IG5vZGVzO1xyXG5cclxuXHRcdFx0XHRcdGNhbGxiYWNrKHBjbyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0eGhyLnNlbmQobnVsbCk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKFwibG9hZGluZyBmYWlsZWQ6ICdcIiArIHVybCArIFwiJ1wiKTtcclxuXHRcdFx0Y29uc29sZS5sb2coZSk7XHJcblxyXG5cdFx0XHRjYWxsYmFjaygpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0bG9hZFBvaW50QXR0cmlidXRlcyhtbm8pe1xyXG5cdFx0bGV0IGZwYSA9IG1uby5wb2ludEF0dHJpYnV0ZXM7XHJcblx0XHRsZXQgcGEgPSBuZXcgUG9pbnRBdHRyaWJ1dGVzKCk7XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBmcGEubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0bGV0IHBvaW50QXR0cmlidXRlID0gUG9pbnRBdHRyaWJ1dGVbZnBhW2ldXTtcclxuXHRcdFx0cGEuYWRkKHBvaW50QXR0cmlidXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcGE7XHJcblx0fVxyXG5cclxuXHRjcmVhdGVDaGlsZEFBQkIoYWFiYiwgaW5kZXgpe1xyXG5cdFx0bGV0IG1pbiA9IGFhYmIubWluLmNsb25lKCk7XHJcblx0XHRsZXQgbWF4ID0gYWFiYi5tYXguY2xvbmUoKTtcclxuXHRcdC8vIGxldCBzaXplID0gbmV3IFplYUVuZ2luZS5WZWMzKCkuc3ViVmVjdG9ycyhtYXgsIG1pbik7XHJcblx0XHRsZXQgc2l6ZSA9IG1heC5zdWJ0cmFjdChtaW4pO1xyXG5cclxuXHRcdGlmICgoaW5kZXggJiAwYjAwMDEpID4gMCkge1xyXG5cdFx0XHRtaW4ueiArPSBzaXplLnogLyAyO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bWF4LnogLT0gc2l6ZS56IC8gMjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoKGluZGV4ICYgMGIwMDEwKSA+IDApIHtcclxuXHRcdFx0bWluLnkgKz0gc2l6ZS55IC8gMjtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG1heC55IC09IHNpemUueSAvIDI7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKChpbmRleCAmIDBiMDEwMCkgPiAwKSB7XHJcblx0XHRcdG1pbi54ICs9IHNpemUueCAvIDI7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRtYXgueCAtPSBzaXplLnggLyAyO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBuZXcgWmVhRW5naW5lLkJveDMobWluLCBtYXgpO1xyXG5cdH1cclxufVxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/loader/POCLoader.js\n");

/***/ }),

/***/ "./src/loader/PointAttributes.js":
/*!***************************************!*\
  !*** ./src/loader/PointAttributes.js ***!
  \***************************************/
/*! exports provided: PointAttributeNames, PointAttributeTypes, PointAttribute, PointAttributes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PointAttributeNames\", function() { return PointAttributeNames; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PointAttributeTypes\", function() { return PointAttributeTypes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PointAttribute\", function() { return PointAttribute; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PointAttributes\", function() { return PointAttributes; });\n\r\n\r\nconst PointAttributeNames = {\r\n\tPOSITION_CARTESIAN: 0, // float x, y, z;\r\n\tCOLOR_PACKED: 1, // byte r, g, b, a; \tI: [0,1]\r\n\tCOLOR_FLOATS_1: 2, // float r, g, b; \tI: [0,1]\r\n\tCOLOR_FLOATS_255: 3, // float r, g, b; \tI: [0,255]\r\n\tNORMAL_FLOATS: 4, // float x, y, z;\r\n\tFILLER: 5,\r\n\tINTENSITY: 6,\r\n\tCLASSIFICATION: 7,\r\n\tNORMAL_SPHEREMAPPED: 8,\r\n\tNORMAL_OCT16: 9,\r\n\tNORMAL: 10,\r\n\tRETURN_NUMBER: 11,\r\n\tNUMBER_OF_RETURNS: 12,\r\n\tSOURCE_ID: 13,\r\n\tINDICES: 14,\r\n\tSPACING: 15,\r\n\tGPS_TIME: 16,\r\n};\r\n\r\n\r\n/**\r\n * Some types of possible point attribute data formats\r\n *\r\n * @class\r\n */\r\nconst PointAttributeTypes = {\r\n\tDATA_TYPE_DOUBLE: {ordinal: 0, size: 8},\r\n\tDATA_TYPE_FLOAT: {ordinal: 1, size: 4},\r\n\tDATA_TYPE_INT8: {ordinal: 2, size: 1},\r\n\tDATA_TYPE_UINT8: {ordinal: 3, size: 1},\r\n\tDATA_TYPE_INT16: {ordinal: 4, size: 2},\r\n\tDATA_TYPE_UINT16: {ordinal: 5, size: 2},\r\n\tDATA_TYPE_INT32: {ordinal: 6, size: 4},\r\n\tDATA_TYPE_UINT32: {ordinal: 7, size: 4},\r\n\tDATA_TYPE_INT64: {ordinal: 8, size: 8},\r\n\tDATA_TYPE_UINT64: {ordinal: 9, size: 8}\r\n};\r\n\r\nlet i = 0;\r\nfor (let obj in PointAttributeTypes) {\r\n\tPointAttributeTypes[i] = PointAttributeTypes[obj];\r\n\ti++;\r\n}\r\n\r\n\r\n\r\n\r\nclass PointAttribute{\r\n\t\r\n\tconstructor(name, type, numElements){\r\n\t\tthis.name = name;\r\n\t\tthis.type = type;\r\n\t\tthis.numElements = numElements;\r\n\t\tthis.byteSize = this.numElements * this.type.size;\r\n\t}\r\n\r\n};\r\n\r\nPointAttribute.POSITION_CARTESIAN = new PointAttribute(\r\n\tPointAttributeNames.POSITION_CARTESIAN,\r\n\tPointAttributeTypes.DATA_TYPE_FLOAT, 3);\r\n\r\nPointAttribute.RGBA_PACKED = new PointAttribute(\r\n\tPointAttributeNames.COLOR_PACKED,\r\n\tPointAttributeTypes.DATA_TYPE_INT8, 4);\r\n\r\nPointAttribute.COLOR_PACKED = PointAttribute.RGBA_PACKED;\r\n\r\nPointAttribute.RGB_PACKED = new PointAttribute(\r\n\tPointAttributeNames.COLOR_PACKED,\r\n\tPointAttributeTypes.DATA_TYPE_INT8, 3);\r\n\r\nPointAttribute.NORMAL_FLOATS = new PointAttribute(\r\n\tPointAttributeNames.NORMAL_FLOATS,\r\n\tPointAttributeTypes.DATA_TYPE_FLOAT, 3);\r\n\r\nPointAttribute.FILLER_1B = new PointAttribute(\r\n\tPointAttributeNames.FILLER,\r\n\tPointAttributeTypes.DATA_TYPE_UINT8, 1);\r\n\r\nPointAttribute.INTENSITY = new PointAttribute(\r\n\tPointAttributeNames.INTENSITY,\r\n\tPointAttributeTypes.DATA_TYPE_UINT16, 1);\r\n\r\nPointAttribute.CLASSIFICATION = new PointAttribute(\r\n\tPointAttributeNames.CLASSIFICATION,\r\n\tPointAttributeTypes.DATA_TYPE_UINT8, 1);\r\n\r\nPointAttribute.NORMAL_SPHEREMAPPED = new PointAttribute(\r\n\tPointAttributeNames.NORMAL_SPHEREMAPPED,\r\n\tPointAttributeTypes.DATA_TYPE_UINT8, 2);\r\n\r\nPointAttribute.NORMAL_OCT16 = new PointAttribute(\r\n\tPointAttributeNames.NORMAL_OCT16,\r\n\tPointAttributeTypes.DATA_TYPE_UINT8, 2);\r\n\r\nPointAttribute.NORMAL = new PointAttribute(\r\n\tPointAttributeNames.NORMAL,\r\n\tPointAttributeTypes.DATA_TYPE_FLOAT, 3);\r\n\t\r\nPointAttribute.RETURN_NUMBER = new PointAttribute(\r\n\tPointAttributeNames.RETURN_NUMBER,\r\n\tPointAttributeTypes.DATA_TYPE_UINT8, 1);\r\n\t\r\nPointAttribute.NUMBER_OF_RETURNS = new PointAttribute(\r\n\tPointAttributeNames.NUMBER_OF_RETURNS,\r\n\tPointAttributeTypes.DATA_TYPE_UINT8, 1);\r\n\t\r\nPointAttribute.SOURCE_ID = new PointAttribute(\r\n\tPointAttributeNames.SOURCE_ID,\r\n\tPointAttributeTypes.DATA_TYPE_UINT16, 1);\r\n\r\nPointAttribute.INDICES = new PointAttribute(\r\n\tPointAttributeNames.INDICES,\r\n\tPointAttributeTypes.DATA_TYPE_UINT32, 1);\r\n\r\nPointAttribute.SPACING = new PointAttribute(\r\n\tPointAttributeNames.SPACING,\r\n\tPointAttributeTypes.DATA_TYPE_FLOAT, 1);\r\n\r\nPointAttribute.GPS_TIME = new PointAttribute(\r\n\tPointAttributeNames.GPS_TIME,\r\n\tPointAttributeTypes.DATA_TYPE_DOUBLE, 1);\r\n\r\n\r\n\r\nclass PointAttributes{\r\n\r\n\tconstructor(pointAttributes){\r\n\t\tthis.attributes = [];\r\n\t\tthis.byteSize = 0;\r\n\t\tthis.size = 0;\r\n\r\n\t\tif (pointAttributes != null) {\r\n\t\t\tfor (let i = 0; i < pointAttributes.length; i++) {\r\n\t\t\t\tlet pointAttributeName = pointAttributes[i];\r\n\t\t\t\tlet pointAttribute = PointAttribute[pointAttributeName];\r\n\t\t\t\tthis.attributes.push(pointAttribute);\r\n\t\t\t\tthis.byteSize += pointAttribute.byteSize;\r\n\t\t\t\tthis.size++;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tadd(pointAttribute){\r\n\t\tthis.attributes.push(pointAttribute);\r\n\t\tthis.byteSize += pointAttribute.byteSize;\r\n\t\tthis.size++;\r\n\t};\r\n\r\n\thasColors(){\r\n\t\tfor (let name in this.attributes) {\r\n\t\t\tlet pointAttribute = this.attributes[name];\r\n\t\t\tif (pointAttribute.name === PointAttributeNames.COLOR_PACKED) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\thasNormals(){\r\n\t\tfor (let name in this.attributes) {\r\n\t\t\tlet pointAttribute = this.attributes[name];\r\n\t\t\tif (\r\n\t\t\t\tpointAttribute === PointAttribute.NORMAL_SPHEREMAPPED ||\r\n\t\t\t\tpointAttribute === PointAttribute.NORMAL_FLOATS ||\r\n\t\t\t\tpointAttribute === PointAttribute.NORMAL ||\r\n\t\t\t\tpointAttribute === PointAttribute.NORMAL_OCT16) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9zcmMvbG9hZGVyL1BvaW50QXR0cmlidXRlcy5qcz80MjcwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFTztBQUNQO0FBQ0EscUNBQXFDO0FBQ3JDLHFDQUFxQztBQUNyQyx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG9CQUFvQjtBQUN4QyxtQkFBbUIsb0JBQW9CO0FBQ3ZDLGtCQUFrQixvQkFBb0I7QUFDdEMsbUJBQW1CLG9CQUFvQjtBQUN2QyxtQkFBbUIsb0JBQW9CO0FBQ3ZDLG9CQUFvQixvQkFBb0I7QUFDeEMsbUJBQW1CLG9CQUFvQjtBQUN2QyxvQkFBb0Isb0JBQW9CO0FBQ3hDLG1CQUFtQixvQkFBb0I7QUFDdkMsb0JBQW9CO0FBQ3BCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTZCOzs7QUFHN0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFd0I7O0FBRWpCOztBQUVQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLDRCQUE0QjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vc3JjL2xvYWRlci9Qb2ludEF0dHJpYnV0ZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuXHJcbmV4cG9ydCBjb25zdCBQb2ludEF0dHJpYnV0ZU5hbWVzID0ge1xyXG5cdFBPU0lUSU9OX0NBUlRFU0lBTjogMCwgLy8gZmxvYXQgeCwgeSwgejtcclxuXHRDT0xPUl9QQUNLRUQ6IDEsIC8vIGJ5dGUgciwgZywgYiwgYTsgXHRJOiBbMCwxXVxyXG5cdENPTE9SX0ZMT0FUU18xOiAyLCAvLyBmbG9hdCByLCBnLCBiOyBcdEk6IFswLDFdXHJcblx0Q09MT1JfRkxPQVRTXzI1NTogMywgLy8gZmxvYXQgciwgZywgYjsgXHRJOiBbMCwyNTVdXHJcblx0Tk9STUFMX0ZMT0FUUzogNCwgLy8gZmxvYXQgeCwgeSwgejtcclxuXHRGSUxMRVI6IDUsXHJcblx0SU5URU5TSVRZOiA2LFxyXG5cdENMQVNTSUZJQ0FUSU9OOiA3LFxyXG5cdE5PUk1BTF9TUEhFUkVNQVBQRUQ6IDgsXHJcblx0Tk9STUFMX09DVDE2OiA5LFxyXG5cdE5PUk1BTDogMTAsXHJcblx0UkVUVVJOX05VTUJFUjogMTEsXHJcblx0TlVNQkVSX09GX1JFVFVSTlM6IDEyLFxyXG5cdFNPVVJDRV9JRDogMTMsXHJcblx0SU5ESUNFUzogMTQsXHJcblx0U1BBQ0lORzogMTUsXHJcblx0R1BTX1RJTUU6IDE2LFxyXG59O1xyXG5cclxuXHJcbi8qKlxyXG4gKiBTb21lIHR5cGVzIG9mIHBvc3NpYmxlIHBvaW50IGF0dHJpYnV0ZSBkYXRhIGZvcm1hdHNcclxuICpcclxuICogQGNsYXNzXHJcbiAqL1xyXG5jb25zdCBQb2ludEF0dHJpYnV0ZVR5cGVzID0ge1xyXG5cdERBVEFfVFlQRV9ET1VCTEU6IHtvcmRpbmFsOiAwLCBzaXplOiA4fSxcclxuXHREQVRBX1RZUEVfRkxPQVQ6IHtvcmRpbmFsOiAxLCBzaXplOiA0fSxcclxuXHREQVRBX1RZUEVfSU5UODoge29yZGluYWw6IDIsIHNpemU6IDF9LFxyXG5cdERBVEFfVFlQRV9VSU5UODoge29yZGluYWw6IDMsIHNpemU6IDF9LFxyXG5cdERBVEFfVFlQRV9JTlQxNjoge29yZGluYWw6IDQsIHNpemU6IDJ9LFxyXG5cdERBVEFfVFlQRV9VSU5UMTY6IHtvcmRpbmFsOiA1LCBzaXplOiAyfSxcclxuXHREQVRBX1RZUEVfSU5UMzI6IHtvcmRpbmFsOiA2LCBzaXplOiA0fSxcclxuXHREQVRBX1RZUEVfVUlOVDMyOiB7b3JkaW5hbDogNywgc2l6ZTogNH0sXHJcblx0REFUQV9UWVBFX0lOVDY0OiB7b3JkaW5hbDogOCwgc2l6ZTogOH0sXHJcblx0REFUQV9UWVBFX1VJTlQ2NDoge29yZGluYWw6IDksIHNpemU6IDh9XHJcbn07XHJcblxyXG5sZXQgaSA9IDA7XHJcbmZvciAobGV0IG9iaiBpbiBQb2ludEF0dHJpYnV0ZVR5cGVzKSB7XHJcblx0UG9pbnRBdHRyaWJ1dGVUeXBlc1tpXSA9IFBvaW50QXR0cmlidXRlVHlwZXNbb2JqXTtcclxuXHRpKys7XHJcbn1cclxuXHJcbmV4cG9ydCB7UG9pbnRBdHRyaWJ1dGVUeXBlc307XHJcblxyXG5cclxuY2xhc3MgUG9pbnRBdHRyaWJ1dGV7XHJcblx0XHJcblx0Y29uc3RydWN0b3IobmFtZSwgdHlwZSwgbnVtRWxlbWVudHMpe1xyXG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcclxuXHRcdHRoaXMudHlwZSA9IHR5cGU7XHJcblx0XHR0aGlzLm51bUVsZW1lbnRzID0gbnVtRWxlbWVudHM7XHJcblx0XHR0aGlzLmJ5dGVTaXplID0gdGhpcy5udW1FbGVtZW50cyAqIHRoaXMudHlwZS5zaXplO1xyXG5cdH1cclxuXHJcbn07XHJcblxyXG5Qb2ludEF0dHJpYnV0ZS5QT1NJVElPTl9DQVJURVNJQU4gPSBuZXcgUG9pbnRBdHRyaWJ1dGUoXHJcblx0UG9pbnRBdHRyaWJ1dGVOYW1lcy5QT1NJVElPTl9DQVJURVNJQU4sXHJcblx0UG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfRkxPQVQsIDMpO1xyXG5cclxuUG9pbnRBdHRyaWJ1dGUuUkdCQV9QQUNLRUQgPSBuZXcgUG9pbnRBdHRyaWJ1dGUoXHJcblx0UG9pbnRBdHRyaWJ1dGVOYW1lcy5DT0xPUl9QQUNLRUQsXHJcblx0UG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfSU5UOCwgNCk7XHJcblxyXG5Qb2ludEF0dHJpYnV0ZS5DT0xPUl9QQUNLRUQgPSBQb2ludEF0dHJpYnV0ZS5SR0JBX1BBQ0tFRDtcclxuXHJcblBvaW50QXR0cmlidXRlLlJHQl9QQUNLRUQgPSBuZXcgUG9pbnRBdHRyaWJ1dGUoXHJcblx0UG9pbnRBdHRyaWJ1dGVOYW1lcy5DT0xPUl9QQUNLRUQsXHJcblx0UG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfSU5UOCwgMyk7XHJcblxyXG5Qb2ludEF0dHJpYnV0ZS5OT1JNQUxfRkxPQVRTID0gbmV3IFBvaW50QXR0cmlidXRlKFxyXG5cdFBvaW50QXR0cmlidXRlTmFtZXMuTk9STUFMX0ZMT0FUUyxcclxuXHRQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9GTE9BVCwgMyk7XHJcblxyXG5Qb2ludEF0dHJpYnV0ZS5GSUxMRVJfMUIgPSBuZXcgUG9pbnRBdHRyaWJ1dGUoXHJcblx0UG9pbnRBdHRyaWJ1dGVOYW1lcy5GSUxMRVIsXHJcblx0UG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDgsIDEpO1xyXG5cclxuUG9pbnRBdHRyaWJ1dGUuSU5URU5TSVRZID0gbmV3IFBvaW50QXR0cmlidXRlKFxyXG5cdFBvaW50QXR0cmlidXRlTmFtZXMuSU5URU5TSVRZLFxyXG5cdFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX1VJTlQxNiwgMSk7XHJcblxyXG5Qb2ludEF0dHJpYnV0ZS5DTEFTU0lGSUNBVElPTiA9IG5ldyBQb2ludEF0dHJpYnV0ZShcclxuXHRQb2ludEF0dHJpYnV0ZU5hbWVzLkNMQVNTSUZJQ0FUSU9OLFxyXG5cdFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX1VJTlQ4LCAxKTtcclxuXHJcblBvaW50QXR0cmlidXRlLk5PUk1BTF9TUEhFUkVNQVBQRUQgPSBuZXcgUG9pbnRBdHRyaWJ1dGUoXHJcblx0UG9pbnRBdHRyaWJ1dGVOYW1lcy5OT1JNQUxfU1BIRVJFTUFQUEVELFxyXG5cdFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX1VJTlQ4LCAyKTtcclxuXHJcblBvaW50QXR0cmlidXRlLk5PUk1BTF9PQ1QxNiA9IG5ldyBQb2ludEF0dHJpYnV0ZShcclxuXHRQb2ludEF0dHJpYnV0ZU5hbWVzLk5PUk1BTF9PQ1QxNixcclxuXHRQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UOCwgMik7XHJcblxyXG5Qb2ludEF0dHJpYnV0ZS5OT1JNQUwgPSBuZXcgUG9pbnRBdHRyaWJ1dGUoXHJcblx0UG9pbnRBdHRyaWJ1dGVOYW1lcy5OT1JNQUwsXHJcblx0UG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfRkxPQVQsIDMpO1xyXG5cdFxyXG5Qb2ludEF0dHJpYnV0ZS5SRVRVUk5fTlVNQkVSID0gbmV3IFBvaW50QXR0cmlidXRlKFxyXG5cdFBvaW50QXR0cmlidXRlTmFtZXMuUkVUVVJOX05VTUJFUixcclxuXHRQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UOCwgMSk7XHJcblx0XHJcblBvaW50QXR0cmlidXRlLk5VTUJFUl9PRl9SRVRVUk5TID0gbmV3IFBvaW50QXR0cmlidXRlKFxyXG5cdFBvaW50QXR0cmlidXRlTmFtZXMuTlVNQkVSX09GX1JFVFVSTlMsXHJcblx0UG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDgsIDEpO1xyXG5cdFxyXG5Qb2ludEF0dHJpYnV0ZS5TT1VSQ0VfSUQgPSBuZXcgUG9pbnRBdHRyaWJ1dGUoXHJcblx0UG9pbnRBdHRyaWJ1dGVOYW1lcy5TT1VSQ0VfSUQsXHJcblx0UG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDE2LCAxKTtcclxuXHJcblBvaW50QXR0cmlidXRlLklORElDRVMgPSBuZXcgUG9pbnRBdHRyaWJ1dGUoXHJcblx0UG9pbnRBdHRyaWJ1dGVOYW1lcy5JTkRJQ0VTLFxyXG5cdFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX1VJTlQzMiwgMSk7XHJcblxyXG5Qb2ludEF0dHJpYnV0ZS5TUEFDSU5HID0gbmV3IFBvaW50QXR0cmlidXRlKFxyXG5cdFBvaW50QXR0cmlidXRlTmFtZXMuU1BBQ0lORyxcclxuXHRQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9GTE9BVCwgMSk7XHJcblxyXG5Qb2ludEF0dHJpYnV0ZS5HUFNfVElNRSA9IG5ldyBQb2ludEF0dHJpYnV0ZShcclxuXHRQb2ludEF0dHJpYnV0ZU5hbWVzLkdQU19USU1FLFxyXG5cdFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX0RPVUJMRSwgMSk7XHJcblxyXG5leHBvcnQge1BvaW50QXR0cmlidXRlfTtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb2ludEF0dHJpYnV0ZXN7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHBvaW50QXR0cmlidXRlcyl7XHJcblx0XHR0aGlzLmF0dHJpYnV0ZXMgPSBbXTtcclxuXHRcdHRoaXMuYnl0ZVNpemUgPSAwO1xyXG5cdFx0dGhpcy5zaXplID0gMDtcclxuXHJcblx0XHRpZiAocG9pbnRBdHRyaWJ1dGVzICE9IG51bGwpIHtcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludEF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRsZXQgcG9pbnRBdHRyaWJ1dGVOYW1lID0gcG9pbnRBdHRyaWJ1dGVzW2ldO1xyXG5cdFx0XHRcdGxldCBwb2ludEF0dHJpYnV0ZSA9IFBvaW50QXR0cmlidXRlW3BvaW50QXR0cmlidXRlTmFtZV07XHJcblx0XHRcdFx0dGhpcy5hdHRyaWJ1dGVzLnB1c2gocG9pbnRBdHRyaWJ1dGUpO1xyXG5cdFx0XHRcdHRoaXMuYnl0ZVNpemUgKz0gcG9pbnRBdHRyaWJ1dGUuYnl0ZVNpemU7XHJcblx0XHRcdFx0dGhpcy5zaXplKys7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cclxuXHRhZGQocG9pbnRBdHRyaWJ1dGUpe1xyXG5cdFx0dGhpcy5hdHRyaWJ1dGVzLnB1c2gocG9pbnRBdHRyaWJ1dGUpO1xyXG5cdFx0dGhpcy5ieXRlU2l6ZSArPSBwb2ludEF0dHJpYnV0ZS5ieXRlU2l6ZTtcclxuXHRcdHRoaXMuc2l6ZSsrO1xyXG5cdH07XHJcblxyXG5cdGhhc0NvbG9ycygpe1xyXG5cdFx0Zm9yIChsZXQgbmFtZSBpbiB0aGlzLmF0dHJpYnV0ZXMpIHtcclxuXHRcdFx0bGV0IHBvaW50QXR0cmlidXRlID0gdGhpcy5hdHRyaWJ1dGVzW25hbWVdO1xyXG5cdFx0XHRpZiAocG9pbnRBdHRyaWJ1dGUubmFtZSA9PT0gUG9pbnRBdHRyaWJ1dGVOYW1lcy5DT0xPUl9QQUNLRUQpIHtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9O1xyXG5cclxuXHRoYXNOb3JtYWxzKCl7XHJcblx0XHRmb3IgKGxldCBuYW1lIGluIHRoaXMuYXR0cmlidXRlcykge1xyXG5cdFx0XHRsZXQgcG9pbnRBdHRyaWJ1dGUgPSB0aGlzLmF0dHJpYnV0ZXNbbmFtZV07XHJcblx0XHRcdGlmIChcclxuXHRcdFx0XHRwb2ludEF0dHJpYnV0ZSA9PT0gUG9pbnRBdHRyaWJ1dGUuTk9STUFMX1NQSEVSRU1BUFBFRCB8fFxyXG5cdFx0XHRcdHBvaW50QXR0cmlidXRlID09PSBQb2ludEF0dHJpYnV0ZS5OT1JNQUxfRkxPQVRTIHx8XHJcblx0XHRcdFx0cG9pbnRBdHRyaWJ1dGUgPT09IFBvaW50QXR0cmlidXRlLk5PUk1BTCB8fFxyXG5cdFx0XHRcdHBvaW50QXR0cmlidXRlID09PSBQb2ludEF0dHJpYnV0ZS5OT1JNQUxfT0NUMTYpIHtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9O1xyXG5cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/loader/PointAttributes.js\n");

/***/ }),

/***/ "./src/utils.js":
/*!**********************!*\
  !*** ./src/utils.js ***!
  \**********************/
/*! exports provided: Utils */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Utils\", function() { return Utils; });\n/* harmony import */ var _XHRFactory_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./XHRFactory.js */ \"./src/XHRFactory.js\");\n/* harmony import */ var _defines_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./defines.js */ \"./src/defines.js\");\n\r\n\r\n// import {Volume} from \"./utils/Volume.js\";\r\n// import {Profile} from \"./utils/Profile.js\";\r\n// import {Measure} from \"./utils/Measure.js\";\r\n// import {PolygonClipVolume} from \"./utils/PolygonClipVolume.js\";\r\n\r\n\r\n\r\nclass Utils {\r\n\t/*\r\n\tstatic async loadShapefileFeatures (file, callback) {\r\n\t\tlet features = [];\r\n\r\n\t\tlet handleFinish = () => {\r\n\t\t\tcallback(features);\r\n\t\t};\r\n\r\n\t\tlet source = await shapefile.open(file);\r\n\r\n\t\twhile(true){\r\n\t\t\tlet result = await source.read();\r\n\r\n\t\t\tif (result.done) {\r\n\t\t\t\thandleFinish();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif (result.value && result.value.type === 'Feature' && result.value.geometry !== undefined) {\r\n\t\t\t\tfeatures.push(result.value);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tstatic toString (value) {\r\n\t\tif (value instanceof THREE.Vector3) {\r\n\t\t\treturn value.x.toFixed(2) + ', ' + value.y.toFixed(2) + ', ' + value.z.toFixed(2);\r\n\t\t} else {\r\n\t\t\treturn '' + value + '';\r\n\t\t}\r\n\t}\r\n\r\n\tstatic normalizeURL (url) {\r\n\t\tlet u = new URL(url);\r\n\r\n\t\treturn u.protocol + '//' + u.hostname + u.pathname.replace(/\\/+/g, '/');\r\n\t};\r\n\r\n\tstatic pathExists (url) {\r\n\t\tlet req = XHRFactory.createXMLHttpRequest();\r\n\t\treq.open('GET', url, false);\r\n\t\treq.send(null);\r\n\t\tif (req.status !== 200) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\tstatic debugSphere(parent, position, scale, color){\r\n\t\tlet geometry = new THREE.SphereGeometry(1, 8, 8);\r\n\t\tlet material;\r\n\r\n\t\tif(color !== undefined){\r\n\t\t\tmaterial = new THREE.MeshBasicMaterial({color: color});\r\n\t\t}else{\r\n\t\t\tmaterial = new THREE.MeshNormalMaterial();\r\n\t\t}\r\n\t\tlet sphere = new THREE.Mesh(geometry, material);\r\n\t\tsphere.position.copy(position);\r\n\t\tsphere.scale.set(scale, scale, scale);\r\n\t\tparent.add(sphere);\r\n\t}\r\n\r\n\tstatic debugLine(parent, start, end, color){\r\n\t\tlet material = new THREE.LineBasicMaterial({ color: color }); \r\n\t\tlet geometry = new THREE.Geometry(); \r\n\t\tgeometry.vertices.push( start, end); \r\n\t\tlet tl = new THREE.Line( geometry, material ); \r\n\t\tparent.add(tl);\r\n\t}\r\n\r\n\tstatic debugBox(parent, box, transform = new THREE.Matrix4(), color = 0xFFFF00){\r\n\t\t\r\n\t\tlet vertices = [\r\n\t\t\t[box.min.x, box.min.y, box.min.z],\r\n\t\t\t[box.min.x, box.min.y, box.max.z],\r\n\t\t\t[box.min.x, box.max.y, box.min.z],\r\n\t\t\t[box.min.x, box.max.y, box.max.z],\r\n\r\n\t\t\t[box.max.x, box.min.y, box.min.z],\r\n\t\t\t[box.max.x, box.min.y, box.max.z],\r\n\t\t\t[box.max.x, box.max.y, box.min.z],\r\n\t\t\t[box.max.x, box.max.y, box.max.z],\r\n\t\t].map(v => new THREE.Vector3(...v));\r\n\r\n\t\tlet edges = [\r\n\t\t\t[0, 4], [4, 5], [5, 1], [1, 0],\r\n\t\t\t[2, 6], [6, 7], [7, 3], [3, 2],\r\n\t\t\t[0, 2], [4, 6], [5, 7], [1, 3]\r\n\t\t];\r\n\r\n\t\tlet center = box.getCenter(new THREE.Vector3());\r\n\r\n\t\tlet centroids = [\r\n\t\t\t{position: [box.min.x, center.y, center.z], color: 0xFF0000},\r\n\t\t\t{position: [box.max.x, center.y, center.z], color: 0x880000},\r\n\r\n\t\t\t{position: [center.x, box.min.y, center.z], color: 0x00FF00},\r\n\t\t\t{position: [center.x, box.max.y, center.z], color: 0x008800},\r\n\r\n\t\t\t{position: [center.x, center.y, box.min.z], color: 0x0000FF},\r\n\t\t\t{position: [center.x, center.y, box.max.z], color: 0x000088},\r\n\t\t];\r\n\r\n\t\tfor(let vertex of vertices){\r\n\t\t\tlet pos = vertex.clone().applyMatrix4(transform);\r\n\r\n\t\t\tUtils.debugSphere(parent, pos, 0.1, 0xFF0000);\r\n\t\t}\r\n\r\n\t\tfor(let edge of edges){\r\n\t\t\tlet start = vertices[edge[0]].clone().applyMatrix4(transform);\r\n\t\t\tlet end = vertices[edge[1]].clone().applyMatrix4(transform);\r\n\r\n\t\t\tUtils.debugLine(parent, start, end, color);\r\n\t\t}\r\n\r\n\t\tfor(let centroid of centroids){\r\n\t\t\tlet pos = new THREE.Vector3(...centroid.position).applyMatrix4(transform);\r\n\r\n\t\t\tUtils.debugSphere(parent, pos, 0.1, centroid.color);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic debugPlane(parent, plane, size = 1, color = 0x0000FF){\r\n\r\n\t\tlet planehelper = new THREE.PlaneHelper(plane, size, color);\r\n\r\n\t\tparent.add(planehelper);\r\n\r\n\t}\r\n\t*/\r\n\r\n\t/**\r\n\t * adapted from mhluska at https://github.com/mrdoob/three.js/issues/1561\r\n\t * /\r\n\tstatic computeTransformedBoundingBox (box, transform) {\r\n\t\tlet vertices = [\r\n\t\t\tnew THREE.Vector3(box.min.x, box.min.y, box.min.z).applyMatrix4(transform),\r\n\t\t\tnew THREE.Vector3(box.min.x, box.min.y, box.min.z).applyMatrix4(transform),\r\n\t\t\tnew THREE.Vector3(box.max.x, box.min.y, box.min.z).applyMatrix4(transform),\r\n\t\t\tnew THREE.Vector3(box.min.x, box.max.y, box.min.z).applyMatrix4(transform),\r\n\t\t\tnew THREE.Vector3(box.min.x, box.min.y, box.max.z).applyMatrix4(transform),\r\n\t\t\tnew THREE.Vector3(box.min.x, box.max.y, box.max.z).applyMatrix4(transform),\r\n\t\t\tnew THREE.Vector3(box.max.x, box.max.y, box.min.z).applyMatrix4(transform),\r\n\t\t\tnew THREE.Vector3(box.max.x, box.min.y, box.max.z).applyMatrix4(transform),\r\n\t\t\tnew THREE.Vector3(box.max.x, box.max.y, box.max.z).applyMatrix4(transform)\r\n\t\t];\r\n\r\n\t\tlet boundingBox = new THREE.Box3();\r\n\t\tboundingBox.setFromPoints(vertices);\r\n\r\n\t\treturn boundingBox;\r\n\t};\r\n\r\n\t/**\r\n\t * add separators to large numbers\r\n\t *\r\n\t * @param nStr\r\n\t * @returns\r\n\t * /\r\n\tstatic addCommas (nStr) {\r\n\t\tnStr += '';\r\n\t\tlet x = nStr.split('.');\r\n\t\tlet x1 = x[0];\r\n\t\tlet x2 = x.length > 1 ? '.' + x[1] : '';\r\n\t\tlet rgx = /(\\d+)(\\d{3})/;\r\n\t\twhile (rgx.test(x1)) {\r\n\t\t\tx1 = x1.replace(rgx, '$1' + ',' + '$2');\r\n\t\t}\r\n\t\treturn x1 + x2;\r\n\t};\r\n\r\n\tstatic removeCommas (str) {\r\n\t\treturn str.replace(/,/g, '');\r\n\t}*/\r\n\r\n\t/**\r\n\t * create worker from a string\r\n\t *\r\n\t * code from http://stackoverflow.com/questions/10343913/how-to-create-a-web-worker-from-a-string\r\n\t */\r\n\tstatic createWorker (code) {\r\n\t\tlet blob = new Blob([code], {type: 'application/javascript'});\r\n\t\tlet worker = new Worker(URL.createObjectURL(blob));\r\n\r\n\t\treturn worker;\r\n\t};\r\n\t/*\r\n\tstatic moveTo(scene, endPosition, endTarget){\r\n\r\n\t\tlet view = scene.view;\r\n\t\tlet camera = scene.getActiveCamera();\r\n\t\tlet animationDuration = 500;\r\n\t\tlet easing = TWEEN.Easing.Quartic.Out;\r\n\r\n\t\t{ // animate camera position\r\n\t\t\tlet tween = new TWEEN.Tween(view.position).to(endPosition, animationDuration);\r\n\t\t\ttween.easing(easing);\r\n\t\t\ttween.start();\r\n\t\t}\r\n\r\n\t\t{ // animate camera target\r\n\t\t\tlet camTargetDistance = camera.position.distanceTo(endTarget);\r\n\t\t\tlet target = new THREE.Vector3().addVectors(\r\n\t\t\t\tcamera.position,\r\n\t\t\t\tcamera.getWorldDirection(new THREE.Vector3()).clone().multiplyScalar(camTargetDistance)\r\n\t\t\t);\r\n\t\t\tlet tween = new TWEEN.Tween(target).to(endTarget, animationDuration);\r\n\t\t\ttween.easing(easing);\r\n\t\t\ttween.onUpdate(() => {\r\n\t\t\t\tview.lookAt(target);\r\n\t\t\t});\r\n\t\t\ttween.onComplete(() => {\r\n\t\t\t\tview.lookAt(target);\r\n\t\t\t});\r\n\t\t\ttween.start();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tstatic loadSkybox (path) {\r\n\t\tlet camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 100000);\r\n\t\tcamera.up.set(0, 0, 1);\r\n\t\tlet scene = new THREE.Scene();\r\n\r\n\t\tlet format = '.jpg';\r\n\t\tlet urls = [\r\n\t\t\tpath + 'px' + format, path + 'nx' + format,\r\n\t\t\tpath + 'py' + format, path + 'ny' + format,\r\n\t\t\tpath + 'pz' + format, path + 'nz' + format\r\n\t\t];\r\n\r\n\t\tlet materialArray = [];\r\n\t\t{\r\n\t\t\tfor (let i = 0; i < 6; i++) {\r\n\t\t\t\tlet material = new THREE.MeshBasicMaterial({\r\n\t\t\t\t\tmap: null,\r\n\t\t\t\t\tside: THREE.BackSide,\r\n\t\t\t\t\tdepthTest: false,\r\n\t\t\t\t\tdepthWrite: false,\r\n\t\t\t\t\tcolor: 0x424556\r\n\t\t\t\t});\r\n\r\n\t\t\t\tmaterialArray.push(material);\r\n\r\n\t\t\t\tlet loader = new THREE.TextureLoader();\r\n\t\t\t\tloader.load(urls[i],\r\n\t\t\t\t\tfunction loaded (texture) {\r\n\t\t\t\t\t\tmaterial.map = texture;\r\n\t\t\t\t\t\tmaterial.needsUpdate = true;\r\n\t\t\t\t\t\tmaterial.color.setHex(0xffffff);\r\n\t\t\t\t\t}, function progress (xhr) {\r\n\t\t\t\t\t\t// console.log( (xhr.loaded / xhr.total * 100) + '% loaded' );\r\n\t\t\t\t\t}, function error (xhr) {\r\n\t\t\t\t\t\tconsole.log('An error happened', xhr);\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet skyGeometry = new THREE.CubeGeometry(5000, 5000, 5000);\r\n\t\tlet skybox = new THREE.Mesh(skyGeometry, materialArray);\r\n\r\n\t\tscene.add(skybox);\r\n\r\n\t\t// z up\r\n\t\tscene.rotation.x = Math.PI / 2;\r\n\r\n\t\treturn {'camera': camera, 'scene': scene};\r\n\t};\r\n\r\n\tstatic createGrid (width, length, spacing, color) {\r\n\t\tlet material = new THREE.LineBasicMaterial({\r\n\t\t\tcolor: color || 0x888888\r\n\t\t});\r\n\r\n\t\tlet geometry = new THREE.Geometry();\r\n\t\tfor (let i = 0; i <= length; i++) {\r\n\t\t\tgeometry.vertices.push(new THREE.Vector3(-(spacing * width) / 2, i * spacing - (spacing * length) / 2, 0));\r\n\t\t\tgeometry.vertices.push(new THREE.Vector3(+(spacing * width) / 2, i * spacing - (spacing * length) / 2, 0));\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i <= width; i++) {\r\n\t\t\tgeometry.vertices.push(new THREE.Vector3(i * spacing - (spacing * width) / 2, -(spacing * length) / 2, 0));\r\n\t\t\tgeometry.vertices.push(new THREE.Vector3(i * spacing - (spacing * width) / 2, +(spacing * length) / 2, 0));\r\n\t\t}\r\n\r\n\t\tlet line = new THREE.LineSegments(geometry, material, THREE.LinePieces);\r\n\t\tline.receiveShadow = true;\r\n\t\treturn line;\r\n\t}\r\n\r\n\tstatic createBackgroundTexture (width, height) {\r\n\t\tfunction gauss (x, y) {\r\n\t\t\treturn (1 / (2 * Math.PI)) * Math.exp(-(x * x + y * y) / 2);\r\n\t\t};\r\n\r\n\t\t// map.magFilter = THREE.NearestFilter;\r\n\t\tlet size = width * height;\r\n\t\tlet data = new Uint8Array(3 * size);\r\n\r\n\t\tlet chroma = [1, 1.5, 1.7];\r\n\t\tlet max = gauss(0, 0);\r\n\r\n\t\tfor (let x = 0; x < width; x++) {\r\n\t\t\tfor (let y = 0; y < height; y++) {\r\n\t\t\t\tlet u = 2 * (x / width) - 1;\r\n\t\t\t\tlet v = 2 * (y / height) - 1;\r\n\r\n\t\t\t\tlet i = x + width * y;\r\n\t\t\t\tlet d = gauss(2 * u, 2 * v) / max;\r\n\t\t\t\tlet r = (Math.random() + Math.random() + Math.random()) / 3;\r\n\t\t\t\tr = (d * 0.5 + 0.5) * r * 0.03;\r\n\t\t\t\tr = r * 0.4;\r\n\r\n\t\t\t\t// d = Math.pow(d, 0.6);\r\n\r\n\t\t\t\tdata[3 * i + 0] = 255 * (d / 15 + 0.05 + r) * chroma[0];\r\n\t\t\t\tdata[3 * i + 1] = 255 * (d / 15 + 0.05 + r) * chroma[1];\r\n\t\t\t\tdata[3 * i + 2] = 255 * (d / 15 + 0.05 + r) * chroma[2];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet texture = new THREE.DataTexture(data, width, height, THREE.RGBFormat);\r\n\t\ttexture.needsUpdate = true;\r\n\r\n\t\treturn texture;\r\n\t}\r\n\r\n\tstatic getMousePointCloudIntersection (mouse, camera, viewer, pointclouds, params = {}) {\r\n\t\t\r\n\t\tlet renderer = viewer.renderer;\r\n\t\t\r\n\t\tlet nmouse = {\r\n\t\t\tx: (mouse.x / renderer.domElement.clientWidth) * 2 - 1,\r\n\t\t\ty: -(mouse.y / renderer.domElement.clientHeight) * 2 + 1\r\n\t\t};\r\n\r\n\t\tlet pickParams = {};\r\n\r\n\t\tif(params.pickClipped){\r\n\t\t\tpickParams.pickClipped = params.pickClipped;\r\n\t\t}\r\n\r\n\t\tpickParams.x = mouse.x;\r\n\t\tpickParams.y = renderer.domElement.clientHeight - mouse.y;\r\n\r\n\t\tlet raycaster = new THREE.Raycaster();\r\n\t\traycaster.setFromCamera(nmouse, camera);\r\n\t\tlet ray = raycaster.ray;\r\n\r\n\t\tlet selectedPointcloud = null;\r\n\t\tlet closestDistance = Infinity;\r\n\t\tlet closestIntersection = null;\r\n\t\tlet closestPoint = null;\r\n\t\t\r\n\t\tfor(let pointcloud of pointclouds){\r\n\t\t\tlet point = pointcloud.pick(viewer, camera, ray, pickParams);\r\n\t\t\t\r\n\t\t\tif(!point){\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tlet distance = camera.position.distanceTo(point.position);\r\n\r\n\t\t\tif (distance < closestDistance) {\r\n\t\t\t\tclosestDistance = distance;\r\n\t\t\t\tselectedPointcloud = pointcloud;\r\n\t\t\t\tclosestIntersection = point.position;\r\n\t\t\t\tclosestPoint = point;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (selectedPointcloud) {\r\n\t\t\treturn {\r\n\t\t\t\tlocation: closestIntersection,\r\n\t\t\t\tdistance: closestDistance,\r\n\t\t\t\tpointcloud: selectedPointcloud,\r\n\t\t\t\tpoint: closestPoint\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic pixelsArrayToImage (pixels, width, height) {\r\n\t\tlet canvas = document.createElement('canvas');\r\n\t\tcanvas.width = width;\r\n\t\tcanvas.height = height;\r\n\r\n\t\tlet context = canvas.getContext('2d');\r\n\r\n\t\tpixels = new pixels.constructor(pixels);\r\n\r\n\t\tfor (let i = 0; i < pixels.length; i++) {\r\n\t\t\tpixels[i * 4 + 3] = 255;\r\n\t\t}\r\n\r\n\t\tlet imageData = context.createImageData(width, height);\r\n\t\timageData.data.set(pixels);\r\n\t\tcontext.putImageData(imageData, 0, 0);\r\n\r\n\t\tlet img = new Image();\r\n\t\timg.src = canvas.toDataURL();\r\n\t\t// img.style.transform = \"scaleY(-1)\";\r\n\r\n\t\treturn img;\r\n\t}\r\n\r\n\tstatic pixelsArrayToDataUrl(pixels, width, height) {\r\n\t\tlet canvas = document.createElement('canvas');\r\n\t\tcanvas.width = width;\r\n\t\tcanvas.height = height;\r\n\r\n\t\tlet context = canvas.getContext('2d');\r\n\r\n\t\tpixels = new pixels.constructor(pixels);\r\n\r\n\t\tfor (let i = 0; i < pixels.length; i++) {\r\n\t\t\tpixels[i * 4 + 3] = 255;\r\n\t\t}\r\n\r\n\t\tlet imageData = context.createImageData(width, height);\r\n\t\timageData.data.set(pixels);\r\n\t\tcontext.putImageData(imageData, 0, 0);\r\n\r\n\t\tlet dataURL = canvas.toDataURL();\r\n\r\n\t\treturn dataURL;\r\n\t}\r\n\r\n\tstatic pixelsArrayToCanvas(pixels, width, height){\r\n\t\tlet canvas = document.createElement('canvas');\r\n\t\tcanvas.width = width;\r\n\t\tcanvas.height = height;\r\n\r\n\t\tlet context = canvas.getContext('2d');\r\n\r\n\t\tpixels = new pixels.constructor(pixels);\r\n\r\n\t\t//for (let i = 0; i < pixels.length; i++) {\r\n\t\t//\tpixels[i * 4 + 3] = 255;\r\n\t\t//}\r\n\r\n\t\t// flip vertically\r\n\t\tlet bytesPerLine = width * 4;\r\n\t\tfor(let i = 0; i < parseInt(height / 2); i++){\r\n\t\t\tlet j = height - i - 1;\r\n\r\n\t\t\tlet lineI = pixels.slice(i * bytesPerLine, i * bytesPerLine + bytesPerLine);\r\n\t\t\tlet lineJ = pixels.slice(j * bytesPerLine, j * bytesPerLine + bytesPerLine);\r\n\t\t\tpixels.set(lineJ, i * bytesPerLine);\r\n\t\t\tpixels.set(lineI, j * bytesPerLine);\r\n\t\t}\r\n\r\n\t\tlet imageData = context.createImageData(width, height);\r\n\t\timageData.data.set(pixels);\r\n\t\tcontext.putImageData(imageData, 0, 0);\r\n\r\n\t\treturn canvas;\r\n\t}\r\n\r\n\tstatic removeListeners(dispatcher, type){\r\n\t\tif (dispatcher._listeners === undefined) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (dispatcher._listeners[ type ]) {\r\n\t\t\tdelete dispatcher._listeners[ type ];\r\n\t\t}\r\n\t}\r\n\r\n\tstatic mouseToRay(mouse, camera, width, height){\r\n\r\n\t\tlet normalizedMouse = {\r\n\t\t\tx: (mouse.x / width) * 2 - 1,\r\n\t\t\ty: -(mouse.y / height) * 2 + 1\r\n\t\t};\r\n\r\n\t\tlet vector = new THREE.Vector3(normalizedMouse.x, normalizedMouse.y, 0.5);\r\n\t\tlet origin = new THREE.Vector3(normalizedMouse.x, normalizedMouse.y, 0);\r\n\t\tvector.unproject(camera);\r\n\t\torigin.unproject(camera);\r\n\t\tlet direction = new THREE.Vector3().subVectors(vector, origin).normalize();\r\n\r\n\t\tlet ray = new THREE.Ray(origin, direction);\r\n\r\n\t\treturn ray;\r\n\t}\r\n\t*/\r\n/*\r\n\tstatic projectedRadius(radius, camera, distance, screenWidth, screenHeight){\r\n\t\tif(camera instanceof THREE.OrthographicCamera){\r\n\t\t\treturn Utils.projectedRadiusOrtho(radius, camera.projectionMatrix, screenWidth, screenHeight);\r\n\t\t}else if(camera instanceof THREE.PerspectiveCamera){\r\n\t\t\treturn Utils.projectedRadiusPerspective(radius, camera.fov * Math.PI / 180, distance, screenHeight);\r\n\t\t}else{\r\n\t\t\tthrow new Error(\"invalid parameters\");\r\n\t\t}\r\n\t}\r\n\r\n\tstatic projectedRadiusPerspective(radius, fov, distance, screenHeight) {\r\n\t\tlet projFactor = (1 / Math.tan(fov / 2)) / distance;\r\n\t\tprojFactor = projFactor * screenHeight / 2;\r\n\r\n\t\treturn radius * projFactor;\r\n\t}\r\n\r\n\tstatic projectedRadiusOrtho(radius, proj, screenWidth, screenHeight) {\r\n\t\tlet p1 = new THREE.Vector4(0);\r\n\t\tlet p2 = new THREE.Vector4(radius);\r\n\r\n\t\tp1.applyMatrix4(proj);\r\n\t\tp2.applyMatrix4(proj);\r\n\t\tp1 = new THREE.Vector3(p1.x, p1.y, p1.z);\r\n\t\tp2 = new THREE.Vector3(p2.x, p2.y, p2.z);\r\n\t\tp1.x = (p1.x + 1.0) * 0.5 * screenWidth;\r\n\t\tp1.y = (p1.y + 1.0) * 0.5 * screenHeight;\r\n\t\tp2.x = (p2.x + 1.0) * 0.5 * screenWidth;\r\n\t\tp2.y = (p2.y + 1.0) * 0.5 * screenHeight;\r\n\t\treturn p1.distanceTo(p2);\r\n\t}\r\n\t\t\r\n\t\t\r\n\tstatic topView(camera, node){\r\n\t\tcamera.position.set(0, 1, 0);\r\n\t\tcamera.rotation.set(-Math.PI / 2, 0, 0);\r\n\t\tcamera.zoomTo(node, 1);\r\n\t}\r\n\r\n\tstatic frontView (camera, node) {\r\n\t\tcamera.position.set(0, 0, 1);\r\n\t\tcamera.rotation.set(0, 0, 0);\r\n\t\tcamera.zoomTo(node, 1);\r\n\t}\r\n\r\n\tstatic leftView (camera, node) {\r\n\t\tcamera.position.set(-1, 0, 0);\r\n\t\tcamera.rotation.set(0, -Math.PI / 2, 0);\r\n\t\tcamera.zoomTo(node, 1);\r\n\t}\r\n\r\n\tstatic rightView (camera, node) {\r\n\t\tcamera.position.set(1, 0, 0);\r\n\t\tcamera.rotation.set(0, Math.PI / 2, 0);\r\n\t\tcamera.zoomTo(node, 1);\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * 0: no intersection\r\n\t * 1: intersection\r\n\t * 2: fully inside\r\n\t * /\r\n\tstatic frustumSphereIntersection (frustum, sphere) {\r\n\t\tlet planes = frustum.planes;\r\n\t\tlet center = sphere.center;\r\n\t\tlet negRadius = -sphere.radius;\r\n\r\n\t\tlet minDistance = Number.MAX_VALUE;\r\n\r\n\t\tfor (let i = 0; i < 6; i++) {\r\n\t\t\tlet distance = planes[ i ].distanceToPoint(center);\r\n\r\n\t\t\tif (distance < negRadius) {\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\r\n\t\t\tminDistance = Math.min(minDistance, distance);\r\n\t\t}\r\n\r\n\t\treturn (minDistance >= sphere.radius) ? 2 : 1;\r\n\t}\r\n\r\n\t// code taken from three.js\r\n\t// ImageUtils - generateDataTexture()\r\n\tstatic generateDataTexture (width, height, color) {\r\n\t\tlet size = width * height;\r\n\t\tlet data = new Uint8Array(4 * width * height);\r\n\r\n\t\tlet r = Math.floor(color.r * 255);\r\n\t\tlet g = Math.floor(color.g * 255);\r\n\t\tlet b = Math.floor(color.b * 255);\r\n\r\n\t\tfor (let i = 0; i < size; i++) {\r\n\t\t\tdata[ i * 3 ] = r;\r\n\t\t\tdata[ i * 3 + 1 ] = g;\r\n\t\t\tdata[ i * 3 + 2 ] = b;\r\n\t\t}\r\n\r\n\t\tlet texture = new THREE.DataTexture(data, width, height, THREE.RGBAFormat);\r\n\t\ttexture.needsUpdate = true;\r\n\t\ttexture.magFilter = THREE.NearestFilter;\r\n\r\n\t\treturn texture;\r\n\t}\r\n\r\n\t// from http://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript\r\n\tstatic getParameterByName (name) {\r\n\t\tname = name.replace(/[[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\r\n\t\tlet regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)');\r\n\t\tlet results = regex.exec(document.location.search);\r\n\t\treturn results === null ? null : decodeURIComponent(results[1].replace(/\\+/g, ' '));\r\n\t}\r\n\r\n\tstatic setParameter (name, value) {\r\n\t\t// value = encodeURIComponent(value);\r\n\r\n\t\tname = name.replace(/[[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\r\n\t\tlet regex = new RegExp('([\\\\?&])(' + name + '=([^&#]*))');\r\n\t\tlet results = regex.exec(document.location.search);\r\n\r\n\t\tlet url = window.location.href;\r\n\t\tif (results === null) {\r\n\t\t\tif (window.location.search.length === 0) {\r\n\t\t\t\turl = url + '?';\r\n\t\t\t} else {\r\n\t\t\t\turl = url + '&';\r\n\t\t\t}\r\n\r\n\t\t\turl = url + name + '=' + value;\r\n\t\t} else {\r\n\t\t\tlet newValue = name + '=' + value;\r\n\t\t\turl = url.replace(results[2], newValue);\r\n\t\t}\r\n\t\twindow.history.replaceState({}, '', url);\r\n\t}\r\n*/\r\n\tstatic createChildAABB(aabb, index){\r\n\t\tlet min = aabb.min.clone();\r\n\t\tlet max = aabb.max.clone();\r\n\t\tlet size = max.subtract(min);\r\n\r\n\t\tif ((index & 0b0001) > 0) {\r\n\t\t\tmin.z += size.z / 2;\r\n\t\t} else {\r\n\t\t\tmax.z -= size.z / 2;\r\n\t\t}\r\n\r\n\t\tif ((index & 0b0010) > 0) {\r\n\t\t\tmin.y += size.y / 2;\r\n\t\t} else {\r\n\t\t\tmax.y -= size.y / 2;\r\n\t\t}\r\n\r\n\t\tif ((index & 0b0100) > 0) {\r\n\t\t\tmin.x += size.x / 2;\r\n\t\t} else {\r\n\t\t\tmax.x -= size.x / 2;\r\n\t\t}\r\n\r\n\t\treturn new ZeaEngine.Box3(min, max);\r\n\t}\r\n/*\r\n\t// see https://stackoverflow.com/questions/400212/how-do-i-copy-to-the-clipboard-in-javascript\r\n\tstatic clipboardCopy(text){\r\n\t\tlet textArea = document.createElement(\"textarea\");\r\n\r\n\t\ttextArea.style.position = 'fixed';\r\n\t\ttextArea.style.top = 0;\r\n\t\ttextArea.style.left = 0;\r\n\r\n\t\ttextArea.style.width = '2em';\r\n\t\ttextArea.style.height = '2em';\r\n\r\n\t\ttextArea.style.padding = 0;\r\n\r\n\t\ttextArea.style.border = 'none';\r\n\t\ttextArea.style.outline = 'none';\r\n\t\ttextArea.style.boxShadow = 'none';\r\n\r\n\t\ttextArea.style.background = 'transparent';\r\n\r\n\t\ttextArea.value = text;\r\n\r\n\t\tdocument.body.appendChild(textArea);\r\n\r\n\t\ttextArea.select();\r\n\r\n\t\t try {\r\n\t\t\tlet success = document.execCommand('copy');\r\n\t\t\tif(success){\r\n\t\t\t\tconsole.log(\"copied text to clipboard\");\r\n\t\t\t}else{\r\n\t\t\t\tconsole.log(\"copy to clipboard failed\");\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(\"error while trying to copy to clipboard\");\r\n\t\t}\r\n\r\n\t\tdocument.body.removeChild(textArea);\r\n\r\n\t}\r\n\r\n\tstatic getMeasurementIcon(measurement){\r\n\t\tif (measurement instanceof Measure) {\r\n\t\t\tif (measurement.showDistances && !measurement.showArea && !measurement.showAngles) {\r\n\t\t\t\treturn `${Potree.resourcePath}/icons/distance.svg`;\r\n\t\t\t} else if (measurement.showDistances && measurement.showArea && !measurement.showAngles) {\r\n\t\t\t\treturn `${Potree.resourcePath}/icons/area.svg`;\r\n\t\t\t} else if (measurement.maxMarkers === 1) {\r\n\t\t\t\treturn `${Potree.resourcePath}/icons/point.svg`;\r\n\t\t\t} else if (!measurement.showDistances && !measurement.showArea && measurement.showAngles) {\r\n\t\t\t\treturn `${Potree.resourcePath}/icons/angle.png`;\r\n\t\t\t} else if (measurement.showHeight) {\r\n\t\t\t\treturn `${Potree.resourcePath}/icons/height.svg`;\r\n\t\t\t} else {\r\n\t\t\t\treturn `${Potree.resourcePath}/icons/distance.svg`;\r\n\t\t\t}\r\n\t\t} else if (measurement instanceof Profile) {\r\n\t\t\treturn `${Potree.resourcePath}/icons/profile.svg`;\r\n\t\t} else if (measurement instanceof Volume) {\r\n\t\t\treturn `${Potree.resourcePath}/icons/volume.svg`;\r\n\t\t} else if (measurement instanceof PolygonClipVolume) {\r\n\t\t\treturn `${Potree.resourcePath}/icons/clip-polygon.svg`;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic toMaterialID(materialName){\r\n\t\tif (materialName === 'RGB'){\r\n\t\t\treturn PointColorType.RGB;\r\n\t\t} else if (materialName === 'Color') {\r\n\t\t\treturn PointColorType.COLOR;\r\n\t\t} else if (materialName === 'Elevation') {\r\n\t\t\treturn PointColorType.HEIGHT;\r\n\t\t} else if (materialName === 'Intensity') {\r\n\t\t\treturn PointColorType.INTENSITY;\r\n\t\t} else if (materialName === 'Intensity Gradient') {\r\n\t\t\treturn PointColorType.INTENSITY_GRADIENT;\r\n\t\t} else if (materialName === 'Classification') {\r\n\t\t\treturn PointColorType.CLASSIFICATION;\r\n\t\t} else if (materialName === 'Return Number') {\r\n\t\t\treturn PointColorType.RETURN_NUMBER;\r\n\t\t} else if (materialName === 'Source') {\r\n\t\t\treturn PointColorType.SOURCE;\r\n\t\t} else if (materialName === 'Level of Detail') {\r\n\t\t\treturn PointColorType.LOD;\r\n\t\t} else if (materialName === 'Point Index') {\r\n\t\t\treturn PointColorType.POINT_INDEX;\r\n\t\t} else if (materialName === 'Normal') {\r\n\t\t\treturn PointColorType.NORMAL;\r\n\t\t} else if (materialName === 'Phong') {\r\n\t\t\treturn PointColorType.PHONG;\r\n\t\t} else if (materialName === 'Index') {\r\n\t\t\treturn PointColorType.POINT_INDEX;\r\n\t\t} else if (materialName === 'RGB and Elevation') {\r\n\t\t\treturn PointColorType.RGB_HEIGHT;\r\n\t\t} else if (materialName === 'Composite') {\r\n\t\t\treturn PointColorType.COMPOSITE;\r\n\t\t} else if (materialName === 'GPS Time') {\r\n\t\t\treturn PointColorType.GPS_TIME;\r\n\t\t} else if (materialName === 'Matcap') {\r\n\t\t\treturn PointColorType.MATCAP;\r\n\t\t}\r\n\t};\r\n\r\n\r\n\tstatic toMaterialName(materialID) {\r\n\t\tif (materialID === PointColorType.RGB) {\r\n\t\t\treturn 'RGB';\r\n\t\t} else if (materialID === PointColorType.COLOR) {\r\n\t\t\treturn 'Color';\r\n\t\t} else if (materialID === PointColorType.HEIGHT) {\r\n\t\t\treturn 'Elevation';\r\n\t\t} else if (materialID === PointColorType.INTENSITY) {\r\n\t\t\treturn 'Intensity';\r\n\t\t} else if (materialID === PointColorType.INTENSITY_GRADIENT) {\r\n\t\t\treturn 'Intensity Gradient';\r\n\t\t} else if (materialID === PointColorType.CLASSIFICATION) {\r\n\t\t\treturn 'Classification';\r\n\t\t} else if (materialID === PointColorType.RETURN_NUMBER) {\r\n\t\t\treturn 'Return Number';\r\n\t\t} else if (materialID === PointColorType.SOURCE) {\r\n\t\t\treturn 'Source';\r\n\t\t} else if (materialID === PointColorType.LOD) {\r\n\t\t\treturn 'Level of Detail';\r\n\t\t} else if (materialID === PointColorType.NORMAL) {\r\n\t\t\treturn 'Normal';\r\n\t\t} else if (materialID === PointColorType.PHONG) {\r\n\t\t\treturn 'Phong';\r\n\t\t} else if (materialID === PointColorType.POINT_INDEX) {\r\n\t\t\treturn 'Index';\r\n\t\t} else if (materialID === PointColorType.RGB_HEIGHT) {\r\n\t\t\treturn 'RGB and Elevation';\r\n\t\t} else if (materialID === PointColorType.COMPOSITE) {\r\n\t\t\treturn 'Composite';\r\n\t\t} else if (materialID === PointColorType.GPS_TIME) {\r\n\t\t\treturn 'GPS Time';\r\n\t\t} else if (materialID === PointColorType.MATCAP) {\r\n\t\t\treturn 'Matcap';\r\n\t\t}\r\n\t};\r\n*/\r\n}\r\n\r\n// Utils.screenPass = new function () {\r\n// \tthis.screenScene = new THREE.Scene();\r\n// \tthis.screenQuad = new THREE.Mesh(new THREE.PlaneBufferGeometry(2, 2, 0));\r\n// \tthis.screenQuad.material.depthTest = true;\r\n// \tthis.screenQuad.material.depthWrite = true;\r\n// \tthis.screenQuad.material.transparent = true;\r\n// \tthis.screenScene.add(this.screenQuad);\r\n// \tthis.camera = new THREE.Camera();\r\n\r\n// \tthis.render = function (renderer, material, target) {\r\n// \t\tthis.screenQuad.material = material;\r\n\r\n// \t\tif (typeof target === 'undefined') {\r\n// \t\t\trenderer.render(this.screenScene, this.camera);\r\n// \t\t} else {\r\n// \t\t\trenderer.render(this.screenScene, this.camera, target);\r\n// \t\t}\r\n// \t};\r\n// }();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9zcmMvdXRpbHMuanM/MDI1ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUMyQztBQUMzQyxXQUFXLE9BQU87QUFDbEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLGtCQUFrQjtBQUNlOzs7QUFHckM7QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJDQUEyQyxhQUFhO0FBQ3hELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhDQUE4QyxlQUFlLEU7QUFDN0Qsc0M7QUFDQSxzQztBQUNBLGdEO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLElBQUksMkRBQTJEO0FBQy9ELElBQUksMkRBQTJEOztBQUUvRCxJQUFJLDJEQUEyRDtBQUMvRCxJQUFJLDJEQUEyRDs7QUFFL0QsSUFBSSwyREFBMkQ7QUFDL0QsSUFBSSwyREFBMkQ7QUFDL0Q7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLEVBQUU7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsK0JBQStCO0FBQzlEOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQixPQUFPO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLFVBQVU7QUFDVjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsaUJBQWlCLGFBQWE7QUFDOUI7QUFDQTtBQUNBOztBQUVBLGlCQUFpQixZQUFZO0FBQzdCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpQkFBaUIsV0FBVztBQUM1QixrQkFBa0IsWUFBWTtBQUM5QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsdUZBQXVGOztBQUV2Rjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLGlCQUFpQixtQkFBbUI7QUFDcEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsaUJBQWlCLG1CQUFtQjtBQUNwQztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLG1CQUFtQixtQkFBbUI7QUFDdEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCLDBCQUEwQjtBQUMxQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxpQkFBaUIsT0FBTztBQUN4Qjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGlCQUFpQixVQUFVO0FBQzNCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLG9CQUFvQjtBQUNsQyxJQUFJO0FBQ0osY0FBYyxvQkFBb0I7QUFDbEMsSUFBSTtBQUNKLGNBQWMsb0JBQW9CO0FBQ2xDLElBQUk7QUFDSixjQUFjLG9CQUFvQjtBQUNsQyxJQUFJO0FBQ0osY0FBYyxvQkFBb0I7QUFDbEMsSUFBSTtBQUNKLGNBQWMsb0JBQW9CO0FBQ2xDO0FBQ0EsR0FBRztBQUNILGFBQWEsb0JBQW9CO0FBQ2pDLEdBQUc7QUFDSCxhQUFhLG9CQUFvQjtBQUNqQyxHQUFHO0FBQ0gsYUFBYSxvQkFBb0I7QUFDakM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxJQUFJIiwiZmlsZSI6Ii4vc3JjL3V0aWxzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCB7WEhSRmFjdG9yeX0gZnJvbSBcIi4vWEhSRmFjdG9yeS5qc1wiO1xyXG4vLyBpbXBvcnQge1ZvbHVtZX0gZnJvbSBcIi4vdXRpbHMvVm9sdW1lLmpzXCI7XHJcbi8vIGltcG9ydCB7UHJvZmlsZX0gZnJvbSBcIi4vdXRpbHMvUHJvZmlsZS5qc1wiO1xyXG4vLyBpbXBvcnQge01lYXN1cmV9IGZyb20gXCIuL3V0aWxzL01lYXN1cmUuanNcIjtcclxuLy8gaW1wb3J0IHtQb2x5Z29uQ2xpcFZvbHVtZX0gZnJvbSBcIi4vdXRpbHMvUG9seWdvbkNsaXBWb2x1bWUuanNcIjtcclxuaW1wb3J0IHtQb2ludENvbG9yVHlwZX0gZnJvbSBcIi4vZGVmaW5lcy5qc1wiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBVdGlscyB7XHJcblx0LypcclxuXHRzdGF0aWMgYXN5bmMgbG9hZFNoYXBlZmlsZUZlYXR1cmVzIChmaWxlLCBjYWxsYmFjaykge1xyXG5cdFx0bGV0IGZlYXR1cmVzID0gW107XHJcblxyXG5cdFx0bGV0IGhhbmRsZUZpbmlzaCA9ICgpID0+IHtcclxuXHRcdFx0Y2FsbGJhY2soZmVhdHVyZXMpO1xyXG5cdFx0fTtcclxuXHJcblx0XHRsZXQgc291cmNlID0gYXdhaXQgc2hhcGVmaWxlLm9wZW4oZmlsZSk7XHJcblxyXG5cdFx0d2hpbGUodHJ1ZSl7XHJcblx0XHRcdGxldCByZXN1bHQgPSBhd2FpdCBzb3VyY2UucmVhZCgpO1xyXG5cclxuXHRcdFx0aWYgKHJlc3VsdC5kb25lKSB7XHJcblx0XHRcdFx0aGFuZGxlRmluaXNoKCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChyZXN1bHQudmFsdWUgJiYgcmVzdWx0LnZhbHVlLnR5cGUgPT09ICdGZWF0dXJlJyAmJiByZXN1bHQudmFsdWUuZ2VvbWV0cnkgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdGZlYXR1cmVzLnB1c2gocmVzdWx0LnZhbHVlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG5cdHN0YXRpYyB0b1N0cmluZyAodmFsdWUpIHtcclxuXHRcdGlmICh2YWx1ZSBpbnN0YW5jZW9mIFRIUkVFLlZlY3RvcjMpIHtcclxuXHRcdFx0cmV0dXJuIHZhbHVlLngudG9GaXhlZCgyKSArICcsICcgKyB2YWx1ZS55LnRvRml4ZWQoMikgKyAnLCAnICsgdmFsdWUuei50b0ZpeGVkKDIpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmV0dXJuICcnICsgdmFsdWUgKyAnJztcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHN0YXRpYyBub3JtYWxpemVVUkwgKHVybCkge1xyXG5cdFx0bGV0IHUgPSBuZXcgVVJMKHVybCk7XHJcblxyXG5cdFx0cmV0dXJuIHUucHJvdG9jb2wgKyAnLy8nICsgdS5ob3N0bmFtZSArIHUucGF0aG5hbWUucmVwbGFjZSgvXFwvKy9nLCAnLycpO1xyXG5cdH07XHJcblxyXG5cdHN0YXRpYyBwYXRoRXhpc3RzICh1cmwpIHtcclxuXHRcdGxldCByZXEgPSBYSFJGYWN0b3J5LmNyZWF0ZVhNTEh0dHBSZXF1ZXN0KCk7XHJcblx0XHRyZXEub3BlbignR0VUJywgdXJsLCBmYWxzZSk7XHJcblx0XHRyZXEuc2VuZChudWxsKTtcclxuXHRcdGlmIChyZXEuc3RhdHVzICE9PSAyMDApIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fTtcclxuXHJcblx0c3RhdGljIGRlYnVnU3BoZXJlKHBhcmVudCwgcG9zaXRpb24sIHNjYWxlLCBjb2xvcil7XHJcblx0XHRsZXQgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoMSwgOCwgOCk7XHJcblx0XHRsZXQgbWF0ZXJpYWw7XHJcblxyXG5cdFx0aWYoY29sb3IgIT09IHVuZGVmaW5lZCl7XHJcblx0XHRcdG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtjb2xvcjogY29sb3J9KTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoTm9ybWFsTWF0ZXJpYWwoKTtcclxuXHRcdH1cclxuXHRcdGxldCBzcGhlcmUgPSBuZXcgVEhSRUUuTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xyXG5cdFx0c3BoZXJlLnBvc2l0aW9uLmNvcHkocG9zaXRpb24pO1xyXG5cdFx0c3BoZXJlLnNjYWxlLnNldChzY2FsZSwgc2NhbGUsIHNjYWxlKTtcclxuXHRcdHBhcmVudC5hZGQoc3BoZXJlKTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBkZWJ1Z0xpbmUocGFyZW50LCBzdGFydCwgZW5kLCBjb2xvcil7XHJcblx0XHRsZXQgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTGluZUJhc2ljTWF0ZXJpYWwoeyBjb2xvcjogY29sb3IgfSk7IFxyXG5cdFx0bGV0IGdlb21ldHJ5ID0gbmV3IFRIUkVFLkdlb21ldHJ5KCk7IFxyXG5cdFx0Z2VvbWV0cnkudmVydGljZXMucHVzaCggc3RhcnQsIGVuZCk7IFxyXG5cdFx0bGV0IHRsID0gbmV3IFRIUkVFLkxpbmUoIGdlb21ldHJ5LCBtYXRlcmlhbCApOyBcclxuXHRcdHBhcmVudC5hZGQodGwpO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGRlYnVnQm94KHBhcmVudCwgYm94LCB0cmFuc2Zvcm0gPSBuZXcgVEhSRUUuTWF0cml4NCgpLCBjb2xvciA9IDB4RkZGRjAwKXtcclxuXHRcdFxyXG5cdFx0bGV0IHZlcnRpY2VzID0gW1xyXG5cdFx0XHRbYm94Lm1pbi54LCBib3gubWluLnksIGJveC5taW4uel0sXHJcblx0XHRcdFtib3gubWluLngsIGJveC5taW4ueSwgYm94Lm1heC56XSxcclxuXHRcdFx0W2JveC5taW4ueCwgYm94Lm1heC55LCBib3gubWluLnpdLFxyXG5cdFx0XHRbYm94Lm1pbi54LCBib3gubWF4LnksIGJveC5tYXguel0sXHJcblxyXG5cdFx0XHRbYm94Lm1heC54LCBib3gubWluLnksIGJveC5taW4uel0sXHJcblx0XHRcdFtib3gubWF4LngsIGJveC5taW4ueSwgYm94Lm1heC56XSxcclxuXHRcdFx0W2JveC5tYXgueCwgYm94Lm1heC55LCBib3gubWluLnpdLFxyXG5cdFx0XHRbYm94Lm1heC54LCBib3gubWF4LnksIGJveC5tYXguel0sXHJcblx0XHRdLm1hcCh2ID0+IG5ldyBUSFJFRS5WZWN0b3IzKC4uLnYpKTtcclxuXHJcblx0XHRsZXQgZWRnZXMgPSBbXHJcblx0XHRcdFswLCA0XSwgWzQsIDVdLCBbNSwgMV0sIFsxLCAwXSxcclxuXHRcdFx0WzIsIDZdLCBbNiwgN10sIFs3LCAzXSwgWzMsIDJdLFxyXG5cdFx0XHRbMCwgMl0sIFs0LCA2XSwgWzUsIDddLCBbMSwgM11cclxuXHRcdF07XHJcblxyXG5cdFx0bGV0IGNlbnRlciA9IGJveC5nZXRDZW50ZXIobmV3IFRIUkVFLlZlY3RvcjMoKSk7XHJcblxyXG5cdFx0bGV0IGNlbnRyb2lkcyA9IFtcclxuXHRcdFx0e3Bvc2l0aW9uOiBbYm94Lm1pbi54LCBjZW50ZXIueSwgY2VudGVyLnpdLCBjb2xvcjogMHhGRjAwMDB9LFxyXG5cdFx0XHR7cG9zaXRpb246IFtib3gubWF4LngsIGNlbnRlci55LCBjZW50ZXIuel0sIGNvbG9yOiAweDg4MDAwMH0sXHJcblxyXG5cdFx0XHR7cG9zaXRpb246IFtjZW50ZXIueCwgYm94Lm1pbi55LCBjZW50ZXIuel0sIGNvbG9yOiAweDAwRkYwMH0sXHJcblx0XHRcdHtwb3NpdGlvbjogW2NlbnRlci54LCBib3gubWF4LnksIGNlbnRlci56XSwgY29sb3I6IDB4MDA4ODAwfSxcclxuXHJcblx0XHRcdHtwb3NpdGlvbjogW2NlbnRlci54LCBjZW50ZXIueSwgYm94Lm1pbi56XSwgY29sb3I6IDB4MDAwMEZGfSxcclxuXHRcdFx0e3Bvc2l0aW9uOiBbY2VudGVyLngsIGNlbnRlci55LCBib3gubWF4LnpdLCBjb2xvcjogMHgwMDAwODh9LFxyXG5cdFx0XTtcclxuXHJcblx0XHRmb3IobGV0IHZlcnRleCBvZiB2ZXJ0aWNlcyl7XHJcblx0XHRcdGxldCBwb3MgPSB2ZXJ0ZXguY2xvbmUoKS5hcHBseU1hdHJpeDQodHJhbnNmb3JtKTtcclxuXHJcblx0XHRcdFV0aWxzLmRlYnVnU3BoZXJlKHBhcmVudCwgcG9zLCAwLjEsIDB4RkYwMDAwKTtcclxuXHRcdH1cclxuXHJcblx0XHRmb3IobGV0IGVkZ2Ugb2YgZWRnZXMpe1xyXG5cdFx0XHRsZXQgc3RhcnQgPSB2ZXJ0aWNlc1tlZGdlWzBdXS5jbG9uZSgpLmFwcGx5TWF0cml4NCh0cmFuc2Zvcm0pO1xyXG5cdFx0XHRsZXQgZW5kID0gdmVydGljZXNbZWRnZVsxXV0uY2xvbmUoKS5hcHBseU1hdHJpeDQodHJhbnNmb3JtKTtcclxuXHJcblx0XHRcdFV0aWxzLmRlYnVnTGluZShwYXJlbnQsIHN0YXJ0LCBlbmQsIGNvbG9yKTtcclxuXHRcdH1cclxuXHJcblx0XHRmb3IobGV0IGNlbnRyb2lkIG9mIGNlbnRyb2lkcyl7XHJcblx0XHRcdGxldCBwb3MgPSBuZXcgVEhSRUUuVmVjdG9yMyguLi5jZW50cm9pZC5wb3NpdGlvbikuYXBwbHlNYXRyaXg0KHRyYW5zZm9ybSk7XHJcblxyXG5cdFx0XHRVdGlscy5kZWJ1Z1NwaGVyZShwYXJlbnQsIHBvcywgMC4xLCBjZW50cm9pZC5jb2xvcik7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgZGVidWdQbGFuZShwYXJlbnQsIHBsYW5lLCBzaXplID0gMSwgY29sb3IgPSAweDAwMDBGRil7XHJcblxyXG5cdFx0bGV0IHBsYW5laGVscGVyID0gbmV3IFRIUkVFLlBsYW5lSGVscGVyKHBsYW5lLCBzaXplLCBjb2xvcik7XHJcblxyXG5cdFx0cGFyZW50LmFkZChwbGFuZWhlbHBlcik7XHJcblxyXG5cdH1cclxuXHQqL1xyXG5cclxuXHQvKipcclxuXHQgKiBhZGFwdGVkIGZyb20gbWhsdXNrYSBhdCBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2lzc3Vlcy8xNTYxXHJcblx0ICogL1xyXG5cdHN0YXRpYyBjb21wdXRlVHJhbnNmb3JtZWRCb3VuZGluZ0JveCAoYm94LCB0cmFuc2Zvcm0pIHtcclxuXHRcdGxldCB2ZXJ0aWNlcyA9IFtcclxuXHRcdFx0bmV3IFRIUkVFLlZlY3RvcjMoYm94Lm1pbi54LCBib3gubWluLnksIGJveC5taW4ueikuYXBwbHlNYXRyaXg0KHRyYW5zZm9ybSksXHJcblx0XHRcdG5ldyBUSFJFRS5WZWN0b3IzKGJveC5taW4ueCwgYm94Lm1pbi55LCBib3gubWluLnopLmFwcGx5TWF0cml4NCh0cmFuc2Zvcm0pLFxyXG5cdFx0XHRuZXcgVEhSRUUuVmVjdG9yMyhib3gubWF4LngsIGJveC5taW4ueSwgYm94Lm1pbi56KS5hcHBseU1hdHJpeDQodHJhbnNmb3JtKSxcclxuXHRcdFx0bmV3IFRIUkVFLlZlY3RvcjMoYm94Lm1pbi54LCBib3gubWF4LnksIGJveC5taW4ueikuYXBwbHlNYXRyaXg0KHRyYW5zZm9ybSksXHJcblx0XHRcdG5ldyBUSFJFRS5WZWN0b3IzKGJveC5taW4ueCwgYm94Lm1pbi55LCBib3gubWF4LnopLmFwcGx5TWF0cml4NCh0cmFuc2Zvcm0pLFxyXG5cdFx0XHRuZXcgVEhSRUUuVmVjdG9yMyhib3gubWluLngsIGJveC5tYXgueSwgYm94Lm1heC56KS5hcHBseU1hdHJpeDQodHJhbnNmb3JtKSxcclxuXHRcdFx0bmV3IFRIUkVFLlZlY3RvcjMoYm94Lm1heC54LCBib3gubWF4LnksIGJveC5taW4ueikuYXBwbHlNYXRyaXg0KHRyYW5zZm9ybSksXHJcblx0XHRcdG5ldyBUSFJFRS5WZWN0b3IzKGJveC5tYXgueCwgYm94Lm1pbi55LCBib3gubWF4LnopLmFwcGx5TWF0cml4NCh0cmFuc2Zvcm0pLFxyXG5cdFx0XHRuZXcgVEhSRUUuVmVjdG9yMyhib3gubWF4LngsIGJveC5tYXgueSwgYm94Lm1heC56KS5hcHBseU1hdHJpeDQodHJhbnNmb3JtKVxyXG5cdFx0XTtcclxuXHJcblx0XHRsZXQgYm91bmRpbmdCb3ggPSBuZXcgVEhSRUUuQm94MygpO1xyXG5cdFx0Ym91bmRpbmdCb3guc2V0RnJvbVBvaW50cyh2ZXJ0aWNlcyk7XHJcblxyXG5cdFx0cmV0dXJuIGJvdW5kaW5nQm94O1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIGFkZCBzZXBhcmF0b3JzIHRvIGxhcmdlIG51bWJlcnNcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSBuU3RyXHJcblx0ICogQHJldHVybnNcclxuXHQgKiAvXHJcblx0c3RhdGljIGFkZENvbW1hcyAoblN0cikge1xyXG5cdFx0blN0ciArPSAnJztcclxuXHRcdGxldCB4ID0gblN0ci5zcGxpdCgnLicpO1xyXG5cdFx0bGV0IHgxID0geFswXTtcclxuXHRcdGxldCB4MiA9IHgubGVuZ3RoID4gMSA/ICcuJyArIHhbMV0gOiAnJztcclxuXHRcdGxldCByZ3ggPSAvKFxcZCspKFxcZHszfSkvO1xyXG5cdFx0d2hpbGUgKHJneC50ZXN0KHgxKSkge1xyXG5cdFx0XHR4MSA9IHgxLnJlcGxhY2Uocmd4LCAnJDEnICsgJywnICsgJyQyJyk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4geDEgKyB4MjtcclxuXHR9O1xyXG5cclxuXHRzdGF0aWMgcmVtb3ZlQ29tbWFzIChzdHIpIHtcclxuXHRcdHJldHVybiBzdHIucmVwbGFjZSgvLC9nLCAnJyk7XHJcblx0fSovXHJcblxyXG5cdC8qKlxyXG5cdCAqIGNyZWF0ZSB3b3JrZXIgZnJvbSBhIHN0cmluZ1xyXG5cdCAqXHJcblx0ICogY29kZSBmcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTAzNDM5MTMvaG93LXRvLWNyZWF0ZS1hLXdlYi13b3JrZXItZnJvbS1hLXN0cmluZ1xyXG5cdCAqL1xyXG5cdHN0YXRpYyBjcmVhdGVXb3JrZXIgKGNvZGUpIHtcclxuXHRcdGxldCBibG9iID0gbmV3IEJsb2IoW2NvZGVdLCB7dHlwZTogJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQnfSk7XHJcblx0XHRsZXQgd29ya2VyID0gbmV3IFdvcmtlcihVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpKTtcclxuXHJcblx0XHRyZXR1cm4gd29ya2VyO1xyXG5cdH07XHJcblx0LypcclxuXHRzdGF0aWMgbW92ZVRvKHNjZW5lLCBlbmRQb3NpdGlvbiwgZW5kVGFyZ2V0KXtcclxuXHJcblx0XHRsZXQgdmlldyA9IHNjZW5lLnZpZXc7XHJcblx0XHRsZXQgY2FtZXJhID0gc2NlbmUuZ2V0QWN0aXZlQ2FtZXJhKCk7XHJcblx0XHRsZXQgYW5pbWF0aW9uRHVyYXRpb24gPSA1MDA7XHJcblx0XHRsZXQgZWFzaW5nID0gVFdFRU4uRWFzaW5nLlF1YXJ0aWMuT3V0O1xyXG5cclxuXHRcdHsgLy8gYW5pbWF0ZSBjYW1lcmEgcG9zaXRpb25cclxuXHRcdFx0bGV0IHR3ZWVuID0gbmV3IFRXRUVOLlR3ZWVuKHZpZXcucG9zaXRpb24pLnRvKGVuZFBvc2l0aW9uLCBhbmltYXRpb25EdXJhdGlvbik7XHJcblx0XHRcdHR3ZWVuLmVhc2luZyhlYXNpbmcpO1xyXG5cdFx0XHR0d2Vlbi5zdGFydCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHsgLy8gYW5pbWF0ZSBjYW1lcmEgdGFyZ2V0XHJcblx0XHRcdGxldCBjYW1UYXJnZXREaXN0YW5jZSA9IGNhbWVyYS5wb3NpdGlvbi5kaXN0YW5jZVRvKGVuZFRhcmdldCk7XHJcblx0XHRcdGxldCB0YXJnZXQgPSBuZXcgVEhSRUUuVmVjdG9yMygpLmFkZFZlY3RvcnMoXHJcblx0XHRcdFx0Y2FtZXJhLnBvc2l0aW9uLFxyXG5cdFx0XHRcdGNhbWVyYS5nZXRXb3JsZERpcmVjdGlvbihuZXcgVEhSRUUuVmVjdG9yMygpKS5jbG9uZSgpLm11bHRpcGx5U2NhbGFyKGNhbVRhcmdldERpc3RhbmNlKVxyXG5cdFx0XHQpO1xyXG5cdFx0XHRsZXQgdHdlZW4gPSBuZXcgVFdFRU4uVHdlZW4odGFyZ2V0KS50byhlbmRUYXJnZXQsIGFuaW1hdGlvbkR1cmF0aW9uKTtcclxuXHRcdFx0dHdlZW4uZWFzaW5nKGVhc2luZyk7XHJcblx0XHRcdHR3ZWVuLm9uVXBkYXRlKCgpID0+IHtcclxuXHRcdFx0XHR2aWV3Lmxvb2tBdCh0YXJnZXQpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0dHdlZW4ub25Db21wbGV0ZSgoKSA9PiB7XHJcblx0XHRcdFx0dmlldy5sb29rQXQodGFyZ2V0KTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdHR3ZWVuLnN0YXJ0KCk7XHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcblx0c3RhdGljIGxvYWRTa3lib3ggKHBhdGgpIHtcclxuXHRcdGxldCBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNzUsIHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0LCAxLCAxMDAwMDApO1xyXG5cdFx0Y2FtZXJhLnVwLnNldCgwLCAwLCAxKTtcclxuXHRcdGxldCBzY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xyXG5cclxuXHRcdGxldCBmb3JtYXQgPSAnLmpwZyc7XHJcblx0XHRsZXQgdXJscyA9IFtcclxuXHRcdFx0cGF0aCArICdweCcgKyBmb3JtYXQsIHBhdGggKyAnbngnICsgZm9ybWF0LFxyXG5cdFx0XHRwYXRoICsgJ3B5JyArIGZvcm1hdCwgcGF0aCArICdueScgKyBmb3JtYXQsXHJcblx0XHRcdHBhdGggKyAncHonICsgZm9ybWF0LCBwYXRoICsgJ256JyArIGZvcm1hdFxyXG5cdFx0XTtcclxuXHJcblx0XHRsZXQgbWF0ZXJpYWxBcnJheSA9IFtdO1xyXG5cdFx0e1xyXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykge1xyXG5cdFx0XHRcdGxldCBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XHJcblx0XHRcdFx0XHRtYXA6IG51bGwsXHJcblx0XHRcdFx0XHRzaWRlOiBUSFJFRS5CYWNrU2lkZSxcclxuXHRcdFx0XHRcdGRlcHRoVGVzdDogZmFsc2UsXHJcblx0XHRcdFx0XHRkZXB0aFdyaXRlOiBmYWxzZSxcclxuXHRcdFx0XHRcdGNvbG9yOiAweDQyNDU1NlxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRtYXRlcmlhbEFycmF5LnB1c2gobWF0ZXJpYWwpO1xyXG5cclxuXHRcdFx0XHRsZXQgbG9hZGVyID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKTtcclxuXHRcdFx0XHRsb2FkZXIubG9hZCh1cmxzW2ldLFxyXG5cdFx0XHRcdFx0ZnVuY3Rpb24gbG9hZGVkICh0ZXh0dXJlKSB7XHJcblx0XHRcdFx0XHRcdG1hdGVyaWFsLm1hcCA9IHRleHR1cmU7XHJcblx0XHRcdFx0XHRcdG1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0bWF0ZXJpYWwuY29sb3Iuc2V0SGV4KDB4ZmZmZmZmKTtcclxuXHRcdFx0XHRcdH0sIGZ1bmN0aW9uIHByb2dyZXNzICh4aHIpIHtcclxuXHRcdFx0XHRcdFx0Ly8gY29uc29sZS5sb2coICh4aHIubG9hZGVkIC8geGhyLnRvdGFsICogMTAwKSArICclIGxvYWRlZCcgKTtcclxuXHRcdFx0XHRcdH0sIGZ1bmN0aW9uIGVycm9yICh4aHIpIHtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ0FuIGVycm9yIGhhcHBlbmVkJywgeGhyKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IHNreUdlb21ldHJ5ID0gbmV3IFRIUkVFLkN1YmVHZW9tZXRyeSg1MDAwLCA1MDAwLCA1MDAwKTtcclxuXHRcdGxldCBza3lib3ggPSBuZXcgVEhSRUUuTWVzaChza3lHZW9tZXRyeSwgbWF0ZXJpYWxBcnJheSk7XHJcblxyXG5cdFx0c2NlbmUuYWRkKHNreWJveCk7XHJcblxyXG5cdFx0Ly8geiB1cFxyXG5cdFx0c2NlbmUucm90YXRpb24ueCA9IE1hdGguUEkgLyAyO1xyXG5cclxuXHRcdHJldHVybiB7J2NhbWVyYSc6IGNhbWVyYSwgJ3NjZW5lJzogc2NlbmV9O1xyXG5cdH07XHJcblxyXG5cdHN0YXRpYyBjcmVhdGVHcmlkICh3aWR0aCwgbGVuZ3RoLCBzcGFjaW5nLCBjb2xvcikge1xyXG5cdFx0bGV0IG1hdGVyaWFsID0gbmV3IFRIUkVFLkxpbmVCYXNpY01hdGVyaWFsKHtcclxuXHRcdFx0Y29sb3I6IGNvbG9yIHx8IDB4ODg4ODg4XHJcblx0XHR9KTtcclxuXHJcblx0XHRsZXQgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuR2VvbWV0cnkoKTtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDw9IGxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGdlb21ldHJ5LnZlcnRpY2VzLnB1c2gobmV3IFRIUkVFLlZlY3RvcjMoLShzcGFjaW5nICogd2lkdGgpIC8gMiwgaSAqIHNwYWNpbmcgLSAoc3BhY2luZyAqIGxlbmd0aCkgLyAyLCAwKSk7XHJcblx0XHRcdGdlb21ldHJ5LnZlcnRpY2VzLnB1c2gobmV3IFRIUkVFLlZlY3RvcjMoKyhzcGFjaW5nICogd2lkdGgpIC8gMiwgaSAqIHNwYWNpbmcgLSAoc3BhY2luZyAqIGxlbmd0aCkgLyAyLCAwKSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPD0gd2lkdGg7IGkrKykge1xyXG5cdFx0XHRnZW9tZXRyeS52ZXJ0aWNlcy5wdXNoKG5ldyBUSFJFRS5WZWN0b3IzKGkgKiBzcGFjaW5nIC0gKHNwYWNpbmcgKiB3aWR0aCkgLyAyLCAtKHNwYWNpbmcgKiBsZW5ndGgpIC8gMiwgMCkpO1xyXG5cdFx0XHRnZW9tZXRyeS52ZXJ0aWNlcy5wdXNoKG5ldyBUSFJFRS5WZWN0b3IzKGkgKiBzcGFjaW5nIC0gKHNwYWNpbmcgKiB3aWR0aCkgLyAyLCArKHNwYWNpbmcgKiBsZW5ndGgpIC8gMiwgMCkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBsaW5lID0gbmV3IFRIUkVFLkxpbmVTZWdtZW50cyhnZW9tZXRyeSwgbWF0ZXJpYWwsIFRIUkVFLkxpbmVQaWVjZXMpO1xyXG5cdFx0bGluZS5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcclxuXHRcdHJldHVybiBsaW5lO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGNyZWF0ZUJhY2tncm91bmRUZXh0dXJlICh3aWR0aCwgaGVpZ2h0KSB7XHJcblx0XHRmdW5jdGlvbiBnYXVzcyAoeCwgeSkge1xyXG5cdFx0XHRyZXR1cm4gKDEgLyAoMiAqIE1hdGguUEkpKSAqIE1hdGguZXhwKC0oeCAqIHggKyB5ICogeSkgLyAyKTtcclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gbWFwLm1hZ0ZpbHRlciA9IFRIUkVFLk5lYXJlc3RGaWx0ZXI7XHJcblx0XHRsZXQgc2l6ZSA9IHdpZHRoICogaGVpZ2h0O1xyXG5cdFx0bGV0IGRhdGEgPSBuZXcgVWludDhBcnJheSgzICogc2l6ZSk7XHJcblxyXG5cdFx0bGV0IGNocm9tYSA9IFsxLCAxLjUsIDEuN107XHJcblx0XHRsZXQgbWF4ID0gZ2F1c3MoMCwgMCk7XHJcblxyXG5cdFx0Zm9yIChsZXQgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7XHJcblx0XHRcdGZvciAobGV0IHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHtcclxuXHRcdFx0XHRsZXQgdSA9IDIgKiAoeCAvIHdpZHRoKSAtIDE7XHJcblx0XHRcdFx0bGV0IHYgPSAyICogKHkgLyBoZWlnaHQpIC0gMTtcclxuXHJcblx0XHRcdFx0bGV0IGkgPSB4ICsgd2lkdGggKiB5O1xyXG5cdFx0XHRcdGxldCBkID0gZ2F1c3MoMiAqIHUsIDIgKiB2KSAvIG1heDtcclxuXHRcdFx0XHRsZXQgciA9IChNYXRoLnJhbmRvbSgpICsgTWF0aC5yYW5kb20oKSArIE1hdGgucmFuZG9tKCkpIC8gMztcclxuXHRcdFx0XHRyID0gKGQgKiAwLjUgKyAwLjUpICogciAqIDAuMDM7XHJcblx0XHRcdFx0ciA9IHIgKiAwLjQ7XHJcblxyXG5cdFx0XHRcdC8vIGQgPSBNYXRoLnBvdyhkLCAwLjYpO1xyXG5cclxuXHRcdFx0XHRkYXRhWzMgKiBpICsgMF0gPSAyNTUgKiAoZCAvIDE1ICsgMC4wNSArIHIpICogY2hyb21hWzBdO1xyXG5cdFx0XHRcdGRhdGFbMyAqIGkgKyAxXSA9IDI1NSAqIChkIC8gMTUgKyAwLjA1ICsgcikgKiBjaHJvbWFbMV07XHJcblx0XHRcdFx0ZGF0YVszICogaSArIDJdID0gMjU1ICogKGQgLyAxNSArIDAuMDUgKyByKSAqIGNocm9tYVsyXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGxldCB0ZXh0dXJlID0gbmV3IFRIUkVFLkRhdGFUZXh0dXJlKGRhdGEsIHdpZHRoLCBoZWlnaHQsIFRIUkVFLlJHQkZvcm1hdCk7XHJcblx0XHR0ZXh0dXJlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuXHJcblx0XHRyZXR1cm4gdGV4dHVyZTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBnZXRNb3VzZVBvaW50Q2xvdWRJbnRlcnNlY3Rpb24gKG1vdXNlLCBjYW1lcmEsIHZpZXdlciwgcG9pbnRjbG91ZHMsIHBhcmFtcyA9IHt9KSB7XHJcblx0XHRcclxuXHRcdGxldCByZW5kZXJlciA9IHZpZXdlci5yZW5kZXJlcjtcclxuXHRcdFxyXG5cdFx0bGV0IG5tb3VzZSA9IHtcclxuXHRcdFx0eDogKG1vdXNlLnggLyByZW5kZXJlci5kb21FbGVtZW50LmNsaWVudFdpZHRoKSAqIDIgLSAxLFxyXG5cdFx0XHR5OiAtKG1vdXNlLnkgLyByZW5kZXJlci5kb21FbGVtZW50LmNsaWVudEhlaWdodCkgKiAyICsgMVxyXG5cdFx0fTtcclxuXHJcblx0XHRsZXQgcGlja1BhcmFtcyA9IHt9O1xyXG5cclxuXHRcdGlmKHBhcmFtcy5waWNrQ2xpcHBlZCl7XHJcblx0XHRcdHBpY2tQYXJhbXMucGlja0NsaXBwZWQgPSBwYXJhbXMucGlja0NsaXBwZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0cGlja1BhcmFtcy54ID0gbW91c2UueDtcclxuXHRcdHBpY2tQYXJhbXMueSA9IHJlbmRlcmVyLmRvbUVsZW1lbnQuY2xpZW50SGVpZ2h0IC0gbW91c2UueTtcclxuXHJcblx0XHRsZXQgcmF5Y2FzdGVyID0gbmV3IFRIUkVFLlJheWNhc3RlcigpO1xyXG5cdFx0cmF5Y2FzdGVyLnNldEZyb21DYW1lcmEobm1vdXNlLCBjYW1lcmEpO1xyXG5cdFx0bGV0IHJheSA9IHJheWNhc3Rlci5yYXk7XHJcblxyXG5cdFx0bGV0IHNlbGVjdGVkUG9pbnRjbG91ZCA9IG51bGw7XHJcblx0XHRsZXQgY2xvc2VzdERpc3RhbmNlID0gSW5maW5pdHk7XHJcblx0XHRsZXQgY2xvc2VzdEludGVyc2VjdGlvbiA9IG51bGw7XHJcblx0XHRsZXQgY2xvc2VzdFBvaW50ID0gbnVsbDtcclxuXHRcdFxyXG5cdFx0Zm9yKGxldCBwb2ludGNsb3VkIG9mIHBvaW50Y2xvdWRzKXtcclxuXHRcdFx0bGV0IHBvaW50ID0gcG9pbnRjbG91ZC5waWNrKHZpZXdlciwgY2FtZXJhLCByYXksIHBpY2tQYXJhbXMpO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYoIXBvaW50KXtcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGV0IGRpc3RhbmNlID0gY2FtZXJhLnBvc2l0aW9uLmRpc3RhbmNlVG8ocG9pbnQucG9zaXRpb24pO1xyXG5cclxuXHRcdFx0aWYgKGRpc3RhbmNlIDwgY2xvc2VzdERpc3RhbmNlKSB7XHJcblx0XHRcdFx0Y2xvc2VzdERpc3RhbmNlID0gZGlzdGFuY2U7XHJcblx0XHRcdFx0c2VsZWN0ZWRQb2ludGNsb3VkID0gcG9pbnRjbG91ZDtcclxuXHRcdFx0XHRjbG9zZXN0SW50ZXJzZWN0aW9uID0gcG9pbnQucG9zaXRpb247XHJcblx0XHRcdFx0Y2xvc2VzdFBvaW50ID0gcG9pbnQ7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoc2VsZWN0ZWRQb2ludGNsb3VkKSB7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0bG9jYXRpb246IGNsb3Nlc3RJbnRlcnNlY3Rpb24sXHJcblx0XHRcdFx0ZGlzdGFuY2U6IGNsb3Nlc3REaXN0YW5jZSxcclxuXHRcdFx0XHRwb2ludGNsb3VkOiBzZWxlY3RlZFBvaW50Y2xvdWQsXHJcblx0XHRcdFx0cG9pbnQ6IGNsb3Nlc3RQb2ludFxyXG5cdFx0XHR9O1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcGl4ZWxzQXJyYXlUb0ltYWdlIChwaXhlbHMsIHdpZHRoLCBoZWlnaHQpIHtcclxuXHRcdGxldCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuXHRcdGNhbnZhcy53aWR0aCA9IHdpZHRoO1xyXG5cdFx0Y2FudmFzLmhlaWdodCA9IGhlaWdodDtcclxuXHJcblx0XHRsZXQgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuXHRcdHBpeGVscyA9IG5ldyBwaXhlbHMuY29uc3RydWN0b3IocGl4ZWxzKTtcclxuXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHBpeGVscy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRwaXhlbHNbaSAqIDQgKyAzXSA9IDI1NTtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgaW1hZ2VEYXRhID0gY29udGV4dC5jcmVhdGVJbWFnZURhdGEod2lkdGgsIGhlaWdodCk7XHJcblx0XHRpbWFnZURhdGEuZGF0YS5zZXQocGl4ZWxzKTtcclxuXHRcdGNvbnRleHQucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMCk7XHJcblxyXG5cdFx0bGV0IGltZyA9IG5ldyBJbWFnZSgpO1xyXG5cdFx0aW1nLnNyYyA9IGNhbnZhcy50b0RhdGFVUkwoKTtcclxuXHRcdC8vIGltZy5zdHlsZS50cmFuc2Zvcm0gPSBcInNjYWxlWSgtMSlcIjtcclxuXHJcblx0XHRyZXR1cm4gaW1nO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIHBpeGVsc0FycmF5VG9EYXRhVXJsKHBpeGVscywgd2lkdGgsIGhlaWdodCkge1xyXG5cdFx0bGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG5cdFx0Y2FudmFzLndpZHRoID0gd2lkdGg7XHJcblx0XHRjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG5cclxuXHRcdGxldCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcblxyXG5cdFx0cGl4ZWxzID0gbmV3IHBpeGVscy5jb25zdHJ1Y3RvcihwaXhlbHMpO1xyXG5cclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcGl4ZWxzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHBpeGVsc1tpICogNCArIDNdID0gMjU1O1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBpbWFnZURhdGEgPSBjb250ZXh0LmNyZWF0ZUltYWdlRGF0YSh3aWR0aCwgaGVpZ2h0KTtcclxuXHRcdGltYWdlRGF0YS5kYXRhLnNldChwaXhlbHMpO1xyXG5cdFx0Y29udGV4dC5wdXRJbWFnZURhdGEoaW1hZ2VEYXRhLCAwLCAwKTtcclxuXHJcblx0XHRsZXQgZGF0YVVSTCA9IGNhbnZhcy50b0RhdGFVUkwoKTtcclxuXHJcblx0XHRyZXR1cm4gZGF0YVVSTDtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBwaXhlbHNBcnJheVRvQ2FudmFzKHBpeGVscywgd2lkdGgsIGhlaWdodCl7XHJcblx0XHRsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcblx0XHRjYW52YXMud2lkdGggPSB3aWR0aDtcclxuXHRcdGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XHJcblxyXG5cdFx0bGV0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcblx0XHRwaXhlbHMgPSBuZXcgcGl4ZWxzLmNvbnN0cnVjdG9yKHBpeGVscyk7XHJcblxyXG5cdFx0Ly9mb3IgKGxldCBpID0gMDsgaSA8IHBpeGVscy5sZW5ndGg7IGkrKykge1xyXG5cdFx0Ly9cdHBpeGVsc1tpICogNCArIDNdID0gMjU1O1xyXG5cdFx0Ly99XHJcblxyXG5cdFx0Ly8gZmxpcCB2ZXJ0aWNhbGx5XHJcblx0XHRsZXQgYnl0ZXNQZXJMaW5lID0gd2lkdGggKiA0O1xyXG5cdFx0Zm9yKGxldCBpID0gMDsgaSA8IHBhcnNlSW50KGhlaWdodCAvIDIpOyBpKyspe1xyXG5cdFx0XHRsZXQgaiA9IGhlaWdodCAtIGkgLSAxO1xyXG5cclxuXHRcdFx0bGV0IGxpbmVJID0gcGl4ZWxzLnNsaWNlKGkgKiBieXRlc1BlckxpbmUsIGkgKiBieXRlc1BlckxpbmUgKyBieXRlc1BlckxpbmUpO1xyXG5cdFx0XHRsZXQgbGluZUogPSBwaXhlbHMuc2xpY2UoaiAqIGJ5dGVzUGVyTGluZSwgaiAqIGJ5dGVzUGVyTGluZSArIGJ5dGVzUGVyTGluZSk7XHJcblx0XHRcdHBpeGVscy5zZXQobGluZUosIGkgKiBieXRlc1BlckxpbmUpO1xyXG5cdFx0XHRwaXhlbHMuc2V0KGxpbmVJLCBqICogYnl0ZXNQZXJMaW5lKTtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgaW1hZ2VEYXRhID0gY29udGV4dC5jcmVhdGVJbWFnZURhdGEod2lkdGgsIGhlaWdodCk7XHJcblx0XHRpbWFnZURhdGEuZGF0YS5zZXQocGl4ZWxzKTtcclxuXHRcdGNvbnRleHQucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMCk7XHJcblxyXG5cdFx0cmV0dXJuIGNhbnZhcztcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByZW1vdmVMaXN0ZW5lcnMoZGlzcGF0Y2hlciwgdHlwZSl7XHJcblx0XHRpZiAoZGlzcGF0Y2hlci5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChkaXNwYXRjaGVyLl9saXN0ZW5lcnNbIHR5cGUgXSkge1xyXG5cdFx0XHRkZWxldGUgZGlzcGF0Y2hlci5fbGlzdGVuZXJzWyB0eXBlIF07XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgbW91c2VUb1JheShtb3VzZSwgY2FtZXJhLCB3aWR0aCwgaGVpZ2h0KXtcclxuXHJcblx0XHRsZXQgbm9ybWFsaXplZE1vdXNlID0ge1xyXG5cdFx0XHR4OiAobW91c2UueCAvIHdpZHRoKSAqIDIgLSAxLFxyXG5cdFx0XHR5OiAtKG1vdXNlLnkgLyBoZWlnaHQpICogMiArIDFcclxuXHRcdH07XHJcblxyXG5cdFx0bGV0IHZlY3RvciA9IG5ldyBUSFJFRS5WZWN0b3IzKG5vcm1hbGl6ZWRNb3VzZS54LCBub3JtYWxpemVkTW91c2UueSwgMC41KTtcclxuXHRcdGxldCBvcmlnaW4gPSBuZXcgVEhSRUUuVmVjdG9yMyhub3JtYWxpemVkTW91c2UueCwgbm9ybWFsaXplZE1vdXNlLnksIDApO1xyXG5cdFx0dmVjdG9yLnVucHJvamVjdChjYW1lcmEpO1xyXG5cdFx0b3JpZ2luLnVucHJvamVjdChjYW1lcmEpO1xyXG5cdFx0bGV0IGRpcmVjdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKCkuc3ViVmVjdG9ycyh2ZWN0b3IsIG9yaWdpbikubm9ybWFsaXplKCk7XHJcblxyXG5cdFx0bGV0IHJheSA9IG5ldyBUSFJFRS5SYXkob3JpZ2luLCBkaXJlY3Rpb24pO1xyXG5cclxuXHRcdHJldHVybiByYXk7XHJcblx0fVxyXG5cdCovXHJcbi8qXHJcblx0c3RhdGljIHByb2plY3RlZFJhZGl1cyhyYWRpdXMsIGNhbWVyYSwgZGlzdGFuY2UsIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpe1xyXG5cdFx0aWYoY2FtZXJhIGluc3RhbmNlb2YgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKXtcclxuXHRcdFx0cmV0dXJuIFV0aWxzLnByb2plY3RlZFJhZGl1c09ydGhvKHJhZGl1cywgY2FtZXJhLnByb2plY3Rpb25NYXRyaXgsIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpO1xyXG5cdFx0fWVsc2UgaWYoY2FtZXJhIGluc3RhbmNlb2YgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEpe1xyXG5cdFx0XHRyZXR1cm4gVXRpbHMucHJvamVjdGVkUmFkaXVzUGVyc3BlY3RpdmUocmFkaXVzLCBjYW1lcmEuZm92ICogTWF0aC5QSSAvIDE4MCwgZGlzdGFuY2UsIHNjcmVlbkhlaWdodCk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBwYXJhbWV0ZXJzXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0c3RhdGljIHByb2plY3RlZFJhZGl1c1BlcnNwZWN0aXZlKHJhZGl1cywgZm92LCBkaXN0YW5jZSwgc2NyZWVuSGVpZ2h0KSB7XHJcblx0XHRsZXQgcHJvakZhY3RvciA9ICgxIC8gTWF0aC50YW4oZm92IC8gMikpIC8gZGlzdGFuY2U7XHJcblx0XHRwcm9qRmFjdG9yID0gcHJvakZhY3RvciAqIHNjcmVlbkhlaWdodCAvIDI7XHJcblxyXG5cdFx0cmV0dXJuIHJhZGl1cyAqIHByb2pGYWN0b3I7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgcHJvamVjdGVkUmFkaXVzT3J0aG8ocmFkaXVzLCBwcm9qLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KSB7XHJcblx0XHRsZXQgcDEgPSBuZXcgVEhSRUUuVmVjdG9yNCgwKTtcclxuXHRcdGxldCBwMiA9IG5ldyBUSFJFRS5WZWN0b3I0KHJhZGl1cyk7XHJcblxyXG5cdFx0cDEuYXBwbHlNYXRyaXg0KHByb2opO1xyXG5cdFx0cDIuYXBwbHlNYXRyaXg0KHByb2opO1xyXG5cdFx0cDEgPSBuZXcgVEhSRUUuVmVjdG9yMyhwMS54LCBwMS55LCBwMS56KTtcclxuXHRcdHAyID0gbmV3IFRIUkVFLlZlY3RvcjMocDIueCwgcDIueSwgcDIueik7XHJcblx0XHRwMS54ID0gKHAxLnggKyAxLjApICogMC41ICogc2NyZWVuV2lkdGg7XHJcblx0XHRwMS55ID0gKHAxLnkgKyAxLjApICogMC41ICogc2NyZWVuSGVpZ2h0O1xyXG5cdFx0cDIueCA9IChwMi54ICsgMS4wKSAqIDAuNSAqIHNjcmVlbldpZHRoO1xyXG5cdFx0cDIueSA9IChwMi55ICsgMS4wKSAqIDAuNSAqIHNjcmVlbkhlaWdodDtcclxuXHRcdHJldHVybiBwMS5kaXN0YW5jZVRvKHAyKTtcclxuXHR9XHJcblx0XHRcclxuXHRcdFxyXG5cdHN0YXRpYyB0b3BWaWV3KGNhbWVyYSwgbm9kZSl7XHJcblx0XHRjYW1lcmEucG9zaXRpb24uc2V0KDAsIDEsIDApO1xyXG5cdFx0Y2FtZXJhLnJvdGF0aW9uLnNldCgtTWF0aC5QSSAvIDIsIDAsIDApO1xyXG5cdFx0Y2FtZXJhLnpvb21Ubyhub2RlLCAxKTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBmcm9udFZpZXcgKGNhbWVyYSwgbm9kZSkge1xyXG5cdFx0Y2FtZXJhLnBvc2l0aW9uLnNldCgwLCAwLCAxKTtcclxuXHRcdGNhbWVyYS5yb3RhdGlvbi5zZXQoMCwgMCwgMCk7XHJcblx0XHRjYW1lcmEuem9vbVRvKG5vZGUsIDEpO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGxlZnRWaWV3IChjYW1lcmEsIG5vZGUpIHtcclxuXHRcdGNhbWVyYS5wb3NpdGlvbi5zZXQoLTEsIDAsIDApO1xyXG5cdFx0Y2FtZXJhLnJvdGF0aW9uLnNldCgwLCAtTWF0aC5QSSAvIDIsIDApO1xyXG5cdFx0Y2FtZXJhLnpvb21Ubyhub2RlLCAxKTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyByaWdodFZpZXcgKGNhbWVyYSwgbm9kZSkge1xyXG5cdFx0Y2FtZXJhLnBvc2l0aW9uLnNldCgxLCAwLCAwKTtcclxuXHRcdGNhbWVyYS5yb3RhdGlvbi5zZXQoMCwgTWF0aC5QSSAvIDIsIDApO1xyXG5cdFx0Y2FtZXJhLnpvb21Ubyhub2RlLCAxKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqXHJcblx0ICogMDogbm8gaW50ZXJzZWN0aW9uXHJcblx0ICogMTogaW50ZXJzZWN0aW9uXHJcblx0ICogMjogZnVsbHkgaW5zaWRlXHJcblx0ICogL1xyXG5cdHN0YXRpYyBmcnVzdHVtU3BoZXJlSW50ZXJzZWN0aW9uIChmcnVzdHVtLCBzcGhlcmUpIHtcclxuXHRcdGxldCBwbGFuZXMgPSBmcnVzdHVtLnBsYW5lcztcclxuXHRcdGxldCBjZW50ZXIgPSBzcGhlcmUuY2VudGVyO1xyXG5cdFx0bGV0IG5lZ1JhZGl1cyA9IC1zcGhlcmUucmFkaXVzO1xyXG5cclxuXHRcdGxldCBtaW5EaXN0YW5jZSA9IE51bWJlci5NQVhfVkFMVUU7XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpKyspIHtcclxuXHRcdFx0bGV0IGRpc3RhbmNlID0gcGxhbmVzWyBpIF0uZGlzdGFuY2VUb1BvaW50KGNlbnRlcik7XHJcblxyXG5cdFx0XHRpZiAoZGlzdGFuY2UgPCBuZWdSYWRpdXMpIHtcclxuXHRcdFx0XHRyZXR1cm4gMDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bWluRGlzdGFuY2UgPSBNYXRoLm1pbihtaW5EaXN0YW5jZSwgZGlzdGFuY2UpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiAobWluRGlzdGFuY2UgPj0gc3BoZXJlLnJhZGl1cykgPyAyIDogMTtcclxuXHR9XHJcblxyXG5cdC8vIGNvZGUgdGFrZW4gZnJvbSB0aHJlZS5qc1xyXG5cdC8vIEltYWdlVXRpbHMgLSBnZW5lcmF0ZURhdGFUZXh0dXJlKClcclxuXHRzdGF0aWMgZ2VuZXJhdGVEYXRhVGV4dHVyZSAod2lkdGgsIGhlaWdodCwgY29sb3IpIHtcclxuXHRcdGxldCBzaXplID0gd2lkdGggKiBoZWlnaHQ7XHJcblx0XHRsZXQgZGF0YSA9IG5ldyBVaW50OEFycmF5KDQgKiB3aWR0aCAqIGhlaWdodCk7XHJcblxyXG5cdFx0bGV0IHIgPSBNYXRoLmZsb29yKGNvbG9yLnIgKiAyNTUpO1xyXG5cdFx0bGV0IGcgPSBNYXRoLmZsb29yKGNvbG9yLmcgKiAyNTUpO1xyXG5cdFx0bGV0IGIgPSBNYXRoLmZsb29yKGNvbG9yLmIgKiAyNTUpO1xyXG5cclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XHJcblx0XHRcdGRhdGFbIGkgKiAzIF0gPSByO1xyXG5cdFx0XHRkYXRhWyBpICogMyArIDEgXSA9IGc7XHJcblx0XHRcdGRhdGFbIGkgKiAzICsgMiBdID0gYjtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgdGV4dHVyZSA9IG5ldyBUSFJFRS5EYXRhVGV4dHVyZShkYXRhLCB3aWR0aCwgaGVpZ2h0LCBUSFJFRS5SR0JBRm9ybWF0KTtcclxuXHRcdHRleHR1cmUubmVlZHNVcGRhdGUgPSB0cnVlO1xyXG5cdFx0dGV4dHVyZS5tYWdGaWx0ZXIgPSBUSFJFRS5OZWFyZXN0RmlsdGVyO1xyXG5cclxuXHRcdHJldHVybiB0ZXh0dXJlO1xyXG5cdH1cclxuXHJcblx0Ly8gZnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzkwMTExNS9ob3ctY2FuLWktZ2V0LXF1ZXJ5LXN0cmluZy12YWx1ZXMtaW4tamF2YXNjcmlwdFxyXG5cdHN0YXRpYyBnZXRQYXJhbWV0ZXJCeU5hbWUgKG5hbWUpIHtcclxuXHRcdG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tbXS8sICdcXFxcWycpLnJlcGxhY2UoL1tcXF1dLywgJ1xcXFxdJyk7XHJcblx0XHRsZXQgcmVnZXggPSBuZXcgUmVnRXhwKCdbXFxcXD8mXScgKyBuYW1lICsgJz0oW14mI10qKScpO1xyXG5cdFx0bGV0IHJlc3VsdHMgPSByZWdleC5leGVjKGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaCk7XHJcblx0XHRyZXR1cm4gcmVzdWx0cyA9PT0gbnVsbCA/IG51bGwgOiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0c1sxXS5yZXBsYWNlKC9cXCsvZywgJyAnKSk7XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgc2V0UGFyYW1ldGVyIChuYW1lLCB2YWx1ZSkge1xyXG5cdFx0Ly8gdmFsdWUgPSBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xyXG5cclxuXHRcdG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tbXS8sICdcXFxcWycpLnJlcGxhY2UoL1tcXF1dLywgJ1xcXFxdJyk7XHJcblx0XHRsZXQgcmVnZXggPSBuZXcgUmVnRXhwKCcoW1xcXFw/Jl0pKCcgKyBuYW1lICsgJz0oW14mI10qKSknKTtcclxuXHRcdGxldCByZXN1bHRzID0gcmVnZXguZXhlYyhkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2gpO1xyXG5cclxuXHRcdGxldCB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcclxuXHRcdGlmIChyZXN1bHRzID09PSBudWxsKSB7XHJcblx0XHRcdGlmICh3aW5kb3cubG9jYXRpb24uc2VhcmNoLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRcdHVybCA9IHVybCArICc/JztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR1cmwgPSB1cmwgKyAnJic7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHVybCA9IHVybCArIG5hbWUgKyAnPScgKyB2YWx1ZTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGxldCBuZXdWYWx1ZSA9IG5hbWUgKyAnPScgKyB2YWx1ZTtcclxuXHRcdFx0dXJsID0gdXJsLnJlcGxhY2UocmVzdWx0c1syXSwgbmV3VmFsdWUpO1xyXG5cdFx0fVxyXG5cdFx0d2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCAnJywgdXJsKTtcclxuXHR9XHJcbiovXHJcblx0c3RhdGljIGNyZWF0ZUNoaWxkQUFCQihhYWJiLCBpbmRleCl7XHJcblx0XHRsZXQgbWluID0gYWFiYi5taW4uY2xvbmUoKTtcclxuXHRcdGxldCBtYXggPSBhYWJiLm1heC5jbG9uZSgpO1xyXG5cdFx0bGV0IHNpemUgPSBtYXguc3VidHJhY3QobWluKTtcclxuXHJcblx0XHRpZiAoKGluZGV4ICYgMGIwMDAxKSA+IDApIHtcclxuXHRcdFx0bWluLnogKz0gc2l6ZS56IC8gMjtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG1heC56IC09IHNpemUueiAvIDI7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKChpbmRleCAmIDBiMDAxMCkgPiAwKSB7XHJcblx0XHRcdG1pbi55ICs9IHNpemUueSAvIDI7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRtYXgueSAtPSBzaXplLnkgLyAyO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICgoaW5kZXggJiAwYjAxMDApID4gMCkge1xyXG5cdFx0XHRtaW4ueCArPSBzaXplLnggLyAyO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bWF4LnggLT0gc2l6ZS54IC8gMjtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbmV3IFplYUVuZ2luZS5Cb3gzKG1pbiwgbWF4KTtcclxuXHR9XHJcbi8qXHJcblx0Ly8gc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQwMDIxMi9ob3ctZG8taS1jb3B5LXRvLXRoZS1jbGlwYm9hcmQtaW4tamF2YXNjcmlwdFxyXG5cdHN0YXRpYyBjbGlwYm9hcmRDb3B5KHRleHQpe1xyXG5cdFx0bGV0IHRleHRBcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xyXG5cclxuXHRcdHRleHRBcmVhLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcclxuXHRcdHRleHRBcmVhLnN0eWxlLnRvcCA9IDA7XHJcblx0XHR0ZXh0QXJlYS5zdHlsZS5sZWZ0ID0gMDtcclxuXHJcblx0XHR0ZXh0QXJlYS5zdHlsZS53aWR0aCA9ICcyZW0nO1xyXG5cdFx0dGV4dEFyZWEuc3R5bGUuaGVpZ2h0ID0gJzJlbSc7XHJcblxyXG5cdFx0dGV4dEFyZWEuc3R5bGUucGFkZGluZyA9IDA7XHJcblxyXG5cdFx0dGV4dEFyZWEuc3R5bGUuYm9yZGVyID0gJ25vbmUnO1xyXG5cdFx0dGV4dEFyZWEuc3R5bGUub3V0bGluZSA9ICdub25lJztcclxuXHRcdHRleHRBcmVhLnN0eWxlLmJveFNoYWRvdyA9ICdub25lJztcclxuXHJcblx0XHR0ZXh0QXJlYS5zdHlsZS5iYWNrZ3JvdW5kID0gJ3RyYW5zcGFyZW50JztcclxuXHJcblx0XHR0ZXh0QXJlYS52YWx1ZSA9IHRleHQ7XHJcblxyXG5cdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZXh0QXJlYSk7XHJcblxyXG5cdFx0dGV4dEFyZWEuc2VsZWN0KCk7XHJcblxyXG5cdFx0IHRyeSB7XHJcblx0XHRcdGxldCBzdWNjZXNzID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTtcclxuXHRcdFx0aWYoc3VjY2Vzcyl7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coXCJjb3BpZWQgdGV4dCB0byBjbGlwYm9hcmRcIik7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiY29weSB0byBjbGlwYm9hcmQgZmFpbGVkXCIpO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnIpIHtcclxuXHRcdFx0Y29uc29sZS5sb2coXCJlcnJvciB3aGlsZSB0cnlpbmcgdG8gY29weSB0byBjbGlwYm9hcmRcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0ZXh0QXJlYSk7XHJcblxyXG5cdH1cclxuXHJcblx0c3RhdGljIGdldE1lYXN1cmVtZW50SWNvbihtZWFzdXJlbWVudCl7XHJcblx0XHRpZiAobWVhc3VyZW1lbnQgaW5zdGFuY2VvZiBNZWFzdXJlKSB7XHJcblx0XHRcdGlmIChtZWFzdXJlbWVudC5zaG93RGlzdGFuY2VzICYmICFtZWFzdXJlbWVudC5zaG93QXJlYSAmJiAhbWVhc3VyZW1lbnQuc2hvd0FuZ2xlcykge1xyXG5cdFx0XHRcdHJldHVybiBgJHtQb3RyZWUucmVzb3VyY2VQYXRofS9pY29ucy9kaXN0YW5jZS5zdmdgO1xyXG5cdFx0XHR9IGVsc2UgaWYgKG1lYXN1cmVtZW50LnNob3dEaXN0YW5jZXMgJiYgbWVhc3VyZW1lbnQuc2hvd0FyZWEgJiYgIW1lYXN1cmVtZW50LnNob3dBbmdsZXMpIHtcclxuXHRcdFx0XHRyZXR1cm4gYCR7UG90cmVlLnJlc291cmNlUGF0aH0vaWNvbnMvYXJlYS5zdmdgO1xyXG5cdFx0XHR9IGVsc2UgaWYgKG1lYXN1cmVtZW50Lm1heE1hcmtlcnMgPT09IDEpIHtcclxuXHRcdFx0XHRyZXR1cm4gYCR7UG90cmVlLnJlc291cmNlUGF0aH0vaWNvbnMvcG9pbnQuc3ZnYDtcclxuXHRcdFx0fSBlbHNlIGlmICghbWVhc3VyZW1lbnQuc2hvd0Rpc3RhbmNlcyAmJiAhbWVhc3VyZW1lbnQuc2hvd0FyZWEgJiYgbWVhc3VyZW1lbnQuc2hvd0FuZ2xlcykge1xyXG5cdFx0XHRcdHJldHVybiBgJHtQb3RyZWUucmVzb3VyY2VQYXRofS9pY29ucy9hbmdsZS5wbmdgO1xyXG5cdFx0XHR9IGVsc2UgaWYgKG1lYXN1cmVtZW50LnNob3dIZWlnaHQpIHtcclxuXHRcdFx0XHRyZXR1cm4gYCR7UG90cmVlLnJlc291cmNlUGF0aH0vaWNvbnMvaGVpZ2h0LnN2Z2A7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIGAke1BvdHJlZS5yZXNvdXJjZVBhdGh9L2ljb25zL2Rpc3RhbmNlLnN2Z2A7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSBpZiAobWVhc3VyZW1lbnQgaW5zdGFuY2VvZiBQcm9maWxlKSB7XHJcblx0XHRcdHJldHVybiBgJHtQb3RyZWUucmVzb3VyY2VQYXRofS9pY29ucy9wcm9maWxlLnN2Z2A7XHJcblx0XHR9IGVsc2UgaWYgKG1lYXN1cmVtZW50IGluc3RhbmNlb2YgVm9sdW1lKSB7XHJcblx0XHRcdHJldHVybiBgJHtQb3RyZWUucmVzb3VyY2VQYXRofS9pY29ucy92b2x1bWUuc3ZnYDtcclxuXHRcdH0gZWxzZSBpZiAobWVhc3VyZW1lbnQgaW5zdGFuY2VvZiBQb2x5Z29uQ2xpcFZvbHVtZSkge1xyXG5cdFx0XHRyZXR1cm4gYCR7UG90cmVlLnJlc291cmNlUGF0aH0vaWNvbnMvY2xpcC1wb2x5Z29uLnN2Z2A7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRzdGF0aWMgdG9NYXRlcmlhbElEKG1hdGVyaWFsTmFtZSl7XHJcblx0XHRpZiAobWF0ZXJpYWxOYW1lID09PSAnUkdCJyl7XHJcblx0XHRcdHJldHVybiBQb2ludENvbG9yVHlwZS5SR0I7XHJcblx0XHR9IGVsc2UgaWYgKG1hdGVyaWFsTmFtZSA9PT0gJ0NvbG9yJykge1xyXG5cdFx0XHRyZXR1cm4gUG9pbnRDb2xvclR5cGUuQ09MT1I7XHJcblx0XHR9IGVsc2UgaWYgKG1hdGVyaWFsTmFtZSA9PT0gJ0VsZXZhdGlvbicpIHtcclxuXHRcdFx0cmV0dXJuIFBvaW50Q29sb3JUeXBlLkhFSUdIVDtcclxuXHRcdH0gZWxzZSBpZiAobWF0ZXJpYWxOYW1lID09PSAnSW50ZW5zaXR5Jykge1xyXG5cdFx0XHRyZXR1cm4gUG9pbnRDb2xvclR5cGUuSU5URU5TSVRZO1xyXG5cdFx0fSBlbHNlIGlmIChtYXRlcmlhbE5hbWUgPT09ICdJbnRlbnNpdHkgR3JhZGllbnQnKSB7XHJcblx0XHRcdHJldHVybiBQb2ludENvbG9yVHlwZS5JTlRFTlNJVFlfR1JBRElFTlQ7XHJcblx0XHR9IGVsc2UgaWYgKG1hdGVyaWFsTmFtZSA9PT0gJ0NsYXNzaWZpY2F0aW9uJykge1xyXG5cdFx0XHRyZXR1cm4gUG9pbnRDb2xvclR5cGUuQ0xBU1NJRklDQVRJT047XHJcblx0XHR9IGVsc2UgaWYgKG1hdGVyaWFsTmFtZSA9PT0gJ1JldHVybiBOdW1iZXInKSB7XHJcblx0XHRcdHJldHVybiBQb2ludENvbG9yVHlwZS5SRVRVUk5fTlVNQkVSO1xyXG5cdFx0fSBlbHNlIGlmIChtYXRlcmlhbE5hbWUgPT09ICdTb3VyY2UnKSB7XHJcblx0XHRcdHJldHVybiBQb2ludENvbG9yVHlwZS5TT1VSQ0U7XHJcblx0XHR9IGVsc2UgaWYgKG1hdGVyaWFsTmFtZSA9PT0gJ0xldmVsIG9mIERldGFpbCcpIHtcclxuXHRcdFx0cmV0dXJuIFBvaW50Q29sb3JUeXBlLkxPRDtcclxuXHRcdH0gZWxzZSBpZiAobWF0ZXJpYWxOYW1lID09PSAnUG9pbnQgSW5kZXgnKSB7XHJcblx0XHRcdHJldHVybiBQb2ludENvbG9yVHlwZS5QT0lOVF9JTkRFWDtcclxuXHRcdH0gZWxzZSBpZiAobWF0ZXJpYWxOYW1lID09PSAnTm9ybWFsJykge1xyXG5cdFx0XHRyZXR1cm4gUG9pbnRDb2xvclR5cGUuTk9STUFMO1xyXG5cdFx0fSBlbHNlIGlmIChtYXRlcmlhbE5hbWUgPT09ICdQaG9uZycpIHtcclxuXHRcdFx0cmV0dXJuIFBvaW50Q29sb3JUeXBlLlBIT05HO1xyXG5cdFx0fSBlbHNlIGlmIChtYXRlcmlhbE5hbWUgPT09ICdJbmRleCcpIHtcclxuXHRcdFx0cmV0dXJuIFBvaW50Q29sb3JUeXBlLlBPSU5UX0lOREVYO1xyXG5cdFx0fSBlbHNlIGlmIChtYXRlcmlhbE5hbWUgPT09ICdSR0IgYW5kIEVsZXZhdGlvbicpIHtcclxuXHRcdFx0cmV0dXJuIFBvaW50Q29sb3JUeXBlLlJHQl9IRUlHSFQ7XHJcblx0XHR9IGVsc2UgaWYgKG1hdGVyaWFsTmFtZSA9PT0gJ0NvbXBvc2l0ZScpIHtcclxuXHRcdFx0cmV0dXJuIFBvaW50Q29sb3JUeXBlLkNPTVBPU0lURTtcclxuXHRcdH0gZWxzZSBpZiAobWF0ZXJpYWxOYW1lID09PSAnR1BTIFRpbWUnKSB7XHJcblx0XHRcdHJldHVybiBQb2ludENvbG9yVHlwZS5HUFNfVElNRTtcclxuXHRcdH0gZWxzZSBpZiAobWF0ZXJpYWxOYW1lID09PSAnTWF0Y2FwJykge1xyXG5cdFx0XHRyZXR1cm4gUG9pbnRDb2xvclR5cGUuTUFUQ0FQO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cclxuXHRzdGF0aWMgdG9NYXRlcmlhbE5hbWUobWF0ZXJpYWxJRCkge1xyXG5cdFx0aWYgKG1hdGVyaWFsSUQgPT09IFBvaW50Q29sb3JUeXBlLlJHQikge1xyXG5cdFx0XHRyZXR1cm4gJ1JHQic7XHJcblx0XHR9IGVsc2UgaWYgKG1hdGVyaWFsSUQgPT09IFBvaW50Q29sb3JUeXBlLkNPTE9SKSB7XHJcblx0XHRcdHJldHVybiAnQ29sb3InO1xyXG5cdFx0fSBlbHNlIGlmIChtYXRlcmlhbElEID09PSBQb2ludENvbG9yVHlwZS5IRUlHSFQpIHtcclxuXHRcdFx0cmV0dXJuICdFbGV2YXRpb24nO1xyXG5cdFx0fSBlbHNlIGlmIChtYXRlcmlhbElEID09PSBQb2ludENvbG9yVHlwZS5JTlRFTlNJVFkpIHtcclxuXHRcdFx0cmV0dXJuICdJbnRlbnNpdHknO1xyXG5cdFx0fSBlbHNlIGlmIChtYXRlcmlhbElEID09PSBQb2ludENvbG9yVHlwZS5JTlRFTlNJVFlfR1JBRElFTlQpIHtcclxuXHRcdFx0cmV0dXJuICdJbnRlbnNpdHkgR3JhZGllbnQnO1xyXG5cdFx0fSBlbHNlIGlmIChtYXRlcmlhbElEID09PSBQb2ludENvbG9yVHlwZS5DTEFTU0lGSUNBVElPTikge1xyXG5cdFx0XHRyZXR1cm4gJ0NsYXNzaWZpY2F0aW9uJztcclxuXHRcdH0gZWxzZSBpZiAobWF0ZXJpYWxJRCA9PT0gUG9pbnRDb2xvclR5cGUuUkVUVVJOX05VTUJFUikge1xyXG5cdFx0XHRyZXR1cm4gJ1JldHVybiBOdW1iZXInO1xyXG5cdFx0fSBlbHNlIGlmIChtYXRlcmlhbElEID09PSBQb2ludENvbG9yVHlwZS5TT1VSQ0UpIHtcclxuXHRcdFx0cmV0dXJuICdTb3VyY2UnO1xyXG5cdFx0fSBlbHNlIGlmIChtYXRlcmlhbElEID09PSBQb2ludENvbG9yVHlwZS5MT0QpIHtcclxuXHRcdFx0cmV0dXJuICdMZXZlbCBvZiBEZXRhaWwnO1xyXG5cdFx0fSBlbHNlIGlmIChtYXRlcmlhbElEID09PSBQb2ludENvbG9yVHlwZS5OT1JNQUwpIHtcclxuXHRcdFx0cmV0dXJuICdOb3JtYWwnO1xyXG5cdFx0fSBlbHNlIGlmIChtYXRlcmlhbElEID09PSBQb2ludENvbG9yVHlwZS5QSE9ORykge1xyXG5cdFx0XHRyZXR1cm4gJ1Bob25nJztcclxuXHRcdH0gZWxzZSBpZiAobWF0ZXJpYWxJRCA9PT0gUG9pbnRDb2xvclR5cGUuUE9JTlRfSU5ERVgpIHtcclxuXHRcdFx0cmV0dXJuICdJbmRleCc7XHJcblx0XHR9IGVsc2UgaWYgKG1hdGVyaWFsSUQgPT09IFBvaW50Q29sb3JUeXBlLlJHQl9IRUlHSFQpIHtcclxuXHRcdFx0cmV0dXJuICdSR0IgYW5kIEVsZXZhdGlvbic7XHJcblx0XHR9IGVsc2UgaWYgKG1hdGVyaWFsSUQgPT09IFBvaW50Q29sb3JUeXBlLkNPTVBPU0lURSkge1xyXG5cdFx0XHRyZXR1cm4gJ0NvbXBvc2l0ZSc7XHJcblx0XHR9IGVsc2UgaWYgKG1hdGVyaWFsSUQgPT09IFBvaW50Q29sb3JUeXBlLkdQU19USU1FKSB7XHJcblx0XHRcdHJldHVybiAnR1BTIFRpbWUnO1xyXG5cdFx0fSBlbHNlIGlmIChtYXRlcmlhbElEID09PSBQb2ludENvbG9yVHlwZS5NQVRDQVApIHtcclxuXHRcdFx0cmV0dXJuICdNYXRjYXAnO1xyXG5cdFx0fVxyXG5cdH07XHJcbiovXHJcbn1cclxuXHJcbi8vIFV0aWxzLnNjcmVlblBhc3MgPSBuZXcgZnVuY3Rpb24gKCkge1xyXG4vLyBcdHRoaXMuc2NyZWVuU2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcclxuLy8gXHR0aGlzLnNjcmVlblF1YWQgPSBuZXcgVEhSRUUuTWVzaChuZXcgVEhSRUUuUGxhbmVCdWZmZXJHZW9tZXRyeSgyLCAyLCAwKSk7XHJcbi8vIFx0dGhpcy5zY3JlZW5RdWFkLm1hdGVyaWFsLmRlcHRoVGVzdCA9IHRydWU7XHJcbi8vIFx0dGhpcy5zY3JlZW5RdWFkLm1hdGVyaWFsLmRlcHRoV3JpdGUgPSB0cnVlO1xyXG4vLyBcdHRoaXMuc2NyZWVuUXVhZC5tYXRlcmlhbC50cmFuc3BhcmVudCA9IHRydWU7XHJcbi8vIFx0dGhpcy5zY3JlZW5TY2VuZS5hZGQodGhpcy5zY3JlZW5RdWFkKTtcclxuLy8gXHR0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5DYW1lcmEoKTtcclxuXHJcbi8vIFx0dGhpcy5yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIsIG1hdGVyaWFsLCB0YXJnZXQpIHtcclxuLy8gXHRcdHRoaXMuc2NyZWVuUXVhZC5tYXRlcmlhbCA9IG1hdGVyaWFsO1xyXG5cclxuLy8gXHRcdGlmICh0eXBlb2YgdGFyZ2V0ID09PSAndW5kZWZpbmVkJykge1xyXG4vLyBcdFx0XHRyZW5kZXJlci5yZW5kZXIodGhpcy5zY3JlZW5TY2VuZSwgdGhpcy5jYW1lcmEpO1xyXG4vLyBcdFx0fSBlbHNlIHtcclxuLy8gXHRcdFx0cmVuZGVyZXIucmVuZGVyKHRoaXMuc2NyZWVuU2NlbmUsIHRoaXMuY2FtZXJhLCB0YXJnZXQpO1xyXG4vLyBcdFx0fVxyXG4vLyBcdH07XHJcbi8vIH0oKTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/utils.js\n");

/***/ }),

/***/ "./src/zea/GLPotreeAsset.js":
/*!**********************************!*\
  !*** ./src/zea/GLPotreeAsset.js ***!
  \**********************************/
/*! exports provided: GLPotreeAsset */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GLPotreeAsset\", function() { return GLPotreeAsset; });\n\r\nlet globalCounter = 0;\r\n\r\nclass GLOctTreeNode extends ZeaEngine.GLPoints {\r\n  constructor(gl, node, ) {\r\n    super(gl, node.points)\r\n    this.node = node;\r\n\r\n    // this.offset = node.offset;\r\n    this.id = ++globalCounter;\r\n    this.loaded = true; // only for LRU. Safely remove after refactoring.\r\n    \r\n\r\n    this.children = []\r\n  }\r\n\r\n\r\n\r\n  // bind(renderstate){\r\n  //   super.bind(renderstate);\r\n\r\n  // }\r\n\r\n  get numPoints(){\r\n    return this.node.numPoints;\r\n  }\r\n\r\n  dispose() {\r\n    this.destroy()\r\n  }\r\n}\r\n\r\nclass GLPotreeAsset extends ZeaEngine.GLPass {\r\n  constructor(gl, potreeAsset, glshader){\r\n\r\n    super();\r\n\r\n    this.gl = gl;\r\n    this.potreeAsset = potreeAsset;\r\n\r\n    const xfoParam =  potreeAsset.getParameter('GlobalXfo')\r\n    const updateXfo = ()=>{\r\n      const xfo = potreeAsset.getGlobalXfo();\r\n      this.spacing = potreeAsset.pcoGeometry.spacing * Math.max(xfo.sc.x, xfo.sc.y, xfo.sc.z);\r\n      this.modelMatrixArray =  xfo.toMat4().asArray()\r\n    }\r\n    xfoParam.valueChanged.connect(updateXfo)\r\n    updateXfo();\r\n    \r\n    this.octreeSize = potreeAsset.pcoGeometry.boundingBox.size().x;\r\n\r\n    this.visibleNodes = [];\r\n    this.visibleGLNodes = [];\r\n    this.gloctreenodes = [];\r\n    this.map = new Map();\r\n    this.freeList = [];\r\n\r\n    this.updated = new ZeaEngine.Signal();\r\n  }\r\n\r\n  setVisibleNodes(visibleNodes, lru, offsets){\r\n    let visChanged = this.visibleNodes.length != visibleNodes.length\r\n    if(!visChanged) {\r\n      visChanged = visibleNodes.some((node, index) => {\r\n        return this.visibleNodes[index] != node;\r\n      })\r\n    }\r\n    if(visChanged) {\r\n      const gl = this.gl;\r\n\r\n      this.visibleGLNodes = []\r\n      // Iterate backwards to lru touches the closests node last.\r\n      for(let i=visibleNodes.length-1; i>=0; i--) {\r\n        const node = visibleNodes[i];\r\n        if (!this.map.has(node)) {\r\n\r\n          // console.log(\"GLPoints:\", node.name, node.offset);\r\n          const gloctreenode = new GLOctTreeNode(gl, node);\r\n          const index = this.freeList.length > 0 ? this.freeList.pop() : this.gloctreenodes.length;\r\n          this.gloctreenodes[index] = gloctreenode;\r\n          this.map.set(node, index);\r\n          \r\n          // Build the tree of gl nodes so we can clean them up later.\r\n          // if (node.name.length > 1){\r\n          //   const parentName = node.name.slice(0, -1);\r\n          //   let parent = this.map.get(parentName);\r\n          //   parent.children.push(gloctreenode);\r\n          // }\r\n\r\n          gloctreenode.destructing.connect(() => {\r\n            this.map.delete(node);\r\n            this.freeList.push(index);\r\n            this.gloctreenodes[index] = null;\r\n\r\n            const drawIndex = this.visibleGLNodes.indexOf(gloctreenode);\r\n            if (drawIndex >= 0)\r\n              this.visibleGLNodes.splice(drawIndex, 1);\r\n          });\r\n        }\r\n        const gloctreenode = this.gloctreenodes[this.map.get(node)];\r\n        this.visibleGLNodes.push(gloctreenode);\r\n\r\n        // At every visiblity change, the offset in the texture changes.\r\n        gloctreenode.vnStart = offsets.get(node);\r\n\r\n        lru.touch(gloctreenode);\r\n      };\r\n\r\n      this.updated.emit();\r\n    }\r\n  }\r\n\r\n  getGeomItem(){\r\n    return this.potreeAsset;\r\n  }\r\n\r\n  __drawNodes(renderstate){\r\n    const gl = this.gl;\r\n    const { unifs } = renderstate;\r\n    const { modelMatrix, offset, uOctreeSize, uOctreeSpacing, uVNStart, uLevel } = unifs\r\n    gl.uniformMatrix4fv(modelMatrix.location, false, this.modelMatrixArray)\r\n    \r\n    if (uOctreeSize)\r\n      gl.uniform1f(uOctreeSize.location, this.octreeSize)\r\n\r\n    if (uOctreeSpacing)\r\n      gl.uniform1f(uOctreeSpacing.location, this.spacing)\r\n\r\n    this.visibleGLNodes.forEach(glpoints => {\r\n      const node = glpoints.node\r\n\r\n      gl.uniform3fv(offset.location, node.offset.asArray())\r\n      \r\n      if (uVNStart)\r\n        gl.uniform1i(uVNStart.location, glpoints.vnStart)\r\n      if (uLevel)\r\n        gl.uniform1f(uLevel.location, node.level)\r\n\r\n      glpoints.bind(renderstate)\r\n      renderstate.bindViewports(unifs, () => {\r\n        glpoints.draw(renderstate)\r\n      })\r\n    });\r\n  }\r\n\r\n  draw(renderstate) {\r\n    if (this.visibleGLNodes.length == 0) return;\r\n    this.__drawNodes(renderstate)\r\n  }\r\n\r\n  drawHighlightedGeoms(renderstate) {\r\n    const gl = this.gl;\r\n    const { highlightColor } = renderstate.unifs;\r\n    if (highlightColor) {\r\n        gl.uniform4fv(highlightColor.location, this.potreeAsset.getHighlight().asArray());\r\n    }\r\n    this.__drawNodes(renderstate)\r\n  }\r\n\r\n  drawGeomData(renderstate) {\r\n    if (this.visibleGLNodes.length == 0) return;\r\n    this.__drawNodes(renderstate)\r\n  }\r\n\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9zcmMvemVhL0dMUG90cmVlQXNzZXQuanM/ZjhjYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQXVCOzs7QUFHdkI7QUFDQTs7OztBQUlBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0NBQXNDLE1BQU07QUFDNUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxxRUFBcUU7QUFDaEY7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIuL3NyYy96ZWEvR0xQb3RyZWVBc3NldC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5sZXQgZ2xvYmFsQ291bnRlciA9IDA7XHJcblxyXG5jbGFzcyBHTE9jdFRyZWVOb2RlIGV4dGVuZHMgWmVhRW5naW5lLkdMUG9pbnRzIHtcclxuICBjb25zdHJ1Y3RvcihnbCwgbm9kZSwgKSB7XHJcbiAgICBzdXBlcihnbCwgbm9kZS5wb2ludHMpXHJcbiAgICB0aGlzLm5vZGUgPSBub2RlO1xyXG5cclxuICAgIC8vIHRoaXMub2Zmc2V0ID0gbm9kZS5vZmZzZXQ7XHJcbiAgICB0aGlzLmlkID0gKytnbG9iYWxDb3VudGVyO1xyXG4gICAgdGhpcy5sb2FkZWQgPSB0cnVlOyAvLyBvbmx5IGZvciBMUlUuIFNhZmVseSByZW1vdmUgYWZ0ZXIgcmVmYWN0b3JpbmcuXHJcbiAgICBcclxuXHJcbiAgICB0aGlzLmNoaWxkcmVuID0gW11cclxuICB9XHJcblxyXG5cclxuXHJcbiAgLy8gYmluZChyZW5kZXJzdGF0ZSl7XHJcbiAgLy8gICBzdXBlci5iaW5kKHJlbmRlcnN0YXRlKTtcclxuXHJcbiAgLy8gfVxyXG5cclxuICBnZXQgbnVtUG9pbnRzKCl7XHJcbiAgICByZXR1cm4gdGhpcy5ub2RlLm51bVBvaW50cztcclxuICB9XHJcblxyXG4gIGRpc3Bvc2UoKSB7XHJcbiAgICB0aGlzLmRlc3Ryb3koKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEdMUG90cmVlQXNzZXQgZXh0ZW5kcyBaZWFFbmdpbmUuR0xQYXNzIHtcclxuICBjb25zdHJ1Y3RvcihnbCwgcG90cmVlQXNzZXQsIGdsc2hhZGVyKXtcclxuXHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMuZ2wgPSBnbDtcclxuICAgIHRoaXMucG90cmVlQXNzZXQgPSBwb3RyZWVBc3NldDtcclxuXHJcbiAgICBjb25zdCB4Zm9QYXJhbSA9ICBwb3RyZWVBc3NldC5nZXRQYXJhbWV0ZXIoJ0dsb2JhbFhmbycpXHJcbiAgICBjb25zdCB1cGRhdGVYZm8gPSAoKT0+e1xyXG4gICAgICBjb25zdCB4Zm8gPSBwb3RyZWVBc3NldC5nZXRHbG9iYWxYZm8oKTtcclxuICAgICAgdGhpcy5zcGFjaW5nID0gcG90cmVlQXNzZXQucGNvR2VvbWV0cnkuc3BhY2luZyAqIE1hdGgubWF4KHhmby5zYy54LCB4Zm8uc2MueSwgeGZvLnNjLnopO1xyXG4gICAgICB0aGlzLm1vZGVsTWF0cml4QXJyYXkgPSAgeGZvLnRvTWF0NCgpLmFzQXJyYXkoKVxyXG4gICAgfVxyXG4gICAgeGZvUGFyYW0udmFsdWVDaGFuZ2VkLmNvbm5lY3QodXBkYXRlWGZvKVxyXG4gICAgdXBkYXRlWGZvKCk7XHJcbiAgICBcclxuICAgIHRoaXMub2N0cmVlU2l6ZSA9IHBvdHJlZUFzc2V0LnBjb0dlb21ldHJ5LmJvdW5kaW5nQm94LnNpemUoKS54O1xyXG5cclxuICAgIHRoaXMudmlzaWJsZU5vZGVzID0gW107XHJcbiAgICB0aGlzLnZpc2libGVHTE5vZGVzID0gW107XHJcbiAgICB0aGlzLmdsb2N0cmVlbm9kZXMgPSBbXTtcclxuICAgIHRoaXMubWFwID0gbmV3IE1hcCgpO1xyXG4gICAgdGhpcy5mcmVlTGlzdCA9IFtdO1xyXG5cclxuICAgIHRoaXMudXBkYXRlZCA9IG5ldyBaZWFFbmdpbmUuU2lnbmFsKCk7XHJcbiAgfVxyXG5cclxuICBzZXRWaXNpYmxlTm9kZXModmlzaWJsZU5vZGVzLCBscnUsIG9mZnNldHMpe1xyXG4gICAgbGV0IHZpc0NoYW5nZWQgPSB0aGlzLnZpc2libGVOb2Rlcy5sZW5ndGggIT0gdmlzaWJsZU5vZGVzLmxlbmd0aFxyXG4gICAgaWYoIXZpc0NoYW5nZWQpIHtcclxuICAgICAgdmlzQ2hhbmdlZCA9IHZpc2libGVOb2Rlcy5zb21lKChub2RlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZpc2libGVOb2Rlc1tpbmRleF0gIT0gbm9kZTtcclxuICAgICAgfSlcclxuICAgIH1cclxuICAgIGlmKHZpc0NoYW5nZWQpIHtcclxuICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xyXG5cclxuICAgICAgdGhpcy52aXNpYmxlR0xOb2RlcyA9IFtdXHJcbiAgICAgIC8vIEl0ZXJhdGUgYmFja3dhcmRzIHRvIGxydSB0b3VjaGVzIHRoZSBjbG9zZXN0cyBub2RlIGxhc3QuXHJcbiAgICAgIGZvcihsZXQgaT12aXNpYmxlTm9kZXMubGVuZ3RoLTE7IGk+PTA7IGktLSkge1xyXG4gICAgICAgIGNvbnN0IG5vZGUgPSB2aXNpYmxlTm9kZXNbaV07XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hcC5oYXMobm9kZSkpIHtcclxuXHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkdMUG9pbnRzOlwiLCBub2RlLm5hbWUsIG5vZGUub2Zmc2V0KTtcclxuICAgICAgICAgIGNvbnN0IGdsb2N0cmVlbm9kZSA9IG5ldyBHTE9jdFRyZWVOb2RlKGdsLCBub2RlKTtcclxuICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5mcmVlTGlzdC5sZW5ndGggPiAwID8gdGhpcy5mcmVlTGlzdC5wb3AoKSA6IHRoaXMuZ2xvY3RyZWVub2Rlcy5sZW5ndGg7XHJcbiAgICAgICAgICB0aGlzLmdsb2N0cmVlbm9kZXNbaW5kZXhdID0gZ2xvY3RyZWVub2RlO1xyXG4gICAgICAgICAgdGhpcy5tYXAuc2V0KG5vZGUsIGluZGV4KTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gQnVpbGQgdGhlIHRyZWUgb2YgZ2wgbm9kZXMgc28gd2UgY2FuIGNsZWFuIHRoZW0gdXAgbGF0ZXIuXHJcbiAgICAgICAgICAvLyBpZiAobm9kZS5uYW1lLmxlbmd0aCA+IDEpe1xyXG4gICAgICAgICAgLy8gICBjb25zdCBwYXJlbnROYW1lID0gbm9kZS5uYW1lLnNsaWNlKDAsIC0xKTtcclxuICAgICAgICAgIC8vICAgbGV0IHBhcmVudCA9IHRoaXMubWFwLmdldChwYXJlbnROYW1lKTtcclxuICAgICAgICAgIC8vICAgcGFyZW50LmNoaWxkcmVuLnB1c2goZ2xvY3RyZWVub2RlKTtcclxuICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICBnbG9jdHJlZW5vZGUuZGVzdHJ1Y3RpbmcuY29ubmVjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubWFwLmRlbGV0ZShub2RlKTtcclxuICAgICAgICAgICAgdGhpcy5mcmVlTGlzdC5wdXNoKGluZGV4KTtcclxuICAgICAgICAgICAgdGhpcy5nbG9jdHJlZW5vZGVzW2luZGV4XSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBkcmF3SW5kZXggPSB0aGlzLnZpc2libGVHTE5vZGVzLmluZGV4T2YoZ2xvY3RyZWVub2RlKTtcclxuICAgICAgICAgICAgaWYgKGRyYXdJbmRleCA+PSAwKVxyXG4gICAgICAgICAgICAgIHRoaXMudmlzaWJsZUdMTm9kZXMuc3BsaWNlKGRyYXdJbmRleCwgMSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZ2xvY3RyZWVub2RlID0gdGhpcy5nbG9jdHJlZW5vZGVzW3RoaXMubWFwLmdldChub2RlKV07XHJcbiAgICAgICAgdGhpcy52aXNpYmxlR0xOb2Rlcy5wdXNoKGdsb2N0cmVlbm9kZSk7XHJcblxyXG4gICAgICAgIC8vIEF0IGV2ZXJ5IHZpc2libGl0eSBjaGFuZ2UsIHRoZSBvZmZzZXQgaW4gdGhlIHRleHR1cmUgY2hhbmdlcy5cclxuICAgICAgICBnbG9jdHJlZW5vZGUudm5TdGFydCA9IG9mZnNldHMuZ2V0KG5vZGUpO1xyXG5cclxuICAgICAgICBscnUudG91Y2goZ2xvY3RyZWVub2RlKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMudXBkYXRlZC5lbWl0KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRHZW9tSXRlbSgpe1xyXG4gICAgcmV0dXJuIHRoaXMucG90cmVlQXNzZXQ7XHJcbiAgfVxyXG5cclxuICBfX2RyYXdOb2RlcyhyZW5kZXJzdGF0ZSl7XHJcbiAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XHJcbiAgICBjb25zdCB7IHVuaWZzIH0gPSByZW5kZXJzdGF0ZTtcclxuICAgIGNvbnN0IHsgbW9kZWxNYXRyaXgsIG9mZnNldCwgdU9jdHJlZVNpemUsIHVPY3RyZWVTcGFjaW5nLCB1Vk5TdGFydCwgdUxldmVsIH0gPSB1bmlmc1xyXG4gICAgZ2wudW5pZm9ybU1hdHJpeDRmdihtb2RlbE1hdHJpeC5sb2NhdGlvbiwgZmFsc2UsIHRoaXMubW9kZWxNYXRyaXhBcnJheSlcclxuICAgIFxyXG4gICAgaWYgKHVPY3RyZWVTaXplKVxyXG4gICAgICBnbC51bmlmb3JtMWYodU9jdHJlZVNpemUubG9jYXRpb24sIHRoaXMub2N0cmVlU2l6ZSlcclxuXHJcbiAgICBpZiAodU9jdHJlZVNwYWNpbmcpXHJcbiAgICAgIGdsLnVuaWZvcm0xZih1T2N0cmVlU3BhY2luZy5sb2NhdGlvbiwgdGhpcy5zcGFjaW5nKVxyXG5cclxuICAgIHRoaXMudmlzaWJsZUdMTm9kZXMuZm9yRWFjaChnbHBvaW50cyA9PiB7XHJcbiAgICAgIGNvbnN0IG5vZGUgPSBnbHBvaW50cy5ub2RlXHJcblxyXG4gICAgICBnbC51bmlmb3JtM2Z2KG9mZnNldC5sb2NhdGlvbiwgbm9kZS5vZmZzZXQuYXNBcnJheSgpKVxyXG4gICAgICBcclxuICAgICAgaWYgKHVWTlN0YXJ0KVxyXG4gICAgICAgIGdsLnVuaWZvcm0xaSh1Vk5TdGFydC5sb2NhdGlvbiwgZ2xwb2ludHMudm5TdGFydClcclxuICAgICAgaWYgKHVMZXZlbClcclxuICAgICAgICBnbC51bmlmb3JtMWYodUxldmVsLmxvY2F0aW9uLCBub2RlLmxldmVsKVxyXG5cclxuICAgICAgZ2xwb2ludHMuYmluZChyZW5kZXJzdGF0ZSlcclxuICAgICAgcmVuZGVyc3RhdGUuYmluZFZpZXdwb3J0cyh1bmlmcywgKCkgPT4ge1xyXG4gICAgICAgIGdscG9pbnRzLmRyYXcocmVuZGVyc3RhdGUpXHJcbiAgICAgIH0pXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGRyYXcocmVuZGVyc3RhdGUpIHtcclxuICAgIGlmICh0aGlzLnZpc2libGVHTE5vZGVzLmxlbmd0aCA9PSAwKSByZXR1cm47XHJcbiAgICB0aGlzLl9fZHJhd05vZGVzKHJlbmRlcnN0YXRlKVxyXG4gIH1cclxuXHJcbiAgZHJhd0hpZ2hsaWdodGVkR2VvbXMocmVuZGVyc3RhdGUpIHtcclxuICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcclxuICAgIGNvbnN0IHsgaGlnaGxpZ2h0Q29sb3IgfSA9IHJlbmRlcnN0YXRlLnVuaWZzO1xyXG4gICAgaWYgKGhpZ2hsaWdodENvbG9yKSB7XHJcbiAgICAgICAgZ2wudW5pZm9ybTRmdihoaWdobGlnaHRDb2xvci5sb2NhdGlvbiwgdGhpcy5wb3RyZWVBc3NldC5nZXRIaWdobGlnaHQoKS5hc0FycmF5KCkpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fX2RyYXdOb2RlcyhyZW5kZXJzdGF0ZSlcclxuICB9XHJcblxyXG4gIGRyYXdHZW9tRGF0YShyZW5kZXJzdGF0ZSkge1xyXG4gICAgaWYgKHRoaXMudmlzaWJsZUdMTm9kZXMubGVuZ3RoID09IDApIHJldHVybjtcclxuICAgIHRoaXMuX19kcmF3Tm9kZXMocmVuZGVyc3RhdGUpXHJcbiAgfVxyXG5cclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/zea/GLPotreeAsset.js\n");

/***/ }),

/***/ "./src/zea/GLPotreePass.js":
/*!*********************************!*\
  !*** ./src/zea/GLPotreePass.js ***!
  \*********************************/
/*! exports provided: GLPotreePass */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GLPotreePass\", function() { return GLPotreePass; });\n/* harmony import */ var _PotreeAsset_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PotreeAsset.js */ \"./src/zea/PotreeAsset.js\");\n/* harmony import */ var _GLPotreeAsset_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GLPotreeAsset.js */ \"./src/zea/GLPotreeAsset.js\");\n/* harmony import */ var _libs_other_BinaryHeap_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../libs/other/BinaryHeap.js */ \"./libs/other/BinaryHeap.js\");\n/* harmony import */ var _PotreePointsShader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PotreePointsShader.js */ \"./src/zea/PotreePointsShader.js\");\n/* harmony import */ var _LRU_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../LRU.js */ \"./src/LRU.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass GLPotreePass extends ZeaEngine.GLPass {\r\n  constructor(){\r\n    super();\r\n    \r\n    this.visiblePointsTarget = 2 * 1000 * 1000;\r\n    this.lru = new _LRU_js__WEBPACK_IMPORTED_MODULE_4__[\"LRU\"]();\r\n    this.minimumNodeVSize = 0.2; \r\n    this.glpotreeAssets = [];\r\n    this.hilghlightedAssets = [];\r\n\r\n    this.visibleNodesNeedUpdating = false;\r\n\r\n    // Size, not in pixels, but a fraction of scnreen V height.\r\n    const minimumNodeVSizeParam = this.addParameter(new ZeaEngine.NumberParameter('minimumNodeVSize',0.0))\r\n    minimumNodeVSizeParam.valueChanged.connect(mode => {\r\n        this.minimumNodeVSize = minimumNodeVSizeParam.getValue();\r\n    });\r\n\r\n    const visiblePointsTargetParam = this.addParameter(new ZeaEngine.NumberParameter('visiblePointsTarget', 0))\r\n    visiblePointsTargetParam.valueChanged.connect(() => {\r\n      this.pointBudget = visiblePointsTargetParam.getValue()\r\n        this.lru.pointLoadLimit = this.pointBudget * 2\r\n    });\r\n\r\n    const pointSizeParam = this.addParameter(new ZeaEngine.NumberParameter('Points Size', 0))\r\n    pointSizeParam.valueChanged.connect(() => {\r\n      this.pointSize = pointSizeParam.getValue()\r\n    });\r\n\r\n    minimumNodeVSizeParam.setValue(0.2)\r\n    visiblePointsTargetParam.setValue(2 * 1000 * 1000)\r\n    pointSizeParam.setValue(1.7)\r\n  }\r\n  /**\r\n   * The init method.\r\n   * @param {any} renderer - The renderer param.\r\n   * @param {any} passIndex - The passIndex param.\r\n   */\r\n  init(renderer, passIndex) {\r\n    super.init(renderer, passIndex)\r\n    const gl = renderer.gl;\r\n    this.glshader = new _PotreePointsShader_js__WEBPACK_IMPORTED_MODULE_3__[\"PotreePointsShader\"](gl);\r\n    this.glgeomdataShader = new _PotreePointsShader_js__WEBPACK_IMPORTED_MODULE_3__[\"PotreePointsGeomDataShader\"](gl);\r\n    this.glhighlightShader = new _PotreePointsShader_js__WEBPACK_IMPORTED_MODULE_3__[\"PotreePointsHilighlightShader\"](gl);\r\n\r\n    const size = 2048;\r\n    const data = new Uint8Array(size * 4);\r\n    for (let i = 0; i < size * 4; i++) data[i] = 255;\r\n\r\n    this.visibleNodesTexture = new ZeaEngine.GLTexture2D(gl, {\r\n      format: 'RGBA',\r\n      type: 'UNSIGNED_BYTE',\r\n      width: size,\r\n      height: 1,\r\n      filter: 'NEAREST',\r\n      wrap: 'CLAMP_TO_EDGE',\r\n      mipMapped: false,\r\n      data\r\n    })\r\n\r\n    this.__renderer.registerPass(\r\n      treeItem => {\r\n        if (treeItem instanceof _PotreeAsset_js__WEBPACK_IMPORTED_MODULE_0__[\"PotreeAsset\"]) {\r\n          this.addPotreeasset(treeItem)\r\n          return true\r\n        }\r\n        return false\r\n      },\r\n      treeItem => {\r\n        if (treeItem instanceof _PotreeAsset_js__WEBPACK_IMPORTED_MODULE_0__[\"PotreeAsset\"]) {\r\n          this.removePotreeasset(treeItem)\r\n          return true\r\n        }\r\n        return false\r\n      }\r\n    )\r\n  }\r\n\r\n  addPotreeasset(potreeAsset){\r\n    const __bindAsset = potreeAsset => {\r\n      const glpotreeAsset = new _GLPotreeAsset_js__WEBPACK_IMPORTED_MODULE_1__[\"GLPotreeAsset\"](this.__gl, potreeAsset, this.glshader);\r\n      glpotreeAsset.updated.connect(() => this.updated.emit());\r\n      potreeAsset.highlightChanged.connect(() => {\r\n        if (potreeAsset.isHighlighted()) {\r\n          if (this.hilghlightedAssets.indexOf(glpotreeAsset) == -1)\r\n            this.hilghlightedAssets.push(glpotreeAsset);\r\n        } else {\r\n          if (this.hilghlightedAssets.indexOf(glpotreeAsset) != -1)\r\n            this.hilghlightedAssets.splice(this.hilghlightedAssets.indexOf(glpotreeAsset), 1);\r\n        }\r\n      });\r\n\r\n      this.glpotreeAssets.push(glpotreeAsset);\r\n    }\r\n    if (potreeAsset.isLoaded())\r\n      __bindAsset(potreeAsset);\r\n    else {\r\n      potreeAsset.loaded.connect(() => __bindAsset(potreeAsset));\r\n    }\r\n  }\r\n\r\n  removePotreeasset(potreeAsset){\r\n\r\n\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // Visiblity\r\n\r\n  setViewport(viewport){\r\n    this.viewport = viewport;\r\n    this.viewport.viewChanged.connect(()=>{\r\n      this.visibleNodesNeedUpdating = true;\r\n    })\r\n    this.viewport.resized.connect(()=>{\r\n      this.visibleNodesNeedUpdating = true;\r\n    })\r\n    this.visibleNodesNeedUpdating = true;\r\n  }\r\n  \r\n  updateVisibilityStructures(priorityQueue) {\r\n    \r\n    const camera = this.viewport.getCamera();\r\n    const view = camera.getGlobalXfo().toMat4();\r\n    const viewI = this.viewport.getViewMatrix();\r\n    const proj = this.viewport.getProjectionMatrix();\r\n    const viewProj = proj.multiply(viewI)\r\n    const result = []\r\n    this.glpotreeAssets.forEach((glpotreeAsset, index)=> {\r\n        const potreeAsset = glpotreeAsset.getGeomItem()\r\n        const model = potreeAsset.getGlobalMat4()\r\n        const modelViewProj = viewProj.multiply(model);\r\n        const frustum = new ZeaEngine.Frustum();\r\n        frustum.setFromMatrix(modelViewProj);\r\n\r\n        // camera  position in object space\r\n        const modelInv = model.inverse();\r\n        const camMatrixObject = modelInv.multiply(view);\r\n        const camObjPos = camMatrixObject.translation\r\n\r\n        if (potreeAsset.getVisible() && potreeAsset.pcoGeometry !== null) {\r\n            priorityQueue.push({ index, node: potreeAsset.pcoGeometry.root, weight: Number.MAX_VALUE});\r\n        }\r\n\r\n        result.push({\r\n            glpotreeAsset,\r\n            frustum,\r\n            camObjPos,\r\n        });\r\n    });\r\n\r\n    return result\r\n  };\r\n\r\n\r\n  updateVisibility() {\r\n    const priorityQueue = new _libs_other_BinaryHeap_js__WEBPACK_IMPORTED_MODULE_2__[\"BinaryHeap\"](function (x) { return 1 / x.weight; });\r\n    const camera = this.viewport.getCamera();\r\n\r\n    this.numVisiblePoints = 0;\r\n    let numVisiblePoints = 0;\r\n    const visibleNodesByAsset = [];\r\n    let visibleNodes = []\r\n    const unloadedGeometry = [];\r\n\r\n    // calculate object space frustum and cam pos and setup priority queue\r\n    const result = this.updateVisibilityStructures(priorityQueue);\r\n\r\n    while (priorityQueue.size() > 0) {\r\n      const element = priorityQueue.pop();\r\n      const index = element.index;\r\n      const node = element.node;\r\n\r\n      if (numVisiblePoints + node.numPoints > this.pointBudget) {\r\n        break;\r\n      }\r\n\r\n      const frustum = result[index].frustum;\r\n      const insideFrustum = frustum.intersectsBox(node.boundingBox);\r\n      if (!insideFrustum) {\r\n        continue;\r\n      }\r\n      numVisiblePoints += node.numPoints;\r\n      this.numVisiblePoints += node.numPoints;\r\n\r\n      const parent = element.parent;\r\n      if (!parent || parent.isLoaded()) {\r\n        if (node.isLoaded()) {\r\n        if (!visibleNodesByAsset[index])\r\n            visibleNodesByAsset[index] = [];\r\n          visibleNodesByAsset[index].push(node);\r\n\r\n          visibleNodes.push(node);\r\n        } else {\r\n          unloadedGeometry.push(node);\r\n        }\r\n      }\r\n\r\n      // add child nodes to priorityQueue\r\n      const camObjPos = result[index].camObjPos;\r\n      const children = node.getChildren();\r\n      for (let i = 0; i < children.length; i++) {\r\n        const child = children[i];\r\n\r\n        let weight = 0; \r\n        if(true){\r\n          const sphere = child.getBoundingSphere();\r\n          const distance = sphere.pos.distanceTo(camObjPos);\r\n          const radius = sphere.radius;\r\n          if(distance - radius < 0){\r\n            weight = Number.MAX_VALUE;\r\n          } else {\r\n            const fov = camera.getFov();\r\n            const slope = Math.tan(fov / 2);\r\n\r\n            const projFactor = 0.5 / (slope * distance);\r\n            const screenVRadius = radius * projFactor;\r\n            \r\n            if(screenVRadius < this.minimumNodeVSize){\r\n              continue;\r\n            }\r\n            weight = screenVRadius;\r\n          }\r\n\r\n        } else {}\r\n\r\n        priorityQueue.push({ index, node: child, parent: node, weight: weight});\r\n      }\r\n    }// end priority queue loop\r\n    \r\n    const visibleNodeTextureOffsets = this.computeVisibilityTextureData(visibleNodes);\r\n\r\n    visibleNodesByAsset.forEach((assetVisibleNodes, index) => {\r\n      this.glpotreeAssets[index].setVisibleNodes(\r\n        assetVisibleNodes, \r\n        this.lru,\r\n        visibleNodeTextureOffsets\r\n      );\r\n    });\r\n\r\n    if (unloadedGeometry.length > 0) {\r\n      // Disabled temporarily\r\n      // for (let i = 0; i < Math.min(Potree.maxNodesLoading, unloadedGeometry.length); i++) {\r\n      const promises = []\r\n      for (let i = 0; i < unloadedGeometry.length; i++) {\r\n          // console.log(\"load:\", unloadedGeometry[i].name);\r\n          promises.push(unloadedGeometry[i].load());\r\n      }\r\n      if (promises.length > 0) {\r\n        // After all the loads have finished. \r\n        // update again so we can recompute and visiblity.\r\n        Promise.all(promises).then(()=>{\r\n          // for (let i = 0; i < unloadedGeometry.length; i++) {\r\n          //   console.log(\"loaded:\", unloadedGeometry[i].name);\r\n          // }\r\n          this.visibleNodesNeedUpdating = true;\r\n          this.updated.emit();\r\n        });\r\n      }\r\n    }\r\n\r\n    // Causes unused nodes to be flushed.\r\n    this.lru.freeMemory();\r\n\r\n    // this.updated.emit();\r\n  }\r\n\r\n  computeVisibilityTextureData(nodes){\r\n\r\n    const data = new Uint8Array(nodes.length * 4);\r\n    const visibleNodeTextureOffsets = new Map();\r\n\r\n    // copy array\r\n    nodes = nodes.slice();\r\n\r\n    // sort by level and index, e.g. r, r0, r3, r4, r01, r07, r30, ...\r\n    const sort = function (a, b) {\r\n      const na = a.name;\r\n      const nb = b.name;\r\n      if (na.length !== nb.length) return na.length - nb.length;\r\n      if (na < nb) return -1;\r\n      if (na > nb) return 1;\r\n      return 0;\r\n    };\r\n    nodes.sort(sort);\r\n\r\n    // const nodeMap = new Map();\r\n    const offsetsToChild = new Array(nodes.length).fill(Infinity);\r\n\r\n    for(let i = 0; i < nodes.length; i++){\r\n      const node = nodes[i];\r\n      // nodeMap.set(node.name, node);\r\n      visibleNodeTextureOffsets.set(node, i);\r\n\r\n      if(i > 0){\r\n        const index = node.index;//parseInt(node.name.slice(-1));\r\n        // console.log(node.name, node.index, node.name.slice(-1))\r\n        // const parentName = node.name.slice(0, -1);\r\n        const parent = node.parent;//nodeMap.get(parentName);\r\n        // console.log(node.parent.name, parent.name, node.parent === parent)\r\n        \r\n        const parentIndex = visibleNodeTextureOffsets.get(parent);\r\n\r\n        const parentOffsetToChild = (i - parentIndex);\r\n\r\n        const childOffset = Math.min(offsetsToChild[parentIndex], parentOffsetToChild);\r\n        \r\n        // Add this bit to the parent's chils bit mask.\r\n        data[parentIndex * 4 + 0] = data[parentIndex * 4 + 0] | (1 << index);\r\n        data[parentIndex * 4 + 1] = (childOffset >> 8);\r\n        data[parentIndex * 4 + 2] = (childOffset % 256);\r\n        offsetsToChild[parentIndex] = childOffset;\r\n      }\r\n\r\n      data[i * 4 + 3] = node.name.length - 1;\r\n    }\r\n\r\n    this.visibleNodesTexture.populate(data, nodes.length, 1);\r\n    return visibleNodeTextureOffsets;\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // Rendering\r\n\r\n  /**\r\n   * The draw method.\r\n   * @param {any} renderstate - The renderstate param.\r\n   */\r\n  draw(renderstate) {\r\n    if (this.glpotreeAssets.length == 0) return;\r\n\r\n    if (this.visibleNodesNeedUpdating){\r\n      this.updateVisibility();\r\n      this.visibleNodesNeedUpdating = false;\r\n    }\r\n\r\n    const gl = this.__gl;\r\n  \r\n    gl.disable(gl.BLEND);\r\n    gl.depthMask(true);\r\n    gl.enable(gl.DEPTH_TEST);\r\n\r\n    this.glshader.bind(renderstate);\r\n\r\n    const { visibleNodes, PointSize } = renderstate.unifs;\r\n    if (visibleNodes)\r\n      this.visibleNodesTexture.bindToUniform(renderstate, visibleNodes)\r\n\r\n    gl.uniform1f(PointSize.location, this.pointSize);\r\n    \r\n    // RENDER\r\n    this.glpotreeAssets.forEach( a => a.draw(renderstate))\r\n\r\n  }\r\n\r\n  /**\r\n   * The drawHighlightedGeoms method.\r\n   * @param {any} renderstate - The renderstate param.\r\n   */\r\n  drawHighlightedGeoms(renderstate) {\r\n    if (this.hilghlightedAssets.length == 0) return;\r\n    const gl = this.__gl;\r\n  \r\n    gl.disable(gl.BLEND);\r\n    gl.depthMask(true);\r\n    gl.enable(gl.DEPTH_TEST);\r\n\r\n    this.glhighlightShader.bind(renderstate);\r\n    \r\n    const { visibleNodes, PointSize } = renderstate.unifs;\r\n    if (visibleNodes)\r\n      this.visibleNodesTexture.bindToUniform(renderstate, visibleNodes)\r\n\r\n    gl.uniform1f(PointSize.location, this.pointSize);\r\n\r\n    this.hilghlightedAssets.forEach( a => a.drawHighlightedGeoms(renderstate))\r\n  }\r\n\r\n  /**\r\n   * The drawGeomData method.\r\n   * @param {any} renderstate - The renderstate param.\r\n   */\r\n  drawGeomData(renderstate) {\r\n    if (this.glpotreeAssets.length == 0) return;\r\n    const gl = this.__gl;\r\n  \r\n    gl.disable(gl.BLEND);\r\n    gl.depthMask(true);\r\n    gl.enable(gl.DEPTH_TEST);\r\n\r\n    this.glgeomdataShader.bind(renderstate);\r\n    \r\n    const { visibleNodes, PointSize } = renderstate.unifs;\r\n    if (visibleNodes)\r\n      this.visibleNodesTexture.bindToUniform(renderstate, visibleNodes)\r\n\r\n    gl.uniform1f(PointSize.location, this.pointSize);\r\n\r\n    // RENDER\r\n    this.glpotreeAssets.forEach((a, index)=> {\r\n      const { passId, assetId } = renderstate.unifs;\r\n      if (passId) {\r\n        gl.uniform1i(passId.location, this.__passIndex);\r\n      }\r\n      if (assetId) {\r\n        gl.uniform1i(assetId.location, index);\r\n      }\r\n      a.drawGeomData(renderstate)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * The getGeomItemAndDist method.\r\n   * @param {any} geomData - The geomData param.\r\n   */\r\n  getGeomItemAndDist(geomData) {\r\n    const itemId = Math.round(geomData[1])\r\n    const dist = geomData[3]\r\n    const glpotreeAsset = this.glpotreeAssets[itemId]\r\n    if (glpotreeAsset) {\r\n      return {\r\n        geomItem: glpotreeAsset.getGeomItem(),\r\n        dist,\r\n      }\r\n    }\r\n  }\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9zcmMvemVhL0dMUG90cmVlUGFzcy5qcz9hYThiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQytDO0FBQ0k7QUFDUztBQUM0RDtBQUMxRjs7QUFFdkI7QUFDUDtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLDJDQUFHO0FBQ3RCLGdDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxJQUFJO0FBQ2pCLGFBQWEsSUFBSTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5RUFBa0I7QUFDMUMsZ0NBQWdDLGlGQUEwQjtBQUMxRCxpQ0FBaUMsb0ZBQTZCOztBQUU5RDtBQUNBO0FBQ0EsbUJBQW1CLGNBQWM7O0FBRWpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGdDQUFnQywyREFBVztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLGdDQUFnQywyREFBVztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0NBQWdDLCtEQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7QUFHQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQ0FBZ0MscUVBQXFFO0FBQ3JHOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7O0FBRUw7QUFDQTs7O0FBR0E7QUFDQSw4QkFBOEIsb0VBQVUsZUFBZSxxQkFBcUIsRUFBRTtBQUM5RTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHFCQUFxQjtBQUMxQzs7QUFFQSx1QjtBQUNBLFdBQVcsSUFBa0M7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLE1BQU0sRUFRTjs7QUFFVCw0QkFBNEIsa0RBQWtEO0FBQzlFO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSx3QkFBd0IsK0RBQStEO0FBQ3ZGO0FBQ0EscUJBQXFCLDZCQUE2QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw2QkFBNkI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLG1DQUFtQztBQUNuQzs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxJQUFJO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsV0FBVywwQkFBMEI7QUFDckM7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLElBQUk7QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLFdBQVcsMEJBQTBCO0FBQ3JDO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxJQUFJO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxXQUFXLDBCQUEwQjtBQUNyQztBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLGtCQUFrQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxJQUFJO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vc3JjL3plYS9HTFBvdHJlZVBhc3MuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IHsgUG90cmVlQXNzZXQgfSBmcm9tIFwiLi9Qb3RyZWVBc3NldC5qc1wiO1xyXG5pbXBvcnQgeyBHTFBvdHJlZUFzc2V0IH0gZnJvbSBcIi4vR0xQb3RyZWVBc3NldC5qc1wiO1xyXG5pbXBvcnQgeyBCaW5hcnlIZWFwIH0gZnJvbSBcIi4uLy4uL2xpYnMvb3RoZXIvQmluYXJ5SGVhcC5qc1wiO1xyXG5pbXBvcnQgeyBQb3RyZWVQb2ludHNTaGFkZXIsIFBvdHJlZVBvaW50c0dlb21EYXRhU2hhZGVyLCBQb3RyZWVQb2ludHNIaWxpZ2hsaWdodFNoYWRlciB9IGZyb20gXCIuL1BvdHJlZVBvaW50c1NoYWRlci5qc1wiO1xyXG5pbXBvcnQge0xSVX0gZnJvbSBcIi4uL0xSVS5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdMUG90cmVlUGFzcyBleHRlbmRzIFplYUVuZ2luZS5HTFBhc3Mge1xyXG4gIGNvbnN0cnVjdG9yKCl7XHJcbiAgICBzdXBlcigpO1xyXG4gICAgXHJcbiAgICB0aGlzLnZpc2libGVQb2ludHNUYXJnZXQgPSAyICogMTAwMCAqIDEwMDA7XHJcbiAgICB0aGlzLmxydSA9IG5ldyBMUlUoKTtcclxuICAgIHRoaXMubWluaW11bU5vZGVWU2l6ZSA9IDAuMjsgXHJcbiAgICB0aGlzLmdscG90cmVlQXNzZXRzID0gW107XHJcbiAgICB0aGlzLmhpbGdobGlnaHRlZEFzc2V0cyA9IFtdO1xyXG5cclxuICAgIHRoaXMudmlzaWJsZU5vZGVzTmVlZFVwZGF0aW5nID0gZmFsc2U7XHJcblxyXG4gICAgLy8gU2l6ZSwgbm90IGluIHBpeGVscywgYnV0IGEgZnJhY3Rpb24gb2Ygc2NucmVlbiBWIGhlaWdodC5cclxuICAgIGNvbnN0IG1pbmltdW1Ob2RlVlNpemVQYXJhbSA9IHRoaXMuYWRkUGFyYW1ldGVyKG5ldyBaZWFFbmdpbmUuTnVtYmVyUGFyYW1ldGVyKCdtaW5pbXVtTm9kZVZTaXplJywwLjApKVxyXG4gICAgbWluaW11bU5vZGVWU2l6ZVBhcmFtLnZhbHVlQ2hhbmdlZC5jb25uZWN0KG1vZGUgPT4ge1xyXG4gICAgICAgIHRoaXMubWluaW11bU5vZGVWU2l6ZSA9IG1pbmltdW1Ob2RlVlNpemVQYXJhbS5nZXRWYWx1ZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgdmlzaWJsZVBvaW50c1RhcmdldFBhcmFtID0gdGhpcy5hZGRQYXJhbWV0ZXIobmV3IFplYUVuZ2luZS5OdW1iZXJQYXJhbWV0ZXIoJ3Zpc2libGVQb2ludHNUYXJnZXQnLCAwKSlcclxuICAgIHZpc2libGVQb2ludHNUYXJnZXRQYXJhbS52YWx1ZUNoYW5nZWQuY29ubmVjdCgoKSA9PiB7XHJcbiAgICAgIHRoaXMucG9pbnRCdWRnZXQgPSB2aXNpYmxlUG9pbnRzVGFyZ2V0UGFyYW0uZ2V0VmFsdWUoKVxyXG4gICAgICAgIHRoaXMubHJ1LnBvaW50TG9hZExpbWl0ID0gdGhpcy5wb2ludEJ1ZGdldCAqIDJcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHBvaW50U2l6ZVBhcmFtID0gdGhpcy5hZGRQYXJhbWV0ZXIobmV3IFplYUVuZ2luZS5OdW1iZXJQYXJhbWV0ZXIoJ1BvaW50cyBTaXplJywgMCkpXHJcbiAgICBwb2ludFNpemVQYXJhbS52YWx1ZUNoYW5nZWQuY29ubmVjdCgoKSA9PiB7XHJcbiAgICAgIHRoaXMucG9pbnRTaXplID0gcG9pbnRTaXplUGFyYW0uZ2V0VmFsdWUoKVxyXG4gICAgfSk7XHJcblxyXG4gICAgbWluaW11bU5vZGVWU2l6ZVBhcmFtLnNldFZhbHVlKDAuMilcclxuICAgIHZpc2libGVQb2ludHNUYXJnZXRQYXJhbS5zZXRWYWx1ZSgyICogMTAwMCAqIDEwMDApXHJcbiAgICBwb2ludFNpemVQYXJhbS5zZXRWYWx1ZSgxLjcpXHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFRoZSBpbml0IG1ldGhvZC5cclxuICAgKiBAcGFyYW0ge2FueX0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgcGFyYW0uXHJcbiAgICogQHBhcmFtIHthbnl9IHBhc3NJbmRleCAtIFRoZSBwYXNzSW5kZXggcGFyYW0uXHJcbiAgICovXHJcbiAgaW5pdChyZW5kZXJlciwgcGFzc0luZGV4KSB7XHJcbiAgICBzdXBlci5pbml0KHJlbmRlcmVyLCBwYXNzSW5kZXgpXHJcbiAgICBjb25zdCBnbCA9IHJlbmRlcmVyLmdsO1xyXG4gICAgdGhpcy5nbHNoYWRlciA9IG5ldyBQb3RyZWVQb2ludHNTaGFkZXIoZ2wpO1xyXG4gICAgdGhpcy5nbGdlb21kYXRhU2hhZGVyID0gbmV3IFBvdHJlZVBvaW50c0dlb21EYXRhU2hhZGVyKGdsKTtcclxuICAgIHRoaXMuZ2xoaWdobGlnaHRTaGFkZXIgPSBuZXcgUG90cmVlUG9pbnRzSGlsaWdobGlnaHRTaGFkZXIoZ2wpO1xyXG5cclxuICAgIGNvbnN0IHNpemUgPSAyMDQ4O1xyXG4gICAgY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KHNpemUgKiA0KTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZSAqIDQ7IGkrKykgZGF0YVtpXSA9IDI1NTtcclxuXHJcbiAgICB0aGlzLnZpc2libGVOb2Rlc1RleHR1cmUgPSBuZXcgWmVhRW5naW5lLkdMVGV4dHVyZTJEKGdsLCB7XHJcbiAgICAgIGZvcm1hdDogJ1JHQkEnLFxyXG4gICAgICB0eXBlOiAnVU5TSUdORURfQllURScsXHJcbiAgICAgIHdpZHRoOiBzaXplLFxyXG4gICAgICBoZWlnaHQ6IDEsXHJcbiAgICAgIGZpbHRlcjogJ05FQVJFU1QnLFxyXG4gICAgICB3cmFwOiAnQ0xBTVBfVE9fRURHRScsXHJcbiAgICAgIG1pcE1hcHBlZDogZmFsc2UsXHJcbiAgICAgIGRhdGFcclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5fX3JlbmRlcmVyLnJlZ2lzdGVyUGFzcyhcclxuICAgICAgdHJlZUl0ZW0gPT4ge1xyXG4gICAgICAgIGlmICh0cmVlSXRlbSBpbnN0YW5jZW9mIFBvdHJlZUFzc2V0KSB7XHJcbiAgICAgICAgICB0aGlzLmFkZFBvdHJlZWFzc2V0KHRyZWVJdGVtKVxyXG4gICAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgIH0sXHJcbiAgICAgIHRyZWVJdGVtID0+IHtcclxuICAgICAgICBpZiAodHJlZUl0ZW0gaW5zdGFuY2VvZiBQb3RyZWVBc3NldCkge1xyXG4gICAgICAgICAgdGhpcy5yZW1vdmVQb3RyZWVhc3NldCh0cmVlSXRlbSlcclxuICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICB9XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBhZGRQb3RyZWVhc3NldChwb3RyZWVBc3NldCl7XHJcbiAgICBjb25zdCBfX2JpbmRBc3NldCA9IHBvdHJlZUFzc2V0ID0+IHtcclxuICAgICAgY29uc3QgZ2xwb3RyZWVBc3NldCA9IG5ldyBHTFBvdHJlZUFzc2V0KHRoaXMuX19nbCwgcG90cmVlQXNzZXQsIHRoaXMuZ2xzaGFkZXIpO1xyXG4gICAgICBnbHBvdHJlZUFzc2V0LnVwZGF0ZWQuY29ubmVjdCgoKSA9PiB0aGlzLnVwZGF0ZWQuZW1pdCgpKTtcclxuICAgICAgcG90cmVlQXNzZXQuaGlnaGxpZ2h0Q2hhbmdlZC5jb25uZWN0KCgpID0+IHtcclxuICAgICAgICBpZiAocG90cmVlQXNzZXQuaXNIaWdobGlnaHRlZCgpKSB7XHJcbiAgICAgICAgICBpZiAodGhpcy5oaWxnaGxpZ2h0ZWRBc3NldHMuaW5kZXhPZihnbHBvdHJlZUFzc2V0KSA9PSAtMSlcclxuICAgICAgICAgICAgdGhpcy5oaWxnaGxpZ2h0ZWRBc3NldHMucHVzaChnbHBvdHJlZUFzc2V0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKHRoaXMuaGlsZ2hsaWdodGVkQXNzZXRzLmluZGV4T2YoZ2xwb3RyZWVBc3NldCkgIT0gLTEpXHJcbiAgICAgICAgICAgIHRoaXMuaGlsZ2hsaWdodGVkQXNzZXRzLnNwbGljZSh0aGlzLmhpbGdobGlnaHRlZEFzc2V0cy5pbmRleE9mKGdscG90cmVlQXNzZXQpLCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdGhpcy5nbHBvdHJlZUFzc2V0cy5wdXNoKGdscG90cmVlQXNzZXQpO1xyXG4gICAgfVxyXG4gICAgaWYgKHBvdHJlZUFzc2V0LmlzTG9hZGVkKCkpXHJcbiAgICAgIF9fYmluZEFzc2V0KHBvdHJlZUFzc2V0KTtcclxuICAgIGVsc2Uge1xyXG4gICAgICBwb3RyZWVBc3NldC5sb2FkZWQuY29ubmVjdCgoKSA9PiBfX2JpbmRBc3NldChwb3RyZWVBc3NldCkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVtb3ZlUG90cmVlYXNzZXQocG90cmVlQXNzZXQpe1xyXG5cclxuXHJcbiAgfVxyXG5cclxuICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gIC8vIFZpc2libGl0eVxyXG5cclxuICBzZXRWaWV3cG9ydCh2aWV3cG9ydCl7XHJcbiAgICB0aGlzLnZpZXdwb3J0ID0gdmlld3BvcnQ7XHJcbiAgICB0aGlzLnZpZXdwb3J0LnZpZXdDaGFuZ2VkLmNvbm5lY3QoKCk9PntcclxuICAgICAgdGhpcy52aXNpYmxlTm9kZXNOZWVkVXBkYXRpbmcgPSB0cnVlO1xyXG4gICAgfSlcclxuICAgIHRoaXMudmlld3BvcnQucmVzaXplZC5jb25uZWN0KCgpPT57XHJcbiAgICAgIHRoaXMudmlzaWJsZU5vZGVzTmVlZFVwZGF0aW5nID0gdHJ1ZTtcclxuICAgIH0pXHJcbiAgICB0aGlzLnZpc2libGVOb2Rlc05lZWRVcGRhdGluZyA9IHRydWU7XHJcbiAgfVxyXG4gIFxyXG4gIHVwZGF0ZVZpc2liaWxpdHlTdHJ1Y3R1cmVzKHByaW9yaXR5UXVldWUpIHtcclxuICAgIFxyXG4gICAgY29uc3QgY2FtZXJhID0gdGhpcy52aWV3cG9ydC5nZXRDYW1lcmEoKTtcclxuICAgIGNvbnN0IHZpZXcgPSBjYW1lcmEuZ2V0R2xvYmFsWGZvKCkudG9NYXQ0KCk7XHJcbiAgICBjb25zdCB2aWV3SSA9IHRoaXMudmlld3BvcnQuZ2V0Vmlld01hdHJpeCgpO1xyXG4gICAgY29uc3QgcHJvaiA9IHRoaXMudmlld3BvcnQuZ2V0UHJvamVjdGlvbk1hdHJpeCgpO1xyXG4gICAgY29uc3Qgdmlld1Byb2ogPSBwcm9qLm11bHRpcGx5KHZpZXdJKVxyXG4gICAgY29uc3QgcmVzdWx0ID0gW11cclxuICAgIHRoaXMuZ2xwb3RyZWVBc3NldHMuZm9yRWFjaCgoZ2xwb3RyZWVBc3NldCwgaW5kZXgpPT4ge1xyXG4gICAgICAgIGNvbnN0IHBvdHJlZUFzc2V0ID0gZ2xwb3RyZWVBc3NldC5nZXRHZW9tSXRlbSgpXHJcbiAgICAgICAgY29uc3QgbW9kZWwgPSBwb3RyZWVBc3NldC5nZXRHbG9iYWxNYXQ0KClcclxuICAgICAgICBjb25zdCBtb2RlbFZpZXdQcm9qID0gdmlld1Byb2oubXVsdGlwbHkobW9kZWwpO1xyXG4gICAgICAgIGNvbnN0IGZydXN0dW0gPSBuZXcgWmVhRW5naW5lLkZydXN0dW0oKTtcclxuICAgICAgICBmcnVzdHVtLnNldEZyb21NYXRyaXgobW9kZWxWaWV3UHJvaik7XHJcblxyXG4gICAgICAgIC8vIGNhbWVyYSAgcG9zaXRpb24gaW4gb2JqZWN0IHNwYWNlXHJcbiAgICAgICAgY29uc3QgbW9kZWxJbnYgPSBtb2RlbC5pbnZlcnNlKCk7XHJcbiAgICAgICAgY29uc3QgY2FtTWF0cml4T2JqZWN0ID0gbW9kZWxJbnYubXVsdGlwbHkodmlldyk7XHJcbiAgICAgICAgY29uc3QgY2FtT2JqUG9zID0gY2FtTWF0cml4T2JqZWN0LnRyYW5zbGF0aW9uXHJcblxyXG4gICAgICAgIGlmIChwb3RyZWVBc3NldC5nZXRWaXNpYmxlKCkgJiYgcG90cmVlQXNzZXQucGNvR2VvbWV0cnkgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgcHJpb3JpdHlRdWV1ZS5wdXNoKHsgaW5kZXgsIG5vZGU6IHBvdHJlZUFzc2V0LnBjb0dlb21ldHJ5LnJvb3QsIHdlaWdodDogTnVtYmVyLk1BWF9WQUxVRX0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVzdWx0LnB1c2goe1xyXG4gICAgICAgICAgICBnbHBvdHJlZUFzc2V0LFxyXG4gICAgICAgICAgICBmcnVzdHVtLFxyXG4gICAgICAgICAgICBjYW1PYmpQb3MsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gcmVzdWx0XHJcbiAgfTtcclxuXHJcblxyXG4gIHVwZGF0ZVZpc2liaWxpdHkoKSB7XHJcbiAgICBjb25zdCBwcmlvcml0eVF1ZXVlID0gbmV3IEJpbmFyeUhlYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIDEgLyB4LndlaWdodDsgfSk7XHJcbiAgICBjb25zdCBjYW1lcmEgPSB0aGlzLnZpZXdwb3J0LmdldENhbWVyYSgpO1xyXG5cclxuICAgIHRoaXMubnVtVmlzaWJsZVBvaW50cyA9IDA7XHJcbiAgICBsZXQgbnVtVmlzaWJsZVBvaW50cyA9IDA7XHJcbiAgICBjb25zdCB2aXNpYmxlTm9kZXNCeUFzc2V0ID0gW107XHJcbiAgICBsZXQgdmlzaWJsZU5vZGVzID0gW11cclxuICAgIGNvbnN0IHVubG9hZGVkR2VvbWV0cnkgPSBbXTtcclxuXHJcbiAgICAvLyBjYWxjdWxhdGUgb2JqZWN0IHNwYWNlIGZydXN0dW0gYW5kIGNhbSBwb3MgYW5kIHNldHVwIHByaW9yaXR5IHF1ZXVlXHJcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnVwZGF0ZVZpc2liaWxpdHlTdHJ1Y3R1cmVzKHByaW9yaXR5UXVldWUpO1xyXG5cclxuICAgIHdoaWxlIChwcmlvcml0eVF1ZXVlLnNpemUoKSA+IDApIHtcclxuICAgICAgY29uc3QgZWxlbWVudCA9IHByaW9yaXR5UXVldWUucG9wKCk7XHJcbiAgICAgIGNvbnN0IGluZGV4ID0gZWxlbWVudC5pbmRleDtcclxuICAgICAgY29uc3Qgbm9kZSA9IGVsZW1lbnQubm9kZTtcclxuXHJcbiAgICAgIGlmIChudW1WaXNpYmxlUG9pbnRzICsgbm9kZS5udW1Qb2ludHMgPiB0aGlzLnBvaW50QnVkZ2V0KSB7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGZydXN0dW0gPSByZXN1bHRbaW5kZXhdLmZydXN0dW07XHJcbiAgICAgIGNvbnN0IGluc2lkZUZydXN0dW0gPSBmcnVzdHVtLmludGVyc2VjdHNCb3gobm9kZS5ib3VuZGluZ0JveCk7XHJcbiAgICAgIGlmICghaW5zaWRlRnJ1c3R1bSkge1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcbiAgICAgIG51bVZpc2libGVQb2ludHMgKz0gbm9kZS5udW1Qb2ludHM7XHJcbiAgICAgIHRoaXMubnVtVmlzaWJsZVBvaW50cyArPSBub2RlLm51bVBvaW50cztcclxuXHJcbiAgICAgIGNvbnN0IHBhcmVudCA9IGVsZW1lbnQucGFyZW50O1xyXG4gICAgICBpZiAoIXBhcmVudCB8fCBwYXJlbnQuaXNMb2FkZWQoKSkge1xyXG4gICAgICAgIGlmIChub2RlLmlzTG9hZGVkKCkpIHtcclxuICAgICAgICBpZiAoIXZpc2libGVOb2Rlc0J5QXNzZXRbaW5kZXhdKVxyXG4gICAgICAgICAgICB2aXNpYmxlTm9kZXNCeUFzc2V0W2luZGV4XSA9IFtdO1xyXG4gICAgICAgICAgdmlzaWJsZU5vZGVzQnlBc3NldFtpbmRleF0ucHVzaChub2RlKTtcclxuXHJcbiAgICAgICAgICB2aXNpYmxlTm9kZXMucHVzaChub2RlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdW5sb2FkZWRHZW9tZXRyeS5wdXNoKG5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gYWRkIGNoaWxkIG5vZGVzIHRvIHByaW9yaXR5UXVldWVcclxuICAgICAgY29uc3QgY2FtT2JqUG9zID0gcmVzdWx0W2luZGV4XS5jYW1PYmpQb3M7XHJcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gbm9kZS5nZXRDaGlsZHJlbigpO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcclxuXHJcbiAgICAgICAgbGV0IHdlaWdodCA9IDA7IFxyXG4gICAgICAgIGlmKHRydWUgfHwgY2FtZXJhLmlzUGVyc3BlY3RpdmVDYW1lcmEpe1xyXG4gICAgICAgICAgY29uc3Qgc3BoZXJlID0gY2hpbGQuZ2V0Qm91bmRpbmdTcGhlcmUoKTtcclxuICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gc3BoZXJlLnBvcy5kaXN0YW5jZVRvKGNhbU9ialBvcyk7XHJcbiAgICAgICAgICBjb25zdCByYWRpdXMgPSBzcGhlcmUucmFkaXVzO1xyXG4gICAgICAgICAgaWYoZGlzdGFuY2UgLSByYWRpdXMgPCAwKXtcclxuICAgICAgICAgICAgd2VpZ2h0ID0gTnVtYmVyLk1BWF9WQUxVRTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvdiA9IGNhbWVyYS5nZXRGb3YoKTtcclxuICAgICAgICAgICAgY29uc3Qgc2xvcGUgPSBNYXRoLnRhbihmb3YgLyAyKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHByb2pGYWN0b3IgPSAwLjUgLyAoc2xvcGUgKiBkaXN0YW5jZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjcmVlblZSYWRpdXMgPSByYWRpdXMgKiBwcm9qRmFjdG9yO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYoc2NyZWVuVlJhZGl1cyA8IHRoaXMubWluaW11bU5vZGVWU2l6ZSl7XHJcbiAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgd2VpZ2h0ID0gc2NyZWVuVlJhZGl1cztcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIFRPRE8gb3J0aG8gdmlzaWJpbGl0eVxyXG4gICAgICAgICAgbGV0IGJiID0gY2hpbGQuZ2V0Qm91bmRpbmdCb3goKTtcdFx0XHRcdFxyXG4gICAgICAgICAgbGV0IGRpc3RhbmNlID0gY2hpbGQuZ2V0Qm91bmRpbmdTcGhlcmUoKS5wb3MuZGlzdGFuY2VUbyhjYW1PYmpQb3MpO1xyXG4gICAgICAgICAgbGV0IGRpYWdvbmFsID0gYmIubWF4LmNsb25lKCkuc3ViKGJiLm1pbikubGVuZ3RoKCk7XHJcbiAgICAgICAgICAvL3dlaWdodCA9IGRpYWdvbmFsIC8gZGlzdGFuY2U7XHJcblxyXG4gICAgICAgICAgd2VpZ2h0ID0gZGlhZ29uYWw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcmlvcml0eVF1ZXVlLnB1c2goeyBpbmRleCwgbm9kZTogY2hpbGQsIHBhcmVudDogbm9kZSwgd2VpZ2h0OiB3ZWlnaHR9KTtcclxuICAgICAgfVxyXG4gICAgfS8vIGVuZCBwcmlvcml0eSBxdWV1ZSBsb29wXHJcbiAgICBcclxuICAgIGNvbnN0IHZpc2libGVOb2RlVGV4dHVyZU9mZnNldHMgPSB0aGlzLmNvbXB1dGVWaXNpYmlsaXR5VGV4dHVyZURhdGEodmlzaWJsZU5vZGVzKTtcclxuXHJcbiAgICB2aXNpYmxlTm9kZXNCeUFzc2V0LmZvckVhY2goKGFzc2V0VmlzaWJsZU5vZGVzLCBpbmRleCkgPT4ge1xyXG4gICAgICB0aGlzLmdscG90cmVlQXNzZXRzW2luZGV4XS5zZXRWaXNpYmxlTm9kZXMoXHJcbiAgICAgICAgYXNzZXRWaXNpYmxlTm9kZXMsIFxyXG4gICAgICAgIHRoaXMubHJ1LFxyXG4gICAgICAgIHZpc2libGVOb2RlVGV4dHVyZU9mZnNldHNcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICh1bmxvYWRlZEdlb21ldHJ5Lmxlbmd0aCA+IDApIHtcclxuICAgICAgLy8gRGlzYWJsZWQgdGVtcG9yYXJpbHlcclxuICAgICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCBNYXRoLm1pbihQb3RyZWUubWF4Tm9kZXNMb2FkaW5nLCB1bmxvYWRlZEdlb21ldHJ5Lmxlbmd0aCk7IGkrKykge1xyXG4gICAgICBjb25zdCBwcm9taXNlcyA9IFtdXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdW5sb2FkZWRHZW9tZXRyeS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXCJsb2FkOlwiLCB1bmxvYWRlZEdlb21ldHJ5W2ldLm5hbWUpO1xyXG4gICAgICAgICAgcHJvbWlzZXMucHVzaCh1bmxvYWRlZEdlb21ldHJ5W2ldLmxvYWQoKSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHByb21pc2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAvLyBBZnRlciBhbGwgdGhlIGxvYWRzIGhhdmUgZmluaXNoZWQuIFxyXG4gICAgICAgIC8vIHVwZGF0ZSBhZ2FpbiBzbyB3ZSBjYW4gcmVjb21wdXRlIGFuZCB2aXNpYmxpdHkuXHJcbiAgICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKCk9PntcclxuICAgICAgICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgdW5sb2FkZWRHZW9tZXRyeS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhcImxvYWRlZDpcIiwgdW5sb2FkZWRHZW9tZXRyeVtpXS5uYW1lKTtcclxuICAgICAgICAgIC8vIH1cclxuICAgICAgICAgIHRoaXMudmlzaWJsZU5vZGVzTmVlZFVwZGF0aW5nID0gdHJ1ZTtcclxuICAgICAgICAgIHRoaXMudXBkYXRlZC5lbWl0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDYXVzZXMgdW51c2VkIG5vZGVzIHRvIGJlIGZsdXNoZWQuXHJcbiAgICB0aGlzLmxydS5mcmVlTWVtb3J5KCk7XHJcblxyXG4gICAgLy8gdGhpcy51cGRhdGVkLmVtaXQoKTtcclxuICB9XHJcblxyXG4gIGNvbXB1dGVWaXNpYmlsaXR5VGV4dHVyZURhdGEobm9kZXMpe1xyXG5cclxuICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheShub2Rlcy5sZW5ndGggKiA0KTtcclxuICAgIGNvbnN0IHZpc2libGVOb2RlVGV4dHVyZU9mZnNldHMgPSBuZXcgTWFwKCk7XHJcblxyXG4gICAgLy8gY29weSBhcnJheVxyXG4gICAgbm9kZXMgPSBub2Rlcy5zbGljZSgpO1xyXG5cclxuICAgIC8vIHNvcnQgYnkgbGV2ZWwgYW5kIGluZGV4LCBlLmcuIHIsIHIwLCByMywgcjQsIHIwMSwgcjA3LCByMzAsIC4uLlxyXG4gICAgY29uc3Qgc29ydCA9IGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgIGNvbnN0IG5hID0gYS5uYW1lO1xyXG4gICAgICBjb25zdCBuYiA9IGIubmFtZTtcclxuICAgICAgaWYgKG5hLmxlbmd0aCAhPT0gbmIubGVuZ3RoKSByZXR1cm4gbmEubGVuZ3RoIC0gbmIubGVuZ3RoO1xyXG4gICAgICBpZiAobmEgPCBuYikgcmV0dXJuIC0xO1xyXG4gICAgICBpZiAobmEgPiBuYikgcmV0dXJuIDE7XHJcbiAgICAgIHJldHVybiAwO1xyXG4gICAgfTtcclxuICAgIG5vZGVzLnNvcnQoc29ydCk7XHJcblxyXG4gICAgLy8gY29uc3Qgbm9kZU1hcCA9IG5ldyBNYXAoKTtcclxuICAgIGNvbnN0IG9mZnNldHNUb0NoaWxkID0gbmV3IEFycmF5KG5vZGVzLmxlbmd0aCkuZmlsbChJbmZpbml0eSk7XHJcblxyXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xyXG4gICAgICAvLyBub2RlTWFwLnNldChub2RlLm5hbWUsIG5vZGUpO1xyXG4gICAgICB2aXNpYmxlTm9kZVRleHR1cmVPZmZzZXRzLnNldChub2RlLCBpKTtcclxuXHJcbiAgICAgIGlmKGkgPiAwKXtcclxuICAgICAgICBjb25zdCBpbmRleCA9IG5vZGUuaW5kZXg7Ly9wYXJzZUludChub2RlLm5hbWUuc2xpY2UoLTEpKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhub2RlLm5hbWUsIG5vZGUuaW5kZXgsIG5vZGUubmFtZS5zbGljZSgtMSkpXHJcbiAgICAgICAgLy8gY29uc3QgcGFyZW50TmFtZSA9IG5vZGUubmFtZS5zbGljZSgwLCAtMSk7XHJcbiAgICAgICAgY29uc3QgcGFyZW50ID0gbm9kZS5wYXJlbnQ7Ly9ub2RlTWFwLmdldChwYXJlbnROYW1lKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhub2RlLnBhcmVudC5uYW1lLCBwYXJlbnQubmFtZSwgbm9kZS5wYXJlbnQgPT09IHBhcmVudClcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBwYXJlbnRJbmRleCA9IHZpc2libGVOb2RlVGV4dHVyZU9mZnNldHMuZ2V0KHBhcmVudCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHBhcmVudE9mZnNldFRvQ2hpbGQgPSAoaSAtIHBhcmVudEluZGV4KTtcclxuXHJcbiAgICAgICAgY29uc3QgY2hpbGRPZmZzZXQgPSBNYXRoLm1pbihvZmZzZXRzVG9DaGlsZFtwYXJlbnRJbmRleF0sIHBhcmVudE9mZnNldFRvQ2hpbGQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFkZCB0aGlzIGJpdCB0byB0aGUgcGFyZW50J3MgY2hpbHMgYml0IG1hc2suXHJcbiAgICAgICAgZGF0YVtwYXJlbnRJbmRleCAqIDQgKyAwXSA9IGRhdGFbcGFyZW50SW5kZXggKiA0ICsgMF0gfCAoMSA8PCBpbmRleCk7XHJcbiAgICAgICAgZGF0YVtwYXJlbnRJbmRleCAqIDQgKyAxXSA9IChjaGlsZE9mZnNldCA+PiA4KTtcclxuICAgICAgICBkYXRhW3BhcmVudEluZGV4ICogNCArIDJdID0gKGNoaWxkT2Zmc2V0ICUgMjU2KTtcclxuICAgICAgICBvZmZzZXRzVG9DaGlsZFtwYXJlbnRJbmRleF0gPSBjaGlsZE9mZnNldDtcclxuICAgICAgfVxyXG5cclxuICAgICAgZGF0YVtpICogNCArIDNdID0gbm9kZS5uYW1lLmxlbmd0aCAtIDE7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy52aXNpYmxlTm9kZXNUZXh0dXJlLnBvcHVsYXRlKGRhdGEsIG5vZGVzLmxlbmd0aCwgMSk7XHJcbiAgICByZXR1cm4gdmlzaWJsZU5vZGVUZXh0dXJlT2Zmc2V0cztcclxuICB9XHJcblxyXG4gIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgLy8gUmVuZGVyaW5nXHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBkcmF3IG1ldGhvZC5cclxuICAgKiBAcGFyYW0ge2FueX0gcmVuZGVyc3RhdGUgLSBUaGUgcmVuZGVyc3RhdGUgcGFyYW0uXHJcbiAgICovXHJcbiAgZHJhdyhyZW5kZXJzdGF0ZSkge1xyXG4gICAgaWYgKHRoaXMuZ2xwb3RyZWVBc3NldHMubGVuZ3RoID09IDApIHJldHVybjtcclxuXHJcbiAgICBpZiAodGhpcy52aXNpYmxlTm9kZXNOZWVkVXBkYXRpbmcpe1xyXG4gICAgICB0aGlzLnVwZGF0ZVZpc2liaWxpdHkoKTtcclxuICAgICAgdGhpcy52aXNpYmxlTm9kZXNOZWVkVXBkYXRpbmcgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBnbCA9IHRoaXMuX19nbDtcclxuICBcclxuICAgIGdsLmRpc2FibGUoZ2wuQkxFTkQpO1xyXG4gICAgZ2wuZGVwdGhNYXNrKHRydWUpO1xyXG4gICAgZ2wuZW5hYmxlKGdsLkRFUFRIX1RFU1QpO1xyXG5cclxuICAgIHRoaXMuZ2xzaGFkZXIuYmluZChyZW5kZXJzdGF0ZSk7XHJcblxyXG4gICAgY29uc3QgeyB2aXNpYmxlTm9kZXMsIFBvaW50U2l6ZSB9ID0gcmVuZGVyc3RhdGUudW5pZnM7XHJcbiAgICBpZiAodmlzaWJsZU5vZGVzKVxyXG4gICAgICB0aGlzLnZpc2libGVOb2Rlc1RleHR1cmUuYmluZFRvVW5pZm9ybShyZW5kZXJzdGF0ZSwgdmlzaWJsZU5vZGVzKVxyXG5cclxuICAgIGdsLnVuaWZvcm0xZihQb2ludFNpemUubG9jYXRpb24sIHRoaXMucG9pbnRTaXplKTtcclxuICAgIFxyXG4gICAgLy8gUkVOREVSXHJcbiAgICB0aGlzLmdscG90cmVlQXNzZXRzLmZvckVhY2goIGEgPT4gYS5kcmF3KHJlbmRlcnN0YXRlKSlcclxuXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUaGUgZHJhd0hpZ2hsaWdodGVkR2VvbXMgbWV0aG9kLlxyXG4gICAqIEBwYXJhbSB7YW55fSByZW5kZXJzdGF0ZSAtIFRoZSByZW5kZXJzdGF0ZSBwYXJhbS5cclxuICAgKi9cclxuICBkcmF3SGlnaGxpZ2h0ZWRHZW9tcyhyZW5kZXJzdGF0ZSkge1xyXG4gICAgaWYgKHRoaXMuaGlsZ2hsaWdodGVkQXNzZXRzLmxlbmd0aCA9PSAwKSByZXR1cm47XHJcbiAgICBjb25zdCBnbCA9IHRoaXMuX19nbDtcclxuICBcclxuICAgIGdsLmRpc2FibGUoZ2wuQkxFTkQpO1xyXG4gICAgZ2wuZGVwdGhNYXNrKHRydWUpO1xyXG4gICAgZ2wuZW5hYmxlKGdsLkRFUFRIX1RFU1QpO1xyXG5cclxuICAgIHRoaXMuZ2xoaWdobGlnaHRTaGFkZXIuYmluZChyZW5kZXJzdGF0ZSk7XHJcbiAgICBcclxuICAgIGNvbnN0IHsgdmlzaWJsZU5vZGVzLCBQb2ludFNpemUgfSA9IHJlbmRlcnN0YXRlLnVuaWZzO1xyXG4gICAgaWYgKHZpc2libGVOb2RlcylcclxuICAgICAgdGhpcy52aXNpYmxlTm9kZXNUZXh0dXJlLmJpbmRUb1VuaWZvcm0ocmVuZGVyc3RhdGUsIHZpc2libGVOb2RlcylcclxuXHJcbiAgICBnbC51bmlmb3JtMWYoUG9pbnRTaXplLmxvY2F0aW9uLCB0aGlzLnBvaW50U2l6ZSk7XHJcblxyXG4gICAgdGhpcy5oaWxnaGxpZ2h0ZWRBc3NldHMuZm9yRWFjaCggYSA9PiBhLmRyYXdIaWdobGlnaHRlZEdlb21zKHJlbmRlcnN0YXRlKSlcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBkcmF3R2VvbURhdGEgbWV0aG9kLlxyXG4gICAqIEBwYXJhbSB7YW55fSByZW5kZXJzdGF0ZSAtIFRoZSByZW5kZXJzdGF0ZSBwYXJhbS5cclxuICAgKi9cclxuICBkcmF3R2VvbURhdGEocmVuZGVyc3RhdGUpIHtcclxuICAgIGlmICh0aGlzLmdscG90cmVlQXNzZXRzLmxlbmd0aCA9PSAwKSByZXR1cm47XHJcbiAgICBjb25zdCBnbCA9IHRoaXMuX19nbDtcclxuICBcclxuICAgIGdsLmRpc2FibGUoZ2wuQkxFTkQpO1xyXG4gICAgZ2wuZGVwdGhNYXNrKHRydWUpO1xyXG4gICAgZ2wuZW5hYmxlKGdsLkRFUFRIX1RFU1QpO1xyXG5cclxuICAgIHRoaXMuZ2xnZW9tZGF0YVNoYWRlci5iaW5kKHJlbmRlcnN0YXRlKTtcclxuICAgIFxyXG4gICAgY29uc3QgeyB2aXNpYmxlTm9kZXMsIFBvaW50U2l6ZSB9ID0gcmVuZGVyc3RhdGUudW5pZnM7XHJcbiAgICBpZiAodmlzaWJsZU5vZGVzKVxyXG4gICAgICB0aGlzLnZpc2libGVOb2Rlc1RleHR1cmUuYmluZFRvVW5pZm9ybShyZW5kZXJzdGF0ZSwgdmlzaWJsZU5vZGVzKVxyXG5cclxuICAgIGdsLnVuaWZvcm0xZihQb2ludFNpemUubG9jYXRpb24sIHRoaXMucG9pbnRTaXplKTtcclxuXHJcbiAgICAvLyBSRU5ERVJcclxuICAgIHRoaXMuZ2xwb3RyZWVBc3NldHMuZm9yRWFjaCgoYSwgaW5kZXgpPT4ge1xyXG4gICAgICBjb25zdCB7IHBhc3NJZCwgYXNzZXRJZCB9ID0gcmVuZGVyc3RhdGUudW5pZnM7XHJcbiAgICAgIGlmIChwYXNzSWQpIHtcclxuICAgICAgICBnbC51bmlmb3JtMWkocGFzc0lkLmxvY2F0aW9uLCB0aGlzLl9fcGFzc0luZGV4KTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoYXNzZXRJZCkge1xyXG4gICAgICAgIGdsLnVuaWZvcm0xaShhc3NldElkLmxvY2F0aW9uLCBpbmRleCk7XHJcbiAgICAgIH1cclxuICAgICAgYS5kcmF3R2VvbURhdGEocmVuZGVyc3RhdGUpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIGdldEdlb21JdGVtQW5kRGlzdCBtZXRob2QuXHJcbiAgICogQHBhcmFtIHthbnl9IGdlb21EYXRhIC0gVGhlIGdlb21EYXRhIHBhcmFtLlxyXG4gICAqL1xyXG4gIGdldEdlb21JdGVtQW5kRGlzdChnZW9tRGF0YSkge1xyXG4gICAgY29uc3QgaXRlbUlkID0gTWF0aC5yb3VuZChnZW9tRGF0YVsxXSlcclxuICAgIGNvbnN0IGRpc3QgPSBnZW9tRGF0YVszXVxyXG4gICAgY29uc3QgZ2xwb3RyZWVBc3NldCA9IHRoaXMuZ2xwb3RyZWVBc3NldHNbaXRlbUlkXVxyXG4gICAgaWYgKGdscG90cmVlQXNzZXQpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBnZW9tSXRlbTogZ2xwb3RyZWVBc3NldC5nZXRHZW9tSXRlbSgpLFxyXG4gICAgICAgIGRpc3QsXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/zea/GLPotreePass.js\n");

/***/ }),

/***/ "./src/zea/PotreeAsset.js":
/*!********************************!*\
  !*** ./src/zea/PotreeAsset.js ***!
  \********************************/
/*! exports provided: PotreeAsset */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PotreeAsset\", function() { return PotreeAsset; });\n/* harmony import */ var _loader_POCLoader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../loader/POCLoader */ \"./src/loader/POCLoader.js\");\n\r\n\r\n// Note: replaces PointCloudOctree.\r\n// \r\nclass PotreeAsset extends ZeaEngine.AssetItem {\r\n\r\n  constructor(){\r\n    super();\r\n    \r\n    this.loaded.setToggled(false)\r\n\r\n    this.pointBudget = 5 * 1000 * 1000;\r\n    this.minimumNodeVSize = 0.2; // Size, not in pixels, but a fraction of scnreen V height.\r\n    this.level = 0;\r\n    this.visibleNodes = [];\r\n\r\n    this.__loaded = false;\r\n\r\n    // this.fileParam = this.addParameter(new ZeaEngine.FilePathParameter('File'))\r\n    // this.fileParam.valueChanged.connect(mode => {\r\n    //   this.loaded.untoggle()\r\n  \t//   this.loadPointCloud(path, name)\r\n    // })\r\n    this.addParameter(new ZeaEngine.NumberParameter('Version', 0))\r\n    this.addParameter(new ZeaEngine.NumberParameter('Num Points', 0))\r\n  }\r\n\r\n  getGlobalMat4() {\r\n    return this.getGlobalXfo().toMat4();\r\n  }\r\n  \r\n  _cleanBoundingBox(bbox) {\r\n    bbox = super._cleanBoundingBox(bbox)\r\n    const mat4 = this.getGlobalMat4();\r\n    const geomBox = new ZeaEngine.Box3();\r\n    const { min, max } = this.pcoGeometry.tightBoundingBox\r\n    geomBox.min.set(min.x, min.y, min.z);\r\n    geomBox.max.set(max.x, max.y, max.z);\r\n    bbox.addBox3(geomBox, mat4)\r\n    return bbox;\r\n  }\r\n\r\n  setGeometry(pcoGeometry) {\r\n\r\n    this.pcoGeometry = pcoGeometry;\r\n\tconst mode = ZeaEngine.ValueSetMode.DATA_LOAD;\r\n\r\n    // const xfo = this.getGlobalXfo();\r\n    // xfo.tr = this.pcoGeometry.offset;\r\n    // this.setGlobalXfo(xfo, mode);\r\n\r\n\tthis.getParameter('Version').setValue(parseFloat(pcoGeometry.version), mode);\r\n\tif (pcoGeometry.numPoints)\r\n\t\tthis.getParameter('Num Points').setValue(pcoGeometry.numPoints, mode);\r\n    \r\n    // this._setBoundingBoxDirty()\r\n\r\n    this.loaded.emit();\r\n\r\n    // if (this.viewport)\r\n    //   this.updateVisibility();\r\n  }\r\n\r\n  getGeometry() {\r\n      return this.pcoGeometry;\r\n  };\r\n  \r\n  // // Load and add point cloud to scene\r\n  loadPointCloud(path, name) {\r\n    return new Promise((resolve, reject) => {\r\n      _loader_POCLoader__WEBPACK_IMPORTED_MODULE_0__[\"POCLoader\"].load(path, geometry => {\r\n        if (!geometry) {\r\n          reject(`failed to load point cloud from URL: ${path}`);\r\n        } else {\r\n          this.setGeometry(geometry)\r\n          resolve(geometry);\r\n        }\r\n      });\r\n    });\r\n  }\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9zcmMvemVhL1BvdHJlZUFzc2V0LmpzP2JkNTQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQThDOztBQUU5QztBQUNBO0FBQ087O0FBRVA7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLDJEQUFTO0FBQ2Y7QUFDQSx5REFBeUQsS0FBSztBQUM5RCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBIiwiZmlsZSI6Ii4vc3JjL3plYS9Qb3RyZWVBc3NldC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7UE9DTG9hZGVyfSBmcm9tIFwiLi4vbG9hZGVyL1BPQ0xvYWRlclwiO1xyXG5cclxuLy8gTm90ZTogcmVwbGFjZXMgUG9pbnRDbG91ZE9jdHJlZS5cclxuLy8gXHJcbmV4cG9ydCBjbGFzcyBQb3RyZWVBc3NldCBleHRlbmRzIFplYUVuZ2luZS5Bc3NldEl0ZW0ge1xyXG5cclxuICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgc3VwZXIoKTtcclxuICAgIFxyXG4gICAgdGhpcy5sb2FkZWQuc2V0VG9nZ2xlZChmYWxzZSlcclxuXHJcbiAgICB0aGlzLnBvaW50QnVkZ2V0ID0gNSAqIDEwMDAgKiAxMDAwO1xyXG4gICAgdGhpcy5taW5pbXVtTm9kZVZTaXplID0gMC4yOyAvLyBTaXplLCBub3QgaW4gcGl4ZWxzLCBidXQgYSBmcmFjdGlvbiBvZiBzY25yZWVuIFYgaGVpZ2h0LlxyXG4gICAgdGhpcy5sZXZlbCA9IDA7XHJcbiAgICB0aGlzLnZpc2libGVOb2RlcyA9IFtdO1xyXG5cclxuICAgIHRoaXMuX19sb2FkZWQgPSBmYWxzZTtcclxuXHJcbiAgICAvLyB0aGlzLmZpbGVQYXJhbSA9IHRoaXMuYWRkUGFyYW1ldGVyKG5ldyBaZWFFbmdpbmUuRmlsZVBhdGhQYXJhbWV0ZXIoJ0ZpbGUnKSlcclxuICAgIC8vIHRoaXMuZmlsZVBhcmFtLnZhbHVlQ2hhbmdlZC5jb25uZWN0KG1vZGUgPT4ge1xyXG4gICAgLy8gICB0aGlzLmxvYWRlZC51bnRvZ2dsZSgpXHJcbiAgXHQvLyAgIHRoaXMubG9hZFBvaW50Q2xvdWQocGF0aCwgbmFtZSlcclxuICAgIC8vIH0pXHJcbiAgICB0aGlzLmFkZFBhcmFtZXRlcihuZXcgWmVhRW5naW5lLk51bWJlclBhcmFtZXRlcignVmVyc2lvbicsIDApKVxyXG4gICAgdGhpcy5hZGRQYXJhbWV0ZXIobmV3IFplYUVuZ2luZS5OdW1iZXJQYXJhbWV0ZXIoJ051bSBQb2ludHMnLCAwKSlcclxuICB9XHJcblxyXG4gIGdldEdsb2JhbE1hdDQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5nZXRHbG9iYWxYZm8oKS50b01hdDQoKTtcclxuICB9XHJcbiAgXHJcbiAgX2NsZWFuQm91bmRpbmdCb3goYmJveCkge1xyXG4gICAgYmJveCA9IHN1cGVyLl9jbGVhbkJvdW5kaW5nQm94KGJib3gpXHJcbiAgICBjb25zdCBtYXQ0ID0gdGhpcy5nZXRHbG9iYWxNYXQ0KCk7XHJcbiAgICBjb25zdCBnZW9tQm94ID0gbmV3IFplYUVuZ2luZS5Cb3gzKCk7XHJcbiAgICBjb25zdCB7IG1pbiwgbWF4IH0gPSB0aGlzLnBjb0dlb21ldHJ5LnRpZ2h0Qm91bmRpbmdCb3hcclxuICAgIGdlb21Cb3gubWluLnNldChtaW4ueCwgbWluLnksIG1pbi56KTtcclxuICAgIGdlb21Cb3gubWF4LnNldChtYXgueCwgbWF4LnksIG1heC56KTtcclxuICAgIGJib3guYWRkQm94MyhnZW9tQm94LCBtYXQ0KVxyXG4gICAgcmV0dXJuIGJib3g7XHJcbiAgfVxyXG5cclxuICBzZXRHZW9tZXRyeShwY29HZW9tZXRyeSkge1xyXG5cclxuICAgIHRoaXMucGNvR2VvbWV0cnkgPSBwY29HZW9tZXRyeTtcclxuXHRjb25zdCBtb2RlID0gWmVhRW5naW5lLlZhbHVlU2V0TW9kZS5EQVRBX0xPQUQ7XHJcblxyXG4gICAgLy8gY29uc3QgeGZvID0gdGhpcy5nZXRHbG9iYWxYZm8oKTtcclxuICAgIC8vIHhmby50ciA9IHRoaXMucGNvR2VvbWV0cnkub2Zmc2V0O1xyXG4gICAgLy8gdGhpcy5zZXRHbG9iYWxYZm8oeGZvLCBtb2RlKTtcclxuXHJcblx0dGhpcy5nZXRQYXJhbWV0ZXIoJ1ZlcnNpb24nKS5zZXRWYWx1ZShwYXJzZUZsb2F0KHBjb0dlb21ldHJ5LnZlcnNpb24pLCBtb2RlKTtcclxuXHRpZiAocGNvR2VvbWV0cnkubnVtUG9pbnRzKVxyXG5cdFx0dGhpcy5nZXRQYXJhbWV0ZXIoJ051bSBQb2ludHMnKS5zZXRWYWx1ZShwY29HZW9tZXRyeS5udW1Qb2ludHMsIG1vZGUpO1xyXG4gICAgXHJcbiAgICAvLyB0aGlzLl9zZXRCb3VuZGluZ0JveERpcnR5KClcclxuXHJcbiAgICB0aGlzLmxvYWRlZC5lbWl0KCk7XHJcblxyXG4gICAgLy8gaWYgKHRoaXMudmlld3BvcnQpXHJcbiAgICAvLyAgIHRoaXMudXBkYXRlVmlzaWJpbGl0eSgpO1xyXG4gIH1cclxuXHJcbiAgZ2V0R2VvbWV0cnkoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnBjb0dlb21ldHJ5O1xyXG4gIH07XHJcbiAgXHJcbiAgLy8gLy8gTG9hZCBhbmQgYWRkIHBvaW50IGNsb3VkIHRvIHNjZW5lXHJcbiAgbG9hZFBvaW50Q2xvdWQocGF0aCwgbmFtZSkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgUE9DTG9hZGVyLmxvYWQocGF0aCwgZ2VvbWV0cnkgPT4ge1xyXG4gICAgICAgIGlmICghZ2VvbWV0cnkpIHtcclxuICAgICAgICAgIHJlamVjdChgZmFpbGVkIHRvIGxvYWQgcG9pbnQgY2xvdWQgZnJvbSBVUkw6ICR7cGF0aH1gKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5zZXRHZW9tZXRyeShnZW9tZXRyeSlcclxuICAgICAgICAgIHJlc29sdmUoZ2VvbWV0cnkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/zea/PotreeAsset.js\n");

/***/ }),

/***/ "./src/zea/PotreePointsShader.js":
/*!***************************************!*\
  !*** ./src/zea/PotreePointsShader.js ***!
  \***************************************/
/*! exports provided: PotreePointsShader, PotreePointsGeomDataShader, PotreePointsHilighlightShader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PotreePointsShader\", function() { return PotreePointsShader; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PotreePointsGeomDataShader\", function() { return PotreePointsGeomDataShader; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PotreePointsHilighlightShader\", function() { return PotreePointsHilighlightShader; });\n\r\n\r\nclass PotreePointsShader extends ZeaEngine.GLShader {\r\n  constructor(gl) {\r\n    super(gl)\r\n    this.__shaderStages['VERTEX_SHADER'] = ZeaEngine.shaderLibrary.parseShader(\r\n      'PointsShader.vertexShader',\r\n      `\r\nprecision highp float;\r\n\r\ninstancedattribute vec3 positions;\r\ninstancedattribute vec4 colors;\r\n\r\nuniform vec3 offset;\r\nuniform float uOctreeSize;\r\nuniform int uVNStart;\r\nuniform float uLevel;\r\nuniform float uOctreeSpacing;\r\nuniform sampler2D visibleNodes;\r\n\r\n\r\nuniform mat4 modelMatrix;\r\nuniform mat4 viewMatrix;\r\nuniform mat4 projectionMatrix;\r\nuniform float PointSize;\r\n\r\n<%include file=\"utils/quadVertexFromID.glsl\"/>\r\n\r\n/* VS Outputs */\r\nvarying vec4 v_color;\r\nvarying vec2 v_texCoord;\r\nvarying vec3 v_viewPos;\r\n\r\n// ---------------------\r\n// OCTREE\r\n// ---------------------\r\n\r\n/**\r\n * number of 1-bits up to inclusive index position\r\n * number is treated as if it were an integer in the range 0-255\r\n *\r\n */\r\nint numberOfOnes(int number, int index){\r\n    int numOnes = 0;\r\n    int tmp = 128;\r\n    for(int i = 7; i >= 0; i--){\r\n        \r\n        if(number >= tmp){\r\n            number = number - tmp;\r\n\r\n            if(i <= index){\r\n                numOnes++;\r\n            }\r\n        }\r\n        \r\n        tmp = tmp / 2;\r\n    }\r\n\r\n    return numOnes;\r\n}\r\n\r\n\r\n/**\r\n * checks whether the bit at index is 1\r\n * number is treated as if it were an integer in the range 0-255\r\n *\r\n */\r\nbool isBitSet(int number, int index){\r\n\r\n    // weird multi else if due to lack of proper array, int and bitwise support in WebGL 1.0\r\n    int powi = 1;\r\n    if(index == 0){\r\n        powi = 1;\r\n    }else if(index == 1){\r\n        powi = 2;\r\n    }else if(index == 2){\r\n        powi = 4;\r\n    }else if(index == 3){\r\n        powi = 8;\r\n    }else if(index == 4){\r\n        powi = 16;\r\n    }else if(index == 5){\r\n        powi = 32;\r\n    }else if(index == 6){\r\n        powi = 64;\r\n    }else if(index == 7){\r\n        powi = 128;\r\n    }else{\r\n        return false;\r\n    }\r\n\r\n    int ndp = number / powi;\r\n\r\n    return mod(float(ndp), 2.0) != 0.0;\r\n}\r\n\r\n\r\n/**\r\n * find the LOD at the point position\r\n */\r\nfloat getLOD(vec3 position){\r\n    \r\n    vec3 offset = vec3(0.0, 0.0, 0.0);\r\n    int iOffset = uVNStart;\r\n    float depth = uLevel;\r\n    for(float i = 0.0; i <= 30.0; i++){\r\n        float nodeSizeAtLevel = uOctreeSize / pow(2.0, i + uLevel + 0.0);\r\n        \r\n        vec3 index3d = (position-offset) / nodeSizeAtLevel;\r\n        index3d = floor(index3d + 0.5);\r\n        int index = int(round(4.0 * index3d.x + 2.0 * index3d.y + index3d.z));\r\n        \r\n        vec4 value = texture2D(visibleNodes, vec2(float(iOffset) / 2048.0, 0.0));\r\n        int mask = int(round(value.r * 255.0));\r\n\r\n        if(isBitSet(mask, index)){\r\n            // there are more visible child nodes at this position\r\n            int advanceG = int(round(value.g * 255.0)) * 256;\r\n            int advanceB = int(round(value.b * 255.0));\r\n            int advanceChild = numberOfOnes(mask, index - 1);\r\n            int advance = advanceG + advanceB + advanceChild;\r\n\r\n            iOffset = iOffset + advance;\r\n            \r\n            depth++;\r\n        }else{\r\n            // no more visible child nodes at this position\r\n            return value.a * 255.0;\r\n            //return depth;\r\n        }\r\n        \r\n        offset = offset + (nodeSizeAtLevel * 0.5) * index3d;\r\n    }\r\n    \r\n        \r\n    return depth;\r\n}\r\n\r\nfloat getPointSizeAttenuation(vec3 position){\r\n  float lod = getLOD(position);\r\n  // v_color = vec4(0.0, 0.0, 0.0, 1.0);\r\n  // v_color.r = lod / 5.0;\r\n  return pow(2.0, lod);\r\n}\r\n\r\n\r\nfloat getPointSize(vec3 position){\r\n\t\r\n\tfloat r = uOctreeSpacing * PointSize;\r\n  \r\n  float pointSize = r / getPointSizeAttenuation(position);\r\n\r\n\t// pointSize = clamp(pointSize, minSize, maxSize);\r\n\t\r\n\treturn pointSize;\r\n}\r\n\r\n\r\nvoid main(void) {\r\n  v_color = colors / 255.0; // Unsigned byte attributes need to be scaled down from 0-255 > 0..1\r\n  \r\n  vec2 quadPointPos = getQuadVertexPositionFromID();\r\n  v_texCoord = quadPointPos + 0.5;\r\n\r\n  vec4 pos = vec4(positions + offset, 1.);\r\n  mat4 modelViewMatrix = viewMatrix * modelMatrix;\r\n  vec4 viewPos = modelViewMatrix * pos;\r\n\r\n\tfloat pointSize = getPointSize(positions);\r\n\r\n  viewPos += vec4(vec3(quadPointPos, 0.0) * pointSize, 0.);\r\n  v_viewPos = -viewPos.xyz;\r\n\r\n  gl_Position = projectionMatrix * viewPos;\r\n\r\n//   gl_PointSize = PointSize;\r\n\r\n}\r\n`\r\n    )\r\n\r\n    this.__shaderStages['FRAGMENT_SHADER'] = ZeaEngine.shaderLibrary.parseShader(\r\n      'PointsShader.fragmentShader',\r\n      `\r\nprecision highp float;\r\n\r\nuniform color BaseColor;\r\n\r\n/* VS Outputs */\r\nvarying vec4 v_color;\r\nvarying vec2 v_texCoord;\r\n\r\n#ifdef ENABLE_ES3\r\nout vec4 fragColor;\r\n#endif\r\n\r\nvoid main(void) {\r\n\r\n#ifndef ENABLE_ES3\r\n  vec4 fragColor;\r\n#endif\r\n\r\n  if(length(v_texCoord - 0.5) > 0.5)\r\n    discard;\r\n\r\n  fragColor = v_color;\r\n  fragColor.a = 1.0;\r\n\r\n#ifndef ENABLE_ES3\r\n  gl_FragColor = fragColor;\r\n#endif\r\n}\r\n`\r\n    )\r\n  }\r\n\r\n  static getGeomDataShaderName() {\r\n    return 'PotreePointsGeomDataShader'\r\n  }\r\n\r\n  static getSelectedShaderName() {\r\n    return 'PotreePointsHilighlightShader'\r\n  }\r\n}\r\n\r\nZeaEngine.sgFactory.registerClass('PotreePointsShader', PotreePointsShader)\r\n\r\n\r\n\r\nclass PotreePointsGeomDataShader extends PotreePointsShader {\r\n  constructor(gl) {\r\n    super(gl)\r\n\r\n    this.__shaderStages['FRAGMENT_SHADER'] = ZeaEngine.shaderLibrary.parseShader(\r\n      'PointsShader.fragmentShader',\r\n      `\r\nprecision highp float;\r\n\r\nuniform int passId;\r\nuniform int assetId;\r\n\r\n/* VS Outputs */\r\nvarying vec4 v_color;\r\nvarying vec2 v_texCoord;\r\nvarying vec3 v_viewPos;\r\n\r\n#ifdef ENABLE_ES3\r\nout vec4 fragColor;\r\n#endif\r\n\r\nvoid main(void) {\r\n\r\n#ifndef ENABLE_ES3\r\n  vec4 fragColor;\r\n#endif\r\n\r\n  if(length(v_texCoord - 0.5) > 0.5)\r\n    discard;\r\n\r\n  float dist = length(v_viewPos);\r\n\r\n  fragColor.r = float(passId); \r\n  fragColor.g = float(assetId);\r\n  fragColor.b = 0.0;// TODO: store poly-id or something.\r\n  fragColor.a = dist;\r\n\r\n#ifndef ENABLE_ES3\r\n  gl_FragColor = fragColor;\r\n#endif\r\n}\r\n`\r\n    )\r\n  }\r\n}\r\n\r\nZeaEngine.sgFactory.registerClass('PotreePointsGeomDataShader', PotreePointsGeomDataShader)\r\n\r\nclass PotreePointsHilighlightShader extends PotreePointsShader {\r\n  constructor(gl) {\r\n    super(gl)\r\n\r\n    this.__shaderStages['FRAGMENT_SHADER'] = ZeaEngine.shaderLibrary.parseShader(\r\n      'PointsShader.fragmentShader',\r\n      `\r\nprecision highp float;\r\n\r\nuniform color highlightColor;\r\n\r\n/* VS Outputs */\r\nvarying vec4 v_color;\r\nvarying vec2 v_texCoord;\r\nvarying vec3 v_viewPos;\r\n\r\n#ifdef ENABLE_ES3\r\nout vec4 fragColor;\r\n#endif\r\n\r\nvoid main(void) {\r\n\r\n#ifndef ENABLE_ES3\r\n  vec4 fragColor;\r\n#endif\r\n\r\n  if(length(v_texCoord - 0.5) > 0.5)\r\n    discard;\r\n\r\n  fragColor = highlightColor;\r\n\r\n#ifndef ENABLE_ES3\r\n  gl_FragColor = fragColor;\r\n#endif\r\n}\r\n`\r\n    )\r\n  }\r\n}\r\n\r\nZeaEngine.sgFactory.registerClass('PotreePointsHilighlightShader', PotreePointsHilighlightShader)\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9zcmMvemVhL1BvdHJlZVBvaW50c1NoYWRlci5qcz85YWQwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixRQUFROztBQUUxQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFdBQVc7QUFDakM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBLDJCQUEyQjs7QUFFM0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSw4QjtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUV3RiIsImZpbGUiOiIuL3NyYy96ZWEvUG90cmVlUG9pbnRzU2hhZGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG5jbGFzcyBQb3RyZWVQb2ludHNTaGFkZXIgZXh0ZW5kcyBaZWFFbmdpbmUuR0xTaGFkZXIge1xyXG4gIGNvbnN0cnVjdG9yKGdsKSB7XHJcbiAgICBzdXBlcihnbClcclxuICAgIHRoaXMuX19zaGFkZXJTdGFnZXNbJ1ZFUlRFWF9TSEFERVInXSA9IFplYUVuZ2luZS5zaGFkZXJMaWJyYXJ5LnBhcnNlU2hhZGVyKFxyXG4gICAgICAnUG9pbnRzU2hhZGVyLnZlcnRleFNoYWRlcicsXHJcbiAgICAgIGBcclxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xyXG5cclxuaW5zdGFuY2VkYXR0cmlidXRlIHZlYzMgcG9zaXRpb25zO1xyXG5pbnN0YW5jZWRhdHRyaWJ1dGUgdmVjNCBjb2xvcnM7XHJcblxyXG51bmlmb3JtIHZlYzMgb2Zmc2V0O1xyXG51bmlmb3JtIGZsb2F0IHVPY3RyZWVTaXplO1xyXG51bmlmb3JtIGludCB1Vk5TdGFydDtcclxudW5pZm9ybSBmbG9hdCB1TGV2ZWw7XHJcbnVuaWZvcm0gZmxvYXQgdU9jdHJlZVNwYWNpbmc7XHJcbnVuaWZvcm0gc2FtcGxlcjJEIHZpc2libGVOb2RlcztcclxuXHJcblxyXG51bmlmb3JtIG1hdDQgbW9kZWxNYXRyaXg7XHJcbnVuaWZvcm0gbWF0NCB2aWV3TWF0cml4O1xyXG51bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDtcclxudW5pZm9ybSBmbG9hdCBQb2ludFNpemU7XHJcblxyXG48JWluY2x1ZGUgZmlsZT1cInV0aWxzL3F1YWRWZXJ0ZXhGcm9tSUQuZ2xzbFwiLz5cclxuXHJcbi8qIFZTIE91dHB1dHMgKi9cclxudmFyeWluZyB2ZWM0IHZfY29sb3I7XHJcbnZhcnlpbmcgdmVjMiB2X3RleENvb3JkO1xyXG52YXJ5aW5nIHZlYzMgdl92aWV3UG9zO1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIE9DVFJFRVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8qKlxyXG4gKiBudW1iZXIgb2YgMS1iaXRzIHVwIHRvIGluY2x1c2l2ZSBpbmRleCBwb3NpdGlvblxyXG4gKiBudW1iZXIgaXMgdHJlYXRlZCBhcyBpZiBpdCB3ZXJlIGFuIGludGVnZXIgaW4gdGhlIHJhbmdlIDAtMjU1XHJcbiAqXHJcbiAqL1xyXG5pbnQgbnVtYmVyT2ZPbmVzKGludCBudW1iZXIsIGludCBpbmRleCl7XHJcbiAgICBpbnQgbnVtT25lcyA9IDA7XHJcbiAgICBpbnQgdG1wID0gMTI4O1xyXG4gICAgZm9yKGludCBpID0gNzsgaSA+PSAwOyBpLS0pe1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKG51bWJlciA+PSB0bXApe1xyXG4gICAgICAgICAgICBudW1iZXIgPSBudW1iZXIgLSB0bXA7XHJcblxyXG4gICAgICAgICAgICBpZihpIDw9IGluZGV4KXtcclxuICAgICAgICAgICAgICAgIG51bU9uZXMrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0bXAgPSB0bXAgLyAyO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBudW1PbmVzO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIGNoZWNrcyB3aGV0aGVyIHRoZSBiaXQgYXQgaW5kZXggaXMgMVxyXG4gKiBudW1iZXIgaXMgdHJlYXRlZCBhcyBpZiBpdCB3ZXJlIGFuIGludGVnZXIgaW4gdGhlIHJhbmdlIDAtMjU1XHJcbiAqXHJcbiAqL1xyXG5ib29sIGlzQml0U2V0KGludCBudW1iZXIsIGludCBpbmRleCl7XHJcblxyXG4gICAgLy8gd2VpcmQgbXVsdGkgZWxzZSBpZiBkdWUgdG8gbGFjayBvZiBwcm9wZXIgYXJyYXksIGludCBhbmQgYml0d2lzZSBzdXBwb3J0IGluIFdlYkdMIDEuMFxyXG4gICAgaW50IHBvd2kgPSAxO1xyXG4gICAgaWYoaW5kZXggPT0gMCl7XHJcbiAgICAgICAgcG93aSA9IDE7XHJcbiAgICB9ZWxzZSBpZihpbmRleCA9PSAxKXtcclxuICAgICAgICBwb3dpID0gMjtcclxuICAgIH1lbHNlIGlmKGluZGV4ID09IDIpe1xyXG4gICAgICAgIHBvd2kgPSA0O1xyXG4gICAgfWVsc2UgaWYoaW5kZXggPT0gMyl7XHJcbiAgICAgICAgcG93aSA9IDg7XHJcbiAgICB9ZWxzZSBpZihpbmRleCA9PSA0KXtcclxuICAgICAgICBwb3dpID0gMTY7XHJcbiAgICB9ZWxzZSBpZihpbmRleCA9PSA1KXtcclxuICAgICAgICBwb3dpID0gMzI7XHJcbiAgICB9ZWxzZSBpZihpbmRleCA9PSA2KXtcclxuICAgICAgICBwb3dpID0gNjQ7XHJcbiAgICB9ZWxzZSBpZihpbmRleCA9PSA3KXtcclxuICAgICAgICBwb3dpID0gMTI4O1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGludCBuZHAgPSBudW1iZXIgLyBwb3dpO1xyXG5cclxuICAgIHJldHVybiBtb2QoZmxvYXQobmRwKSwgMi4wKSAhPSAwLjA7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogZmluZCB0aGUgTE9EIGF0IHRoZSBwb2ludCBwb3NpdGlvblxyXG4gKi9cclxuZmxvYXQgZ2V0TE9EKHZlYzMgcG9zaXRpb24pe1xyXG4gICAgXHJcbiAgICB2ZWMzIG9mZnNldCA9IHZlYzMoMC4wLCAwLjAsIDAuMCk7XHJcbiAgICBpbnQgaU9mZnNldCA9IHVWTlN0YXJ0O1xyXG4gICAgZmxvYXQgZGVwdGggPSB1TGV2ZWw7XHJcbiAgICBmb3IoZmxvYXQgaSA9IDAuMDsgaSA8PSAzMC4wOyBpKyspe1xyXG4gICAgICAgIGZsb2F0IG5vZGVTaXplQXRMZXZlbCA9IHVPY3RyZWVTaXplIC8gcG93KDIuMCwgaSArIHVMZXZlbCArIDAuMCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmVjMyBpbmRleDNkID0gKHBvc2l0aW9uLW9mZnNldCkgLyBub2RlU2l6ZUF0TGV2ZWw7XHJcbiAgICAgICAgaW5kZXgzZCA9IGZsb29yKGluZGV4M2QgKyAwLjUpO1xyXG4gICAgICAgIGludCBpbmRleCA9IGludChyb3VuZCg0LjAgKiBpbmRleDNkLnggKyAyLjAgKiBpbmRleDNkLnkgKyBpbmRleDNkLnopKTtcclxuICAgICAgICBcclxuICAgICAgICB2ZWM0IHZhbHVlID0gdGV4dHVyZTJEKHZpc2libGVOb2RlcywgdmVjMihmbG9hdChpT2Zmc2V0KSAvIDIwNDguMCwgMC4wKSk7XHJcbiAgICAgICAgaW50IG1hc2sgPSBpbnQocm91bmQodmFsdWUuciAqIDI1NS4wKSk7XHJcblxyXG4gICAgICAgIGlmKGlzQml0U2V0KG1hc2ssIGluZGV4KSl7XHJcbiAgICAgICAgICAgIC8vIHRoZXJlIGFyZSBtb3JlIHZpc2libGUgY2hpbGQgbm9kZXMgYXQgdGhpcyBwb3NpdGlvblxyXG4gICAgICAgICAgICBpbnQgYWR2YW5jZUcgPSBpbnQocm91bmQodmFsdWUuZyAqIDI1NS4wKSkgKiAyNTY7XHJcbiAgICAgICAgICAgIGludCBhZHZhbmNlQiA9IGludChyb3VuZCh2YWx1ZS5iICogMjU1LjApKTtcclxuICAgICAgICAgICAgaW50IGFkdmFuY2VDaGlsZCA9IG51bWJlck9mT25lcyhtYXNrLCBpbmRleCAtIDEpO1xyXG4gICAgICAgICAgICBpbnQgYWR2YW5jZSA9IGFkdmFuY2VHICsgYWR2YW5jZUIgKyBhZHZhbmNlQ2hpbGQ7XHJcblxyXG4gICAgICAgICAgICBpT2Zmc2V0ID0gaU9mZnNldCArIGFkdmFuY2U7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBkZXB0aCsrO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAvLyBubyBtb3JlIHZpc2libGUgY2hpbGQgbm9kZXMgYXQgdGhpcyBwb3NpdGlvblxyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUuYSAqIDI1NS4wO1xyXG4gICAgICAgICAgICAvL3JldHVybiBkZXB0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0ICsgKG5vZGVTaXplQXRMZXZlbCAqIDAuNSkgKiBpbmRleDNkO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAgICAgXHJcbiAgICByZXR1cm4gZGVwdGg7XHJcbn1cclxuXHJcbmZsb2F0IGdldFBvaW50U2l6ZUF0dGVudWF0aW9uKHZlYzMgcG9zaXRpb24pe1xyXG4gIGZsb2F0IGxvZCA9IGdldExPRChwb3NpdGlvbik7XHJcbiAgLy8gdl9jb2xvciA9IHZlYzQoMC4wLCAwLjAsIDAuMCwgMS4wKTtcclxuICAvLyB2X2NvbG9yLnIgPSBsb2QgLyA1LjA7XHJcbiAgcmV0dXJuIHBvdygyLjAsIGxvZCk7XHJcbn1cclxuXHJcblxyXG5mbG9hdCBnZXRQb2ludFNpemUodmVjMyBwb3NpdGlvbil7XHJcblx0XHJcblx0ZmxvYXQgciA9IHVPY3RyZWVTcGFjaW5nICogUG9pbnRTaXplO1xyXG4gIFxyXG4gIGZsb2F0IHBvaW50U2l6ZSA9IHIgLyBnZXRQb2ludFNpemVBdHRlbnVhdGlvbihwb3NpdGlvbik7XHJcblxyXG5cdC8vIHBvaW50U2l6ZSA9IGNsYW1wKHBvaW50U2l6ZSwgbWluU2l6ZSwgbWF4U2l6ZSk7XHJcblx0XHJcblx0cmV0dXJuIHBvaW50U2l6ZTtcclxufVxyXG5cclxuXHJcbnZvaWQgbWFpbih2b2lkKSB7XHJcbiAgdl9jb2xvciA9IGNvbG9ycyAvIDI1NS4wOyAvLyBVbnNpZ25lZCBieXRlIGF0dHJpYnV0ZXMgbmVlZCB0byBiZSBzY2FsZWQgZG93biBmcm9tIDAtMjU1ID4gMC4uMVxyXG4gIFxyXG4gIHZlYzIgcXVhZFBvaW50UG9zID0gZ2V0UXVhZFZlcnRleFBvc2l0aW9uRnJvbUlEKCk7XHJcbiAgdl90ZXhDb29yZCA9IHF1YWRQb2ludFBvcyArIDAuNTtcclxuXHJcbiAgdmVjNCBwb3MgPSB2ZWM0KHBvc2l0aW9ucyArIG9mZnNldCwgMS4pO1xyXG4gIG1hdDQgbW9kZWxWaWV3TWF0cml4ID0gdmlld01hdHJpeCAqIG1vZGVsTWF0cml4O1xyXG4gIHZlYzQgdmlld1BvcyA9IG1vZGVsVmlld01hdHJpeCAqIHBvcztcclxuXHJcblx0ZmxvYXQgcG9pbnRTaXplID0gZ2V0UG9pbnRTaXplKHBvc2l0aW9ucyk7XHJcblxyXG4gIHZpZXdQb3MgKz0gdmVjNCh2ZWMzKHF1YWRQb2ludFBvcywgMC4wKSAqIHBvaW50U2l6ZSwgMC4pO1xyXG4gIHZfdmlld1BvcyA9IC12aWV3UG9zLnh5ejtcclxuXHJcbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmlld1BvcztcclxuXHJcbi8vICAgZ2xfUG9pbnRTaXplID0gUG9pbnRTaXplO1xyXG5cclxufVxyXG5gXHJcbiAgICApXHJcblxyXG4gICAgdGhpcy5fX3NoYWRlclN0YWdlc1snRlJBR01FTlRfU0hBREVSJ10gPSBaZWFFbmdpbmUuc2hhZGVyTGlicmFyeS5wYXJzZVNoYWRlcihcclxuICAgICAgJ1BvaW50c1NoYWRlci5mcmFnbWVudFNoYWRlcicsXHJcbiAgICAgIGBcclxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xyXG5cclxudW5pZm9ybSBjb2xvciBCYXNlQ29sb3I7XHJcblxyXG4vKiBWUyBPdXRwdXRzICovXHJcbnZhcnlpbmcgdmVjNCB2X2NvbG9yO1xyXG52YXJ5aW5nIHZlYzIgdl90ZXhDb29yZDtcclxuXHJcbiNpZmRlZiBFTkFCTEVfRVMzXHJcbm91dCB2ZWM0IGZyYWdDb2xvcjtcclxuI2VuZGlmXHJcblxyXG52b2lkIG1haW4odm9pZCkge1xyXG5cclxuI2lmbmRlZiBFTkFCTEVfRVMzXHJcbiAgdmVjNCBmcmFnQ29sb3I7XHJcbiNlbmRpZlxyXG5cclxuICBpZihsZW5ndGgodl90ZXhDb29yZCAtIDAuNSkgPiAwLjUpXHJcbiAgICBkaXNjYXJkO1xyXG5cclxuICBmcmFnQ29sb3IgPSB2X2NvbG9yO1xyXG4gIGZyYWdDb2xvci5hID0gMS4wO1xyXG5cclxuI2lmbmRlZiBFTkFCTEVfRVMzXHJcbiAgZ2xfRnJhZ0NvbG9yID0gZnJhZ0NvbG9yO1xyXG4jZW5kaWZcclxufVxyXG5gXHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0R2VvbURhdGFTaGFkZXJOYW1lKCkge1xyXG4gICAgcmV0dXJuICdQb3RyZWVQb2ludHNHZW9tRGF0YVNoYWRlcidcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRTZWxlY3RlZFNoYWRlck5hbWUoKSB7XHJcbiAgICByZXR1cm4gJ1BvdHJlZVBvaW50c0hpbGlnaGxpZ2h0U2hhZGVyJ1xyXG4gIH1cclxufVxyXG5cclxuWmVhRW5naW5lLnNnRmFjdG9yeS5yZWdpc3RlckNsYXNzKCdQb3RyZWVQb2ludHNTaGFkZXInLCBQb3RyZWVQb2ludHNTaGFkZXIpXHJcblxyXG5cclxuXHJcbmNsYXNzIFBvdHJlZVBvaW50c0dlb21EYXRhU2hhZGVyIGV4dGVuZHMgUG90cmVlUG9pbnRzU2hhZGVyIHtcclxuICBjb25zdHJ1Y3RvcihnbCkge1xyXG4gICAgc3VwZXIoZ2wpXHJcblxyXG4gICAgdGhpcy5fX3NoYWRlclN0YWdlc1snRlJBR01FTlRfU0hBREVSJ10gPSBaZWFFbmdpbmUuc2hhZGVyTGlicmFyeS5wYXJzZVNoYWRlcihcclxuICAgICAgJ1BvaW50c1NoYWRlci5mcmFnbWVudFNoYWRlcicsXHJcbiAgICAgIGBcclxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xyXG5cclxudW5pZm9ybSBpbnQgcGFzc0lkO1xyXG51bmlmb3JtIGludCBhc3NldElkO1xyXG5cclxuLyogVlMgT3V0cHV0cyAqL1xyXG52YXJ5aW5nIHZlYzQgdl9jb2xvcjtcclxudmFyeWluZyB2ZWMyIHZfdGV4Q29vcmQ7XHJcbnZhcnlpbmcgdmVjMyB2X3ZpZXdQb3M7XHJcblxyXG4jaWZkZWYgRU5BQkxFX0VTM1xyXG5vdXQgdmVjNCBmcmFnQ29sb3I7XHJcbiNlbmRpZlxyXG5cclxudm9pZCBtYWluKHZvaWQpIHtcclxuXHJcbiNpZm5kZWYgRU5BQkxFX0VTM1xyXG4gIHZlYzQgZnJhZ0NvbG9yO1xyXG4jZW5kaWZcclxuXHJcbiAgaWYobGVuZ3RoKHZfdGV4Q29vcmQgLSAwLjUpID4gMC41KVxyXG4gICAgZGlzY2FyZDtcclxuXHJcbiAgZmxvYXQgZGlzdCA9IGxlbmd0aCh2X3ZpZXdQb3MpO1xyXG5cclxuICBmcmFnQ29sb3IuciA9IGZsb2F0KHBhc3NJZCk7IFxyXG4gIGZyYWdDb2xvci5nID0gZmxvYXQoYXNzZXRJZCk7XHJcbiAgZnJhZ0NvbG9yLmIgPSAwLjA7Ly8gVE9ETzogc3RvcmUgcG9seS1pZCBvciBzb21ldGhpbmcuXHJcbiAgZnJhZ0NvbG9yLmEgPSBkaXN0O1xyXG5cclxuI2lmbmRlZiBFTkFCTEVfRVMzXHJcbiAgZ2xfRnJhZ0NvbG9yID0gZnJhZ0NvbG9yO1xyXG4jZW5kaWZcclxufVxyXG5gXHJcbiAgICApXHJcbiAgfVxyXG59XHJcblxyXG5aZWFFbmdpbmUuc2dGYWN0b3J5LnJlZ2lzdGVyQ2xhc3MoJ1BvdHJlZVBvaW50c0dlb21EYXRhU2hhZGVyJywgUG90cmVlUG9pbnRzR2VvbURhdGFTaGFkZXIpXHJcblxyXG5jbGFzcyBQb3RyZWVQb2ludHNIaWxpZ2hsaWdodFNoYWRlciBleHRlbmRzIFBvdHJlZVBvaW50c1NoYWRlciB7XHJcbiAgY29uc3RydWN0b3IoZ2wpIHtcclxuICAgIHN1cGVyKGdsKVxyXG5cclxuICAgIHRoaXMuX19zaGFkZXJTdGFnZXNbJ0ZSQUdNRU5UX1NIQURFUiddID0gWmVhRW5naW5lLnNoYWRlckxpYnJhcnkucGFyc2VTaGFkZXIoXHJcbiAgICAgICdQb2ludHNTaGFkZXIuZnJhZ21lbnRTaGFkZXInLFxyXG4gICAgICBgXHJcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcclxuXHJcbnVuaWZvcm0gY29sb3IgaGlnaGxpZ2h0Q29sb3I7XHJcblxyXG4vKiBWUyBPdXRwdXRzICovXHJcbnZhcnlpbmcgdmVjNCB2X2NvbG9yO1xyXG52YXJ5aW5nIHZlYzIgdl90ZXhDb29yZDtcclxudmFyeWluZyB2ZWMzIHZfdmlld1BvcztcclxuXHJcbiNpZmRlZiBFTkFCTEVfRVMzXHJcbm91dCB2ZWM0IGZyYWdDb2xvcjtcclxuI2VuZGlmXHJcblxyXG52b2lkIG1haW4odm9pZCkge1xyXG5cclxuI2lmbmRlZiBFTkFCTEVfRVMzXHJcbiAgdmVjNCBmcmFnQ29sb3I7XHJcbiNlbmRpZlxyXG5cclxuICBpZihsZW5ndGgodl90ZXhDb29yZCAtIDAuNSkgPiAwLjUpXHJcbiAgICBkaXNjYXJkO1xyXG5cclxuICBmcmFnQ29sb3IgPSBoaWdobGlnaHRDb2xvcjtcclxuXHJcbiNpZm5kZWYgRU5BQkxFX0VTM1xyXG4gIGdsX0ZyYWdDb2xvciA9IGZyYWdDb2xvcjtcclxuI2VuZGlmXHJcbn1cclxuYFxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5cclxuWmVhRW5naW5lLnNnRmFjdG9yeS5yZWdpc3RlckNsYXNzKCdQb3RyZWVQb2ludHNIaWxpZ2hsaWdodFNoYWRlcicsIFBvdHJlZVBvaW50c0hpbGlnaGxpZ2h0U2hhZGVyKVxyXG5cclxuZXhwb3J0IHsgUG90cmVlUG9pbnRzU2hhZGVyLCBQb3RyZWVQb2ludHNHZW9tRGF0YVNoYWRlciwgUG90cmVlUG9pbnRzSGlsaWdobGlnaHRTaGFkZXIgfVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/zea/PotreePointsShader.js\n");

/***/ }),

/***/ "./src/zea/index.js":
/*!**************************!*\
  !*** ./src/zea/index.js ***!
  \**************************/
/*! exports provided: version, GLPotreePass, PotreeAsset */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"version\", function() { return version; });\n/* harmony import */ var _GLPotreePass_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GLPotreePass.js */ \"./src/zea/GLPotreePass.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GLPotreePass\", function() { return _GLPotreePass_js__WEBPACK_IMPORTED_MODULE_0__[\"GLPotreePass\"]; });\n\n/* harmony import */ var _PotreeAsset_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PotreeAsset.js */ \"./src/zea/PotreeAsset.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"PotreeAsset\", function() { return _PotreeAsset_js__WEBPACK_IMPORTED_MODULE_1__[\"PotreeAsset\"]; });\n\n\r\n\r\nconst version = {\r\n\tmajor: 1,\r\n\tminor: 6,\r\n\tsuffix: ''\r\n};\r\n\r\nconsole.log('ZeaPotree ' + version.major + '.' + version.minor + version.suffix);\r\n\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9aZWFQb3RyZWUvLi9zcmMvemVhL2luZGV4LmpzP2Y3MzgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRWtDO0FBQ0QiLCJmaWxlIjoiLi9zcmMvemVhL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG5leHBvcnQgY29uc3QgdmVyc2lvbiA9IHtcclxuXHRtYWpvcjogMSxcclxuXHRtaW5vcjogNixcclxuXHRzdWZmaXg6ICcnXHJcbn07XHJcblxyXG5jb25zb2xlLmxvZygnWmVhUG90cmVlICcgKyB2ZXJzaW9uLm1ham9yICsgJy4nICsgdmVyc2lvbi5taW5vciArIHZlcnNpb24uc3VmZml4KTtcclxuXHJcbmV4cG9ydCAqIGZyb20gXCIuL0dMUG90cmVlUGFzcy5qc1wiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9Qb3RyZWVBc3NldC5qc1wiO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/zea/index.js\n");

/***/ })

/******/ });
});